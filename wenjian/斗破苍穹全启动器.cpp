#include<bits/stdc++.h>
#include<stdio.h>
#include<iostream>
#include<ctime>
#include<conio.h>
#include<time.h>
#include<cmath>
#include<windows.h> //SLEEP函数
using namespace std;
namespace dpcq2_12_3 {
	int shen = 0;
	int ui = 0;
	int sheng = 1;
	void v2_11_3v2_11_3SetColorAndBackground(int ForgC, int BackC) {
		WORD wColor = ((BackC & 0x0F) << 4) + (ForgC & 0x0F);
		SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), wColor);
	}
	void v2_11_3Bling() {
		for (int i = 0; i <= 5; i++) {
			system("color 1A");
			Sleep(20);
			if (sheng == 1) if (sheng == 1) Beep(1200, 50);
			system("color 2B");
			Sleep(20);
			system("color 3C");
			Sleep(20);
			system("color 4D");
			Sleep(20);
			if (sheng == 1) Beep(1200, 50);
			system("color 5D");
			Sleep(20);
			system("color 6E");
			Sleep(20);
			system("color 7F");
			Sleep(20);
			if (sheng == 1) Beep(1200, 50);
		}
	}
	void v2_11_3Start() {
		if (sheng == 1) Beep(3200, 50);
		system("color 8E");
		cout << " \n";
		cout << "                ■                      ■                 \n";
		Sleep(50);
		cout << "    ■          ■              ■       ■                \n";
		Sleep(50);
		cout << "      ■    ■■■■■          ■■■   ■   ■■         \n";
		Sleep(50);
		cout << "               ■   ■          ■    ■■■■             \n";
		Sleep(50);
		cout << "       ■ ■■■■■■■      ■■■     ■    ■          \n";
		Sleep(50);
		cout << "      ■       ■             ■  ■      ■ ■            \n";
		Sleep(50);
		cout << "     ■     ■    ■          ■  ■     ■■              \n";
		Sleep(50);
		cout << "    ■    ■        ■■      ■■■        ■ ■          \n";
		Sleep(50);
		cout << "                                             ■            \n";
		Sleep(50);
		cout << " 欢迎来到 [决战苍穹]   ■      ■                          \n";
		Sleep(50);
		cout << "                    }}}}}}}}            ■         \n";
		Sleep(50);
		cout << "  zty郑桐羽呀出品      ■      ■        }}}}}}}}}\n";
		Sleep(50);
		cout << "                           }          }               }\n";
		Sleep(50);
		cout << "  2.12.3 正式版        }■  ■}        ■           ■  \n";
		Sleep(50);
		cout << "                     }  }}}  }     ■ }}}}}  ■ \n";
		Sleep(50);
		cout << " 新增 皇冠竞技场         ■  ■                     ■    \n";
		Sleep(50);
		cout << "                         ■■■            }}}}}     \n";
		Sleep(50);
		cout << " zty出品，必属精品       ■    ■          ■             \n";
		Sleep(50);
		cout << "                          }}}           }}}}}     \n";
		Sleep(50);
		cout << " 努力通关吧！                                       ■    \n";
		Sleep(50);
		cout << "                                                }  ■    \n";
		Sleep(50);
		cout << " 输入“1 ”下一页        zty出品                  ■      \n\n";
		Sleep(50);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	void v2_11_3Start2() {
		system("color 8E");
		system("cls");
		if (sheng == 1) Beep(3200, 50);
		cout << "                                                \n";
		Sleep(50);
		cout << "        ■ ■■■        ■■■  ■      ■     \n";
		Sleep(50);
		cout << "    ■■      ■       ■   ■  ■       ■     \n";
		Sleep(50);
		cout << "            ■      ■     ■   ■       ■     \n";
		Sleep(50);
		cout << "           ■   ■■      ■    ■       ■     \n";
		Sleep(50);
		cout << "         ■  ■            ■  ■ ■     ■     \n";
		Sleep(50);
		cout << "       ■■■               ■■    ■■■      \n";
		Sleep(50);
		cout << "                                         ■     \n";
		Sleep(50);
		cout << "                                 ■      ■     \n";
		Sleep(50);
		cout << " 欢迎来到 [决战苍穹]               ■    ■     \n";
		Sleep(50);
		cout << "                                     ■■       \n";
		Sleep(50);
		cout << "  zty郑桐羽呀出品        ■                     \n";
		Sleep(50);
		cout << "                     ■  ■  ■     ■■■■    \n";
		Sleep(50);
		cout << "  2.12.3 正式版      ■■■■■     ■    ■    \n";
		Sleep(50);
		cout << "                         ■         ■■■■    \n";
		Sleep(50);
		cout << " 新增 皇冠竞技场     ■  ■  ■                 \n";
		Sleep(50);
		cout << "                     ■■■■■  ■■■  ■■■ \n";
		Sleep(50);
		cout << " zty出品，必属精品               ■  ■  ■  ■ \n";
		Sleep(50);
		cout << "                                 ■■■  ■■■ \n";
		Sleep(50);
		cout << " 努力通关吧！                                   \n";
		Sleep(50);
		cout << "                                                \n";
		Sleep(50);
		cout << " 输入“1 ”开始游戏                    \n\n";
		Sleep(50);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	int boss1 = 0, boss2 = 0;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Diren {//竞技场敌人的结构体
		//	char wupin1[20];
		//	char wupin2[20];
		int attack;
		int defense;
		int health;
		int money;
		int level;
		long int exp;
	} diren = {100, 80, 200, 0, 0, 0};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
	//怪，拿格伦石人举例
	// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
	//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 65, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 55, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 55, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 85, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 55, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 45, 1, 1},
	xiyi = {"毒蜴", "鳞片", 20, 25, 80, 30, 35, 3, 75, 2, 2},
	huolong = {"喷火龙", "巨龙晶石", 200, 250, 1000, 1000, 500, 4, 45, 2, 0},
	shibing = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 45, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 55, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 50, 2, 2},
	bossno1 = {"凋零女巫", "\0", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 500, 10, 75, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 65, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "龙鳞", 500, 40 * 20, 5000, 8000, 4500, 9, 65, 6, 1},
	gst = {"凋零共生体", "命令之书", 1800, 65 * 10, 15000, 20000, 1000, 16, 95, 1, 0},
	dlkl = {"凋零骷髅", "凋零之骨", 3000, 30 * 10, 12000, 20000, 1000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 500000, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int lun = 0;
	int he = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, yuanzidan = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 120, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 300, fang4n = 0, fang5 = 1200, fang5n = 0, fang6 = 250, fang6n = 0, fang7 = 60, fang7n = 0, fang4X = 1500, fang4Xn = 0, mfang = 1800, mfangn = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 200, gong4n = 0, gong5 = 625, gong5n = 0, gong6 = 250, gong6n = 0, gong7 = 45, gong7n = 0, gong4X = 850, gong4Xn = 0, mgong = 1250, mgongn = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0, mingshu = 0, zhadan = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	int lp = 0, ll = 0;
	void v2_11_3AddWupin(int);
	int v2_11_3AttackResult();
	void v2_11_3BattleAct();  //      ____
	void v2_11_3ChooseWupin();  //   /___/|
	void v2_11_3DisplayState();  //  |   |/
	void v2_11_3yidongcaidan();     //
	int v2_11_3SuiJi();
	int v2_11_3SuiJi100();
	void v2_11_3jingjishengji();
	int v2_11_3jingjipanduan();
	void v2_11_3jingjicaidan();
	void v2_11_3WhetherLevelUp();
	void v2_11_3SlowDisplay(char *);
	int main() {
		if (sheng == 1) Beep(1200, 100);
		MessageBox(NULL, "欢迎来到决战苍穹 2.12.3 正式版 ！", "决战苍穹 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		v2_11_3Start();
		v2_11_3Bling();
		v2_11_3Start2();
		v2_11_3Bling();
		int kaishi;
		char player_name[21];
		//Sleep(100);system("color A3");
		//Sleep(50);system("color E4");
		//Sleep(50);system("color B3");
		//Sleep(50);system("color E4");
		//Sleep(50);system("color 34");
		//Sleep(50);system("color E3");
		//Sleep(50);system("color 54");
		//Sleep(50);system("color E3");
		//Sleep(50);system("color 43");
		//Sleep(50);system("color E4");
		//Sleep(50);system("color 93");
		//Sleep(50);system("color E4");
		//Sleep(50);system("color C3");
		//Sleep(50);system("color E4");
		//Sleep(50);system("color D3");
		//Sleep(50);system("color E4");
		//Sleep(50);system("color F3");
		//Sleep(50);system("color E4");
		//Sleep(50);system("color 8E");
		//printf("                            _________________________________                    ");system("color 8E");
		//printf("                          /________________________________/|                    ");system("color 8E");
		//printf("                _.+=*^--{|欢迎来到 [决战苍穹] 2.11.1 正式版|}--^*=+.              ");system("color 8E");
		//printf("                                                \n");system("color 8E");
		//如果想使用外挂，名字请输入：“zty ”。
		Sleep(300);
		if (sheng == 1) Beep(1200, 100);
		system("cls");
		printf("这里是决战苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 8E");
		scanf("%s", player_name);
		Sleep(300);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			if (sheng == 1) Beep(5200, 300);
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
			system("pause");
		}
		getchar();
		v2_11_3yidongcaidan();
		return 0;
	}
	int v2_11_3SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	int v2_11_3SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void v2_11_3ChooseWupin() { //选择物品 并使用
		if (sheng == 1) Beep(1200, 100);
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						boom--;
						guai.health -= 100;
						v2_11_3AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						dubiao--;
						guai.health -= 200;
						v2_11_3AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						yuanzidan--;
						guai.health -= 1500;
						v2_11_3AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					if (sheng == 1) Beep(1200, 100);
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				Sleep(500);
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					Sleep(500);
					if (sheng == 1) Beep(1200, 100);
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				Sleep(500);
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						Sleep(500);
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						zhadan--;
						guai.health -= 15000;
						v2_11_3AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	void v2_11_3jingjiwupin() { //选择物品 并使用
		if (sheng == 1) Beep(1200, 100);
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						boom--;
						diren.health -= 100;
						v2_11_3AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				Sleep(500);
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						dubiao--;
						diren.health -= 200;
						v2_11_3AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				Sleep(500);
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						yuanzidan--;
						diren.health -= 1500;
						v2_11_3AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				Sleep(500);
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
					Sleep(500);
					if (sheng == 1) Beep(1200, 100);
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				Sleep(500);
				break;
			case 12:
				if (miansi > 0) {
					if (sheng == 1) Beep(1200, 100);
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				Sleep(500);
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					Sleep(500);
					if (sheng == 1) Beep(1200, 100);
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				Sleep(500);
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						zhadan--;
						guai.health -= 15000;
						v2_11_3AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int v2_11_3AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			Sleep(500);
			Sleep(500);
			if (sheng == 1) Beep(1200, 100);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = v2_11_3SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				if (sheng == 1) Beep(1200, 100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				Sleep(500);
				Sleep(500);
				v2_11_3AddWupin(guai.wupin_sign);
			}
			v2_11_3WhetherLevelUp();
			if (strcmp(guai.name, ".+*凋零风暴*+.") == 0) {
				printf("结束了\n\n");
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				if (sheng == 1) Beep(1200, 100);
				system("color 8C");
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = v2_11_3SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
				Sleep(500);
				Sleep(500);
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
				Sleep(500);
				Sleep(500);
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				money -= player.level * 500;
				player.health = player.max_health / 5;
				v2_11_3yidongcaidan();//
				return 1;
			}
		}
		return 0;
	}
	void v2_11_3AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 2:
				fang3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 3:
				lp++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 4:
				strongman_arm++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 5:
				gong4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 6:
				gong3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 7:
				gong2n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 8:
				gong5n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 9:
				ll++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 10:
				diaolingxin++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 11:
				fang6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 12:
				gong6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 13:
				gong7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 14:
				fang7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 15:
				diaolingxinhave++;
				if (sheng == 1) Beep(1200, 100);
				boss1 = 1;
				break;
			case 16:
				mingshu++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 17:
				boss2 = 1;
				if (sheng == 1) Beep(1200, 100);
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void v2_11_3WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				Sleep(500);
				Sleep(500);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l2);
				system("color 8E");
				Sleep(500);
				Sleep(500);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l3);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}

	void v2_11_3yidongcaidan() { //正常行为菜单
		while (1) {
			// \(1000);
			// system("cls");
			if (ui == 0) {
				system("cls");
				lun = 0;
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n  1,移动     2,道具     3,对话  4,查看状态 \n\n  5,装备  6,关于游戏    7,后台   8,合成台 \n\n  9,设置  10,打开背包 \n\n");
				system("color 8E");
				if (sheng == 1) Beep(1200, 100);
				puts("=============================================================================");
				system("color 8E");
			} else {
				system("cls");
				lun = 0;
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,后台 8,合成台 9,设置 10,背包\n\n\n\n");
				system("color 8E");
				puts("=============================================================================");
				system("color 8E");
			}
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 8E");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3,北朝商会  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "6,皇冠竞技场\n\n\n";
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 8E");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 8E");
										printf("金币：%d", money);
										system("color 8E");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 8E");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 8E");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("匕首:%d个\n", gong1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("西洋剑:%d个\n", gong2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("碧血战锤:%d个\n", gong3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 8E");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，鳞甲￥500 3，重甲￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("布衣:%d个\n", fang1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("鳞甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("鳞甲:%d个\n", fang2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("重甲:%d个\n", fang3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 8E");
											break;

									}
									printf("金币：%d\n", money);
									system("color 8E");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 8E");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手雷：%d\n", boom);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												Sleep(500);
											} else {
												printf("钱不够!\n");
												Sleep(500);
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
												Sleep(500);
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("毒镖：%d\n", dubiao);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												Sleep(500);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												Sleep(500);
											}
											break;
										case 3:
											if (money >= 1000 && yuanzidan < 5) {
												yuanzidan = yuanzidan + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手抛式原子弹：%d\n", yuanzidan);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												Sleep(500);
											} else {
												printf("钱不够!\n\n\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												Sleep(500);
											}

											break;
									}
							}
							break;
						case 4:
							if (sheng == 1) Beep(1200, 100);
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 8E");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 8E");
							printf("防御装备: 8,布衣:%d个 9,鳞甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 8E");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 8E");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 8E");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 8E");
										Sleep(500);
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 8E");
									Sleep(500);
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										Sleep(500);
										if (sheng == 1) Beep(1200, 100);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("雷霆之刃：%d\n", gong5n);
										Sleep(500);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("鳞甲：%d\n", fang2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									Sleep(500);
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
									} else {
										printf("晶石数不够，无法出售！\n");
										Sleep(500);
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									Sleep(500);
									Sleep(500);
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								lun = 0;
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								if (sheng == 1) Beep(1200, 100);
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(50);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(50);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(50);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(50);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(50);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(50);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(50);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest1;
											s = v2_11_3SuiJi();
											if (s < 61) {
												guai = xiyi;
												printf("%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else if (s < 95) {
												guai = witch;
												printf("%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else {
												printf("这里安全\n\n\n");
											}
										}
										break;
									case 3:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest2;
											s = v2_11_3SuiJi();
											if (s < 45) {
												guai = witch;
												printf("%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else if (s < 73) {
												battle = 1;
												guai = strongman;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else {
												battle = 1;
												guai = zhizhu;
												printf("可怕的%s爬了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											}
										}
										break;
									case 5:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest3;
											s = v2_11_3SuiJi();
											if (s <= 34) {
												guai = strongman;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else if (s < 59) {
												guai = huolong;
												printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else if (s < 77) {
												guai = gl;
												printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else {
												guai = zhizhu;
												printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											}
										}
										break;
									case 2:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass1;
											s = v2_11_3SuiJi();
											if (s <= 19) {

												guai = bee;
												printf("%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else if (s < 59) {
												battle = 1;
												guai = horse;
												printf("%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else if (s < 74) {

												guai = ymr;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else {

												guai = nz;
												printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
												v2_11_3BattleAct();
											}
										}

										break;
									case 4:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass2;
											s = v2_11_3SuiJi();
											if (s < 49) {
												guai = horse;
												printf("%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else if (s < 67) {
												guai = shibing;
												printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else {
												guai = gl;
												printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											}
										}

										break;
									case 6:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = v2_11_3SuiJi();
											if (s < 67) {
												guai = pika;
												printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else if (s < 99) {
												guai = dapika;
												printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
												v2_11_3BattleAct();
											} else {
												printf("这里安全\n\n\n");
											}
										}

										break;
									case 8:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = v2_11_3SuiJi();
											if (s <= 39) {

												guai = cl;
												printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else if (s < 80) {

												guai = huolong;
												printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else {

												guai = jl;
												printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
												v2_11_3BattleAct();
											}
										}

										break;
									case 7:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass3;
											s = v2_11_3SuiJi();
											if (s < 53) {

												guai = shibing;
												printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
												v2_11_3BattleAct();
											} else if (s < 78 && boss1 == 0) {

												if (strongman_arm >= 1) {
													printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
													guai = bossno1;
													printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
													v2_11_3BattleAct();
												} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
											} else {

												guai = nz;
												printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
												v2_11_3BattleAct();
											}
										}

										break;
									case 9:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = v2_11_3SuiJi();
											if (diaolingxinhave != 0) {
												if (s < 10 && boss2 == 0) {
													guai = dlfb;
													printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
													v2_11_3BattleAct();
												} else if (s < 40) {
													guai = dlkl;
													printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
													v2_11_3BattleAct();
												} else if (s < 70) {
													guai = gst;
													printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
													v2_11_3BattleAct();
												} else {
													guai = dljs;
													printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
													v2_11_3BattleAct();
												}
											}
											if (diaolingxinhave == 0) {
												cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
											}
										}

										break;
										if (yewai != 0) {
											system("cls");
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 8E");
											break;
										}
								}
								if (yewai == 0) {
									system("cls");
									break;
									printf("已离开荒野。");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
								}
							}
							break;
						case 6:
							int hao, ji;
							cout << "欢迎进入皇冠竞技场,年轻人,准备好了吗\n\n\n这是一场赌命的游戏,结果除了生,便是死\n\n\n1,准备好了 0,没有准备好\n\n\n";
							cin >> hao;
							if (!hao) break;
							diren.health = 200;
							diren.attack = 100;
							diren.defense = 80;
							ji = player.level / 25;
							srand((int)time(0));
							diren.level = rand() % 50 + 1;
							diren.level += ji * 25;
							cout << "敌人等级： ";
							//3 2 20 500
							cout << diren.level << "\n\n\n";
							diren.attack += diren.level * 3;
							diren.defense += diren.level * 2;
							diren.health += diren.level * 20;
							diren.money = diren.level * 250;
							diren.exp = diren.level * 25;
							//		cout<<diren.attack<<"　　"<<diren.defense<<"  "<<diren.health<<"  "<<diren.money<<" "<<diren.exp;
							//			Sleep(10000);
							battle = 1;
							Sleep(500);
							v2_11_3jingjicaidan();
							//	jingjipanduan();
							Sleep(1000);
							break;
					}
					break;
				case 2:
					v2_11_3ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (sheng == 1) Beep(1200, 100);
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												Sleep(500);
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 8E");
													Sleep(500);
													money -= 25;
													if (sheng == 1) Beep(1200, 100);
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 8E");
													Sleep(500);
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												Sleep(500);
												system("color 8E");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 8E");
													Sleep(500);
													if (sheng == 1) Beep(1200, 100);
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 8E");
													Sleep(500);
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 8E");
													Sleep(500);
													if (sheng == 1) Beep(1200, 100);
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 8E");
													Sleep(500);
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 8E");
											Sleep(500);
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 8E");
											Sleep(500);
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 8E");
									Sleep(500);
									if (sheng == 1) Beep(1200, 100);
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);

											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 8E");
									printf("再见，欢迎下次再来！\n");
									system("color 8E");
									Sleep(500);
									if (sheng == 1) Beep(1200, 100);
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 8E");
									Sleep(500);
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n"), Sleep(500);
					else printf("这里好像没人可以聊天\n\n\n");
					Sleep(500);
					system("color 8E");
					break;
				case 4:
					v2_11_3DisplayState();
					break; //显示状态
				case 5: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					if (sheng == 1) Beep(1200, 100);
					printf(" 您好，欢迎您玩决战苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上（CSDN）。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "12.";
					Sleep(250);
					cout << "2";
					Sleep(250);
					cout << "版本内容";
					Sleep(250);
					cout << "的基础上进行改进";
					Sleep(250);
					cout << "主要内容为修复皇冠竞技场功能太过于逆天";
					Sleep(250);
					//	cout<<"在逃跑时不会退出副本而是切换敌人。";
					//		Sleep(250);
					cout << "已更新完毕，";
					Sleep(250);
					cout << "希望大家喜欢。";
					Sleep(250);
					cout << "在这里要感谢";
					Sleep(250);
					cout << "Cpp-King";
					Sleep(250);
					cout << "姜乙";
					Sleep(250);
					cout << "同学，";
					Sleep(250);
					cout << "他给了我许多宝贵的建议，";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "\n\n";
					Sleep(250);
					system("color 8E");
					system("pause");
					break;
				case 8:
					if (sheng == 1) Beep(1200, 100);
					printf("合成台：                   0:退出\n\n");
					system("color 8E");
					cout << "命令之书:" << mingshu << "\n1： 命令之剑   需要材料：1*X尚方宝剑X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2：X尚方宝剑X  需要材料：1* 尚方宝剑  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3： 命令之甲   需要材料：1*X传说圣甲X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4：X传说圣甲X  需要材料：1* 传说圣甲  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5： 毁灭炸弹   需要材料：5*手抛原子弹 + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "6：  金龙铠    需要材料：5*龙鳞  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "7：   鳞甲     需要材料：5*鳞片  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cin >> he;
					if (he == 1)
						if (he == 1 && gong4Xn >= 1 && mingshu >= 3) {
							gong4Xn--;
							mingshu -= 3;
							mgongn++;
							cout << "恭喜获得命令之剑\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 2)
						if (he == 2 && gong4n >= 1 && mingshu >= 1) {
							gong4n--;
							mingshu--;
							gong4Xn++;
							cout << "恭喜获得X尚方宝剑X\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 3)
						if (he == 3 && fang4Xn >= 1 && mingshu >= 3) {
							fang4Xn--;
							mingshu -= 3;
							mfangn++;
							cout << "恭喜获得命令之甲\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 4)
						if (he == 4 && fang4n >= 1 && mingshu >= 1) {
							fang4n--;
							mingshu--;
							fang4Xn++;
							cout << "恭喜获得X传说圣甲X\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 5)
						if (he == 5 && yuanzidan >= 5 && mingshu >= 3) {
							yuanzidan -= 5;
							mingshu -= 3;
							zhadan++;
							cout << "恭喜获得毁灭炸弹\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 6)
						if (he == 6 && ll >= 5) {
							ll -= 5;
							fang5n++;
							cout << "恭喜获得金龙铠\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 7)
						if (he == 7 && lp >= 5) {
							lp -= 5;
							fang2n++;
							cout << "恭喜获得鳞甲\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 0) break;
					break;
				case 9:
					system("cls");
					cout << "设置        0:退出\n\n";
					cout << "1:声音 ";
					if (sheng == 1) cout << "开\n";
					else cout << "关\n";
					cout << "\n2:UI界面 ";
					if (ui == 1) cout << "老版";
					else cout << "新版";
					cout << "\n\n3,退出游戏";
					cin >> shen;
					if (shen == 1) {
						if (sheng == 1) sheng = 0;
						else sheng = 1;
					}
					if (shen == 2) {
						if (ui == 1) ui = 0;
						else ui = 1;
					}
					if (shen == 3) {
						printf("确定退出游戏?(Y/N)\n\n\n");
						system("color 8E");
						getchar();
						proof = getchar();
						if (proof == 'y' || proof == 'Y') {
							printf("按回车退出");
							system("color 8E");
							getchar();
							return;
						} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
						else printf("继续!\n\n\n");
					}
					Sleep(250);
					Sleep(250);
					if (shen == 0) break;
					break;
				case 7:
					if (sheng == 1) Beep(1200, 100);
					int mi;
					cout << "============================*【后台 开挂 测试Bug】*=============================\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0 && mi != 0) {
						cout << "输入正确！欢迎进入后台！\n\n=================================================\n后台服务：\n\n1.金币加999999\n\n2.血量上限加9999\n\n3.现有血量加9999\n\n4.攻击加9999\n\n5.防御加9999\n\n0.退出\n\n=================================================\n\n " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加999999\n";
							if (sheng == 1) Beep(1200, 100);
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							if (sheng == 1) Beep(1200, 100);
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}
					Sleep(250);
					Sleep(250);
					Sleep(250);
					Sleep(250);
					break;
				case 10:
					system("cls");
					printf("物品:止血草:%d个 急救包:%d个 云南白药:%d个 超级云南白药:%d个 手雷:%d个 毒标:%d个 手抛式原子弹:%d个 经验草:%d个经验包:%d个 经验石:%d个 巨龙晶石:%d个 免死金牌:%d个 凋零之心:%d个 毁灭炸弹:%d个 \n合成材料:鳞片:%d个 龙鳞:%d个 命令之书:%d个\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan, lp, ll, mingshu);
					printf("攻击装备: 匕首:%d个 西洋剑:%d个 粗制石剑:%d个 碧血战锤:%d个 蜘蛛毒剑:%d个 尚方宝剑:%d个 雷霆之刃：%d个 X尚方宝剑X：%d个 命令之剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 布衣:%d个 鳞甲:%d个 12,战斗马甲:%d个 重甲:%d个 石铠甲:%d个 传说圣甲:%d个 金龙铠:%d个 X传说圣甲X:%d个 命令之甲:%d个\t\t\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					system("pause");
					break;
			}
		}
	}
	void v2_11_3DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
		system("pause");
	}
	void v2_11_3BattleAct() {
		while (1) {
			puts("=============================================================================");
			if (sheng == 1) Beep(1200, 100);
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,装备 5,逃跑 6,离开副本 7,查看背包\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = v2_11_3SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (v2_11_3AttackResult()) {
						lun = 0;
						return; //如果攻击有结果(敌人或玩家战死)退出函数
					} else {
						lun++;
						continue;
					}
				case 2:
					v2_11_3ChooseWupin();//选择物品,可以使用,战斗中允许使用攻击性物品
					lun++;
					break;
				case 3:
					v2_11_3DisplayState();
					break; //显示状态
				case 4: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 5:
					lun++;
					s = v2_11_3SuiJi();
					if (s < 40) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						if (sheng == 1) Beep(1200, 100);
						lun = 0;
						Sleep(500);
						return;
					} else {
						printf("%s逃跑失败!\n\n\n", player.name);
						if ((guai.attack + s - player.defense / 3) < 0) {
							player.health -= 1;
							printf("%s反击,你的HP减少了 1\n\n", guai.name);
							Sleep(500);
							system("color 8C");
						} else {
							player.health -= guai.attack + s - player.defense / 3;
							printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
							Sleep(500);
							system("color 8C");
						}
						if (player.health < 0) {
							battle = 0;
							printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
							Sleep(500);
							Sleep(500);
							system("color CC");
							money -= player.level * 500;
							player.health = player.max_health / 5;
							v2_11_3yidongcaidan();
							return;
						}
					}
					if (sheng == 1) Beep(200, 100);
					break;
				case 6:
					if (lun == 0) {
						lun = 0;
						battle = 0;
						printf("%s已退出~\n\n\n", player.name);
						Sleep(500);
						return;
					} else cout << "已开始战斗，无法退出\n\n\n";
					Sleep(500);
					break;
				case 7:
					system("cls");
					printf("物品:止血草:%d个 急救包:%d个 云南白药:%d个 超级云南白药:%d个 手雷:%d个 毒标:%d个 手抛式原子弹:%d个 经验草:%d个经验包:%d个 经验石:%d个 巨龙晶石:%d个 免死金牌:%d个 凋零之心:%d个 毁灭炸弹:%d个 \n合成材料:鳞片:%d个 龙鳞:%d个 命令之书:%d个\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan, lp, ll, mingshu);
					printf("攻击装备: 匕首:%d个 西洋剑:%d个 粗制石剑:%d个 碧血战锤:%d个 蜘蛛毒剑:%d个 尚方宝剑:%d个 雷霆之刃：%d个 X尚方宝剑X：%d个 命令之剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 布衣:%d个 鳞甲:%d个 12,战斗马甲:%d个 重甲:%d个 石铠甲:%d个 传说圣甲:%d个 金龙铠:%d个 X传说圣甲X:%d个 命令之甲:%d个\t\t\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					system("pause");
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
					if (sheng == 1) Beep(200, 100);
					Sleep(500);
			}
		}
	}
	void v2_11_3jingjicaidan() {
		while (1) {
			puts("=============================================================================");
			if (sheng == 1) Beep(1200, 100);
			printf("要怎么办?\n\n\n 1,攻击  2,查看状态  \n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = v2_11_3SuiJi();
					printf("%s攻击! 敌人HP减少%d\n\n\n", player.name, player.attack + s - diren.defense / 3);
					diren.health -= player.attack + s - diren.defense / 3;
					if (v2_11_3jingjipanduan()) {
						lun = 0;
						return; //如果攻击有结果(敌人或玩家战死)退出函数
					} else {
						lun++;
						continue;
					}
				//			case 2:
				//				jingjiwupin();//选择物品,可以使用,战斗中允许使用攻击性物品
				//				if(jingjipanduan()) {
				//					lun=0;
				//					return; //如果攻击有结果(敌人或玩家战死)退出函数
				//				} else {
				//					lun++;
				//					continue;
				//				}
				//				break;
				case 2:
					v2_11_3DisplayState();
					break; //显示状态
				//			case 3: //装备
				//				if(sheng==1) Beep(1200,100);
				//				printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n",gong1n,gong2n,gong7n,gong3n,gong6n,gong4n,gong5n,gong4Xn,mgongn);
				//				system("color 8E");
				//				printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n",fang1n,fang2n,fang7n,fang3n,fang6n,fang4n,fang5n,fang4Xn,mfangn);
				//				system("color 8E");
				//				printf("选择要装备的武器或防具:\n\n\n");
				//				system("color 8E");
				//				switch(scanf("%d",&choose_number),choose_number) {
				//					case 1:
				//						if(gong1n>=1) {
				//							printf("拿起了匕首\n\n\n");
				//							system("color 8E");
				//							if(sheng==1) Beep(1200,100);
				//							gong=gong1;
				//							strcpy(gongname,"匕首");
				//							system("color 8E");
				//						} else printf("你没有匕首可以装备\n\n\n");
				//						system("color 8E");
				//						break;
				//					case 2:
				//						if(gong2n>=1) {
				//							printf("拿起了西洋剑\n\n\n");
				//							system("color 8E");
				//							if(sheng==1) Beep(1200,100);
				//							gong=gong2;
				//							strcpy(gongname,"西洋剑");
				//							system("color 8E");
				//						} else printf("你没有西洋剑可以装备\n\n\n");
				//						system("color 8E");
				//						break;
				//					case 3:
				//						if(gong7n>=1) {
				//							printf("拿起了粗制石剑\n\n\n");
				//							gong=gong7;
				//							strcpy(gongname,"粗制石剑");
				//						} else printf("你没有粗制石剑可以装备\n\n\n");
				//						if(sheng==1) Beep(1200,100);
				//						break;
				//					case 4:
				//						if(gong3n>=1) {
				//							printf("拿起了碧血战锤\n\n\n");
				//							gong=gong3;
				//							strcpy(gongname,"碧血战锤");
				//						} else printf("你没有碧血战锤可以装备\n\n\n");
				//						if(sheng==1) Beep(1200,100);
				//						break;
				//					case 5:
				//						if(gong6n>=1) {
				//							printf("拿起了蜘蛛毒剑\n\n\n");
				//							gong=gong6;
				//							strcpy(gongname,"蜘蛛毒剑");
				//						} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
				//						if(sheng==1) Beep(1200,100);
				//						break;
				//					case 6:
				//						if(gong4n>=1) {
				//							printf("拿起了尚方宝剑\n\n\n");
				//							gong=gong4;
				//							strcpy(gongname,"尚方宝剑");
				//						} else printf("你没有尚方宝剑可以装备\n\n\n");
				//						if(sheng==1) Beep(1200,100);
				//						break;
				//					case 7:
				//						if(gong5n>=1) {
				//							printf("拿起了雷霆之刃\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							gong=gong5;
				//							strcpy(gongname,"雷霆之刃");
				//						} else printf("你没有雷霆之刃可以装备\n\n\n");
				//						break;
				//					case 8:
				//						if(gong4Xn>=1) {
				//							printf("拿起了X尚方宝剑X\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							gong=gong4X;
				//							strcpy(gongname,"X尚方宝剑X");
				//						} else printf("你没有X尚方宝剑X可以装备\n\n\n");
				//						break;
				//					case 9:
				//						if(mgongn>=1) {
				//							printf("拿起了命令之剑\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							gong=mgong;
				//							strcpy(gongname,"命令之剑");
				//						} else printf("你没有命令之剑可以装备\n\n\n");
				//						break;
				//					case 10:
				//						if(fang1n>=1) {
				//							printf("穿上了布衣\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							fang=fang1;
				//							strcpy(fangname,"布衣");
				//						} else printf("你没有布衣可以装备\n\n\n");
				//						break;
				//					case 11:
				//						if(fang2n>=1) {
				//							printf("穿上了鳞甲\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							fang=fang2;
				//							strcpy(fangname,"鳞甲");
				//						} else printf("你没有鳞甲可以装备\n\n\n");
				//						break;
				//					case 12:
				//						if(fang7n>=1) {
				//							printf("穿上了战斗马甲\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							fang=fang7;
				//							strcpy(fangname,"战斗马甲");
				//						} else printf("你没有战斗马甲可以装备\n\n\n");
				//						break;
				//					case 13:
				//						if(fang3n>=1) {
				//							printf("穿上了重甲\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							fang=fang3;
				//							strcpy(fangname,"重甲");
				//						} else printf("你没有重甲可以装备\n\n\n");
				//						break;
				//					case 14:
				//						if(fang6n>=1) {
				//							printf("穿上了石铠甲\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							fang=fang6;
				//							strcpy(fangname,"石凯甲");
				//						} else printf("你没有石凯甲可以装备\n\n\n");
				//						break;
				//					case 15:
				//						if(fang4n>=1) {
				//							if(sheng==1) Beep(1200,100);
				//							printf("穿上了传说圣甲\n\n\n");
				//							fang=fang4;
				//							strcpy(fangname,"传说圣甲");
				//						} else printf("你没有传说圣甲可以装备\n\n\n");
				//						break;
				//					case 16:
				//						if(fang5n>=1) {
				//							printf("穿上了金龙铠\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							fang=fang5;
				//							strcpy(fangname,"金龙铠");
				//						} else printf("你没有金龙铠可以装备\n\n\n");
				//						break;
				//					case 17:
				//						if(fang4Xn>=1) {
				//							printf("穿上了X传说圣甲X\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							fang=fang4X;
				//							strcpy(fangname,"X传说圣甲X");
				//						} else printf("你没有X传说圣甲X可以装备\n\n\n");
				//						break;
				//					case 18:
				//						if(mfangn>=1) {
				//							printf("穿上了命令之甲\n\n\n");
				//							if(sheng==1) Beep(1200,100);
				//							fang=mfang;
				//							strcpy(fangname,"命令之甲");
				//						} else printf("你没有命令之甲可以装备\n\n\n");
				//						break;
				//					case 0:
				//						printf("未更换装备\n\n\n");
				//						break;
				//					default:
				//						printf("change error!");
				//				}
				//				break;
				//			case 5:
				//				lun++;
				//				s=SuiJi();
				//				if(s<4) { //40%的概率可以逃跑
				//					printf("%s逃跑了~\n\n\n",player.name);
				//					if(sheng==1) Beep(1200,100);
				//					lun=0;
				//					Sleep(500);
				//					return;
				//				} else {
				//					printf("%s逃跑失败!\n\n\n",player.name);
				//					if((diren.attack+s-player.defense/3)<0) {
				//						player.health-=1;
				//						printf("敌人反击,你的HP减少了 1\n\n");
				//						Sleep(500);
				//						system("color 8C");
				//					} else {
				//						player.health-=diren.attack+s-player.defense/3;
				//						printf("敌人反击,你的HP减少了%d\n\n",diren.attack+s-player.defense/3);
				//						Sleep(500);
				//						system("color 8C");
				//					}
				//					if(player.health<0) {
				//						battle=0;
				//						printf("%s战死!金币掉落%d\n\n\n",player.name,player.level*500);
				//						Sleep(500);
				//						Sleep(500);
				//						system("color CC");
				//						money-=player.level*500;
				//						player.health=player.max_health/5;
				//						yidongcaidan();
				//						return;
				//					}
				//				}
				//				if(sheng==1) Beep(200,100);
				//				break;
				//			case 6:
				//				if(lun==0) {
				//					lun=0;
				//					battle=0;
				//					printf("%s已退出~\n\n\n",player.name);
				//					Sleep(500);
				//					return;
				//				} else cout<<"已开始战斗，无法退出\n\n\n";
				//				Sleep(500);
				//				break;
				default:
					printf("输入错误,重新输入!\n\n\n");
					if (sheng == 1) Beep(200, 100);
					Sleep(500);
			}
		}
	}
	int v2_11_3jingjipanduan() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (diren.health <= 0) {
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", diren.money, diren.exp);
			system("color 8C");
			Sleep(1000);
			if (sheng == 1) Beep(1200, 100);
			player.exp += diren.exp;
			player.range_exp += diren.exp;
			money += diren.money;
			v2_11_3jingjishengji();
			system("color 8C");
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			if ((diren.attack + player.defense / 3) < 0) {
				player.health -= 1;
				printf("敌人反击,你的HP减少了 1\n\n");
				system("color 8C");
				Sleep(100);
			} else {
				player.health -= diren.attack + s - player.defense / 3;
				printf("敌人反击,你的HP减少了%d\n\n", diren.attack + s - player.defense / 3);
				system("color 8C");
				Sleep(100);
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				Sleep(1000);
				Sleep(1000);
				player.health = player.max_health / 5;
				v2_11_3yidongcaidan();//
				return 1;
			}
		}
		return 0;
	}
	void v2_11_3jingjishengji() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				Sleep(1000);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				Sleep(1000);
				player.exp = (player.exp + diren.exp) || player.exp - ((player.exp + diren.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l2);
				system("color 8E");
				Sleep(1000);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l3);
				Sleep(1000);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void v2_11_3printf(char *p) {
		while (1) {
			if (*p != 0)
				printf("%c", *p++);
			else
				break;
			Sleep(100);
		}
	}

}

namespace dpcq2_12_2 {
	using namespace std;
	int shen = 0;
	int ui = 0;
	int sheng = 1;
	void SetColorAndBackground(int ForgC, int BackC) {
		WORD wColor = ((BackC & 0x0F) << 4) + (ForgC & 0x0F);
		SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), wColor);
	}
	void Bling() {
		for (int i = 0; i <= 5; i++) {
			system("color 1A");
			Sleep(20);
			if (sheng == 1) if (sheng == 1) Beep(1200, 50);
			system("color 2B");
			Sleep(20);
			system("color 3C");
			Sleep(20);
			system("color 4D");
			Sleep(20);
			if (sheng == 1) Beep(1200, 50);
			system("color 5D");
			Sleep(20);
			system("color 6E");
			Sleep(20);
			system("color 7F");
			Sleep(20);
			if (sheng == 1) Beep(1200, 50);
		}
	}
	void Start() {
		if (sheng == 1) Beep(3200, 50);
		system("color 8E");
		cout << "         ■                       ■                      \n";
		Sleep(50);
		cout << "      ■ ■        ■■■■    ■■■■■                 \n";
		Sleep(50);
		cout << "   ■ ■ ■           ■      ■  ■  ■                  \n";
		Sleep(50);
		cout << "    ■   ■         ■        ■  ■                      \n";
		Sleep(50);
		cout << "   ■■■■■■   ■■■■   ■ ■■■                    \n";
		Sleep(50);
		cout << "         ■     ■  ■  ■  ■  ■  ■                    \n";
		Sleep(50);
		cout << "         ■         ■■■ ■     ■            ■        \n";
		Sleep(50);
		cout << "         ■               ■    ■  ■  }}}}}}}}}\n";
		Sleep(50);
		cout << "                                      }               } \n";
		Sleep(50);
		cout << " 欢迎来到 [斗破苍穹]   ■      ■        ■           ■  \n";
		Sleep(50);
		cout << "                    }}}}}}}}    ■ }}}}}  ■ \n";
		Sleep(50);
		cout << "  zty郑桐羽呀出品      ■      ■                  ■     \n";
		Sleep(50);
		cout << "                           }              }}}}}     \n";
		Sleep(50);
		cout << "  2.12.2 正式版        }■  ■}          ■             \n";
		Sleep(50);
		cout << "                     }  }}}  }        }}}}}     \n";
		Sleep(50);
		cout << " 新增 皇冠竞技场         ■  ■                     ■    \n";
		Sleep(50);
		cout << "                         ■■■                 }  ■    \n";
		Sleep(50);
		cout << " zty出品，必属精品       ■    ■                 ■      \n";
		Sleep(50);
		cout << "                          }}}                          \n";
		Sleep(50);
		cout << " 努力通关吧！                                             \n";
		Sleep(50);
		cout << "                                                          \n";
		Sleep(50);
		cout << " 输入“1 ”下一页                                         \n\n";
		Sleep(50);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	void Start2() {
		system("color 8E");
		system("cls");
		if (sheng == 1) Beep(3200, 50);
		cout << "                                                \n";
		Sleep(50);
		cout << "        ■ ■■■        ■■■  ■      ■     \n";
		Sleep(50);
		cout << "    ■■      ■       ■   ■  ■       ■     \n";
		Sleep(50);
		cout << "            ■      ■     ■   ■       ■     \n";
		Sleep(50);
		cout << "           ■   ■■      ■    ■       ■     \n";
		Sleep(50);
		cout << "         ■  ■            ■  ■ ■     ■     \n";
		Sleep(50);
		cout << "       ■■■               ■■    ■■■      \n";
		Sleep(50);
		cout << "                                         ■     \n";
		Sleep(50);
		cout << "                                 ■      ■     \n";
		Sleep(50);
		cout << " 欢迎来到 [斗破苍穹]               ■    ■     \n";
		Sleep(50);
		cout << "                                     ■■       \n";
		Sleep(50);
		cout << "  zty郑桐羽呀出品        ■                     \n";
		Sleep(50);
		cout << "                     ■  ■  ■     ■■■■    \n";
		Sleep(50);
		cout << "  2.12.2 正式版      ■■■■■     ■    ■    \n";
		Sleep(50);
		cout << "                         ■         ■■■■    \n";
		Sleep(50);
		cout << " 新增 皇冠竞技场     ■  ■  ■                 \n";
		Sleep(50);
		cout << "                     ■■■■■  ■■■  ■■■ \n";
		Sleep(50);
		cout << " zty出品，必属精品               ■  ■  ■  ■ \n";
		Sleep(50);
		cout << "                                 ■■■  ■■■ \n";
		Sleep(50);
		cout << " 努力通关吧！                                   \n";
		Sleep(50);
		cout << "                                                \n";
		Sleep(50);
		cout << " 输入“1 ”开始游戏                    \n\n";
		Sleep(50);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	int boss1 = 0, boss2 = 0;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Diren {//竞技场敌人的结构体
//	char wupin1[20];
//	char wupin2[20];
		int attack;
		int defense;
		int health;
		int money;
		int level;
		long int exp;
	} diren = {100, 80, 200, 0, 0, 0};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞片", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	huolong = {"喷火龙", "巨龙晶石", 200, 250, 1000, 1000, 500, 4, 4, 2, 0},
	shibing = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	bossno1 = {"凋零女巫", "\0", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 500, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "龙鳞", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "命令之书", 1800, 65 * 10, 15000, 20000, 1000, 16, 10, 1, 0},
	dlkl = {"凋零骷髅", "凋零之骨", 3000, 30 * 10, 12000, 20000, 1000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 500000, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int lun = 0;
	int he = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, yuanzidan = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 120, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 600, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0, fang4X = 550, fang4Xn = 0, mfang = 1000, mfangn = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0, gong4X = 500, gong4Xn = 0, mgong = 1000, mgongn = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0, mingshu = 0, zhadan = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	int lp = 0, ll = 0;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void jingjishengji();
	int jingjipanduan();
	void jingjicaidan();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		if (sheng == 1) Beep(1200, 100);
		MessageBox(NULL, "欢迎来到斗破苍穹 2.12.2 正式版 ！", "斗破苍穹 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		Start();
		Bling();
		Start2();
		Bling();
		int kaishi;
		char player_name[21];
//Sleep(100);system("color A3");
//Sleep(50);system("color E4");
//Sleep(50);system("color B3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 34");
//Sleep(50);system("color E3");
//Sleep(50);system("color 54");
//Sleep(50);system("color E3");
//Sleep(50);system("color 43");
//Sleep(50);system("color E4");
//Sleep(50);system("color 93");
//Sleep(50);system("color E4");
//Sleep(50);system("color C3");
//Sleep(50);system("color E4");
//Sleep(50);system("color D3");
//Sleep(50);system("color E4");
//Sleep(50);system("color F3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 8E");
//printf("                            _________________________________                    ");system("color 8E");
//printf("                          /________________________________/|                    ");system("color 8E");
//printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.11.1 正式版|}--^*=+.              ");system("color 8E");
//printf("                                                \n");system("color 8E");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(300);
		if (sheng == 1) Beep(1200, 100);
		system("cls");
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 8E");
		scanf("%s", player_name);
		Sleep(300);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			if (sheng == 1) Beep(5200, 300);
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
			system("pause");
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		if (sheng == 1) Beep(1200, 100);
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						yuanzidan--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					if (sheng == 1) Beep(1200, 100);
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				Sleep(500);
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					Sleep(500);
					if (sheng == 1) Beep(1200, 100);
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				Sleep(500);
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						Sleep(500);
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						zhadan--;
						guai.health -= 15000;
						AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	void jingjiwupin() { //选择物品 并使用
		if (sheng == 1) Beep(1200, 100);
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						boom--;
						diren.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				Sleep(500);
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						dubiao--;
						diren.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				Sleep(500);
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						yuanzidan--;
						diren.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				Sleep(500);
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
					Sleep(500);
					if (sheng == 1) Beep(1200, 100);
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				Sleep(500);
				break;
			case 12:
				if (miansi > 0) {
					if (sheng == 1) Beep(1200, 100);
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				Sleep(500);
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					Sleep(500);
					if (sheng == 1) Beep(1200, 100);
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				Sleep(500);
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						system("color 84");
						Sleep(500);
						if (sheng == 1) Beep(1200, 100);
						zhadan--;
						guai.health -= 15000;
						AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			Sleep(500);
			Sleep(500);
			if (sheng == 1) Beep(1200, 100);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				if (sheng == 1) Beep(1200, 100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				Sleep(500);
				Sleep(500);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, ".+*凋零风暴*+.") == 0) {
				printf("结束了\n\n");
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				if (sheng == 1) Beep(1200, 100);
				system("color 8C");
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
				Sleep(500);
				Sleep(500);
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
				Sleep(500);
				Sleep(500);
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				Sleep(500);
				Sleep(500);
				Sleep(500);
				Sleep(500);
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 2:
				fang3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 3:
				lp++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 4:
				strongman_arm++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 5:
				gong4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 6:
				gong3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 7:
				gong2n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 8:
				gong5n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 9:
				ll++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 10:
				diaolingxin++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 11:
				fang6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 12:
				gong6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 13:
				gong7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 14:
				fang7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 15:
				diaolingxinhave++;
				if (sheng == 1) Beep(1200, 100);
				boss1 = 1;
				break;
			case 16:
				mingshu++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 17:
				boss2 = 1;
				if (sheng == 1) Beep(1200, 100);
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				Sleep(500);
				Sleep(500);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l2);
				system("color 8E");
				Sleep(500);
				Sleep(500);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l3);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				Sleep(500);
				Sleep(500);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}

	void OrdinaryAct() { //正常行为菜单
		while (1) {
// \(1000);
// system("cls");
			if (ui == 0) {
				system("cls");
				lun = 0;
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n  1,移动     2,道具     3,对话  4,查看状态 \n\n  5,装备  6,关于游戏    7,后台   8,合成台 \n\n  9,设置  10,打开背包 \n\n");
				system("color 8E");
				if (sheng == 1) Beep(1200, 100);
				puts("=============================================================================");
				system("color 8E");
			} else {
				system("cls");
				lun = 0;
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,后台 8,合成台 9,设置 10,背包\n\n\n\n");
				system("color 8E");
				puts("=============================================================================");
				system("color 8E");
			}
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 8E");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3,北朝商会  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "6,皇冠竞技场\n\n\n";
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 8E");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 8E");
										printf("金币：%d", money);
										system("color 8E");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 8E");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 8E");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("匕首:%d个\n", gong1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("西洋剑:%d个\n", gong2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("碧血战锤:%d个\n", gong3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 8E");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，鳞甲￥500 3，重甲￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("布衣:%d个\n", fang1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("鳞甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("鳞甲:%d个\n", fang2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("重甲:%d个\n", fang3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 8E");
											break;

									}
									printf("金币：%d\n", money);
									system("color 8E");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 8E");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手雷：%d\n", boom);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												Sleep(500);
											} else {
												printf("钱不够!\n");
												Sleep(500);
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
												Sleep(500);
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("毒镖：%d\n", dubiao);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												Sleep(500);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												Sleep(500);
											}
											break;
										case 3:
											if (money >= 1000 && yuanzidan < 5) {
												yuanzidan = yuanzidan + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手抛式原子弹：%d\n", yuanzidan);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												Sleep(500);
											} else {
												printf("钱不够!\n\n\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												Sleep(500);
											}

											break;
									}
							}
							break;
						case 4:
							if (sheng == 1) Beep(1200, 100);
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 8E");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 8E");
							printf("防御装备: 8,布衣:%d个 9,鳞甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 8E");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 8E");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 8E");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 8E");
										Sleep(500);
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 8E");
									Sleep(500);
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										Sleep(500);
										if (sheng == 1) Beep(1200, 100);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("雷霆之刃：%d\n", gong5n);
										Sleep(500);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("鳞甲：%d\n", fang2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									Sleep(500);
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										Sleep(500);
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										Sleep(500);
									} else {
										printf("晶石数不够，无法出售！\n");
										Sleep(500);
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									Sleep(500);
									Sleep(500);
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								lun = 0;
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								if (sheng == 1) Beep(1200, 100);
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(50);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(50);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(50);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(50);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(50);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(50);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(50);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest1;
											s = SuiJi();
											if (s < 7) {
												guai = xiyi;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 9) {
												guai = witch;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												printf("这里安全\n\n\n");
											}
										}
										break;
									case 3:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest2;
											s = SuiJi();
											if (s < 4) {
												guai = witch;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7) {
												battle = 1;
												guai = strongman;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = zhizhu;
												printf("可怕的%s爬了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										break;
									case 5:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest3;
											s = SuiJi();
											if (s <= 3) {
												guai = strongman;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 5) {
												guai = huolong;
												printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 8) {
												guai = gl;
												printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												guai = zhizhu;
												printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										break;
									case 2:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass1;
											s = SuiJi();
											if (s <= 3) {

												guai = bee;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 5) {
												battle = 1;
												guai = horse;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 8) {

												guai = ymr;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {

												guai = nz;
												printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 4:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass2;
											s = SuiJi();
											if (s < 5) {
												guai = horse;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7) {
												guai = shibing;
												printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
												BattleAct();
											} else {
												guai = gl;
												printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 6:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (s < 7) {
												guai = pika;
												printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 9) {
												guai = dapika;
												printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
												BattleAct();
											} else {
												printf("这里安全\n\n\n");
											}
										}

										break;
									case 8:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (s <= 3) {

												guai = cl;
												printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 8 && s >= 4) {

												guai = huolong;
												printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {

												guai = jl;
												printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 7:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass3;
											s = SuiJi();
											if (s < 5) {

												guai = shibing;
												printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7 && boss1 == 0) {

												if (strongman_arm >= 1) {
													printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
													guai = bossno1;
													printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
													BattleAct();
												} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
											} else {

												guai = nz;
												printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 9:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (diaolingxinhave != 0) {
												if (s == 1 && boss2 == 0) {
													guai = dlfb;
													printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
													BattleAct();
												} else if (s >= 2 && s <= 4) {
													guai = dlkl;
													printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
													BattleAct();
												} else if (s >= 5 && s <= 7) {
													guai = gst;
													printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
													BattleAct();
												} else {
													guai = dljs;
													printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
													BattleAct();
												}
											}
											if (diaolingxinhave == 0) {
												cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
											}
										}

										break;
										if (yewai != 0) {
											system("cls");
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 8E");
											break;
										}
								}
								if (yewai == 0) {
									system("cls");
									break;
									printf("已离开荒野。");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
								}
							}
							break;
						case 6:
							int hao, ji;
							cout << "欢迎进入皇冠竞技场,年轻人,准备好了吗\n\n\n1,准备好了 0,没有准备好\n\n\n";
							cin >> hao;
							if (!hao) break;
							diren.health = 200;
							diren.attack = 100;
							diren.defense = 80;
							ji = player.level / 50;
							srand((int)time(0));
							diren.level = rand() % 50 + 1;
							diren.level += ji * 50;
							cout << "敌人等级： ";
							//3 2 20 500
							cout << diren.level << "\n\n\n";
							diren.attack += diren.level * 3;
							diren.defense += diren.level * 2;
							diren.health += diren.level * 20;
							diren.money = diren.level * 500;
							diren.exp = diren.level * 50;
							//		cout<<diren.attack<<"　　"<<diren.defense<<"  "<<diren.health<<"  "<<diren.money<<" "<<diren.exp;
							//			Sleep(10000);
							battle = 1;
							Sleep(500);
							jingjicaidan();
							//	jingjipanduan();
							Sleep(1000);
							break;
					}
					break;
				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (sheng == 1) Beep(1200, 100);
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												Sleep(500);
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 8E");
													Sleep(500);
													money -= 25;
													if (sheng == 1) Beep(1200, 100);
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 8E");
													Sleep(500);
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												Sleep(500);
												system("color 8E");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 8E");
													Sleep(500);
													if (sheng == 1) Beep(1200, 100);
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 8E");
													Sleep(500);
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 8E");
													Sleep(500);
													if (sheng == 1) Beep(1200, 100);
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 8E");
													Sleep(500);
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 8E");
											Sleep(500);
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 8E");
											Sleep(500);
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 8E");
									Sleep(500);
									if (sheng == 1) Beep(1200, 100);
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);

											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 8E");
												Sleep(500);
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
												Sleep(500);
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 8E");
									printf("再见，欢迎下次再来！\n");
									system("color 8E");
									Sleep(500);
									if (sheng == 1) Beep(1200, 100);
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 8E");
									Sleep(500);
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n"), Sleep(500);
					else printf("这里好像没人可以聊天\n\n\n");
					Sleep(500);
					system("color 8E");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					if (sheng == 1) Beep(1200, 100);
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上（CSDN）。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "12.";
					Sleep(250);
					cout << "1";
					Sleep(250);
					cout << "版本内容";
					Sleep(250);
					cout << "的基础上进行改进";
					Sleep(250);
					cout << "主要内容为修复皇冠竞技场功能的bug";
					Sleep(250);
					cout << "和快速出现后快速消失的bug";
					Sleep(250);
					//	cout<<"在逃跑时不会退出副本而是切换敌人。";
					//		Sleep(250);
					cout << "已更新完毕，";
					Sleep(250);
					cout << "希望大家喜欢。";
					Sleep(250);
					cout << "在这里要感谢";
					Sleep(250);
					cout << "Cpp-King";
					Sleep(250);
					cout << "姜乙";
					Sleep(250);
					cout << "同学，";
					Sleep(250);
					cout << "他给了我许多宝贵的建议，";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "\n\n";
					Sleep(250);
					system("color 8E");
					system("pause");
					break;
				case 8:
					if (sheng == 1) Beep(1200, 100);
					printf("合成台：                   0:退出\n\n");
					system("color 8E");
					cout << "命令之书:" << mingshu << "\n1： 命令之剑   需要材料：1*X尚方宝剑X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2：X尚方宝剑X  需要材料：1* 尚方宝剑  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3： 命令之甲   需要材料：1*X传说圣甲X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4：X传说圣甲X  需要材料：1* 传说圣甲  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5： 毁灭炸弹   需要材料：5*手抛原子弹 + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "6：  金龙铠    需要材料：5*龙鳞  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "7：   鳞甲     需要材料：5*鳞片  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cin >> he;
					if (he == 1)
						if (he == 1 && gong4Xn >= 1 && mingshu >= 3) {
							gong4Xn--;
							mingshu -= 3;
							mgongn++;
							cout << "恭喜获得命令之剑\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 2)
						if (he == 2 && gong4n >= 1 && mingshu >= 1) {
							gong4n--;
							mingshu--;
							gong4Xn++;
							cout << "恭喜获得X尚方宝剑X\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 3)
						if (he == 3 && fang4Xn >= 1 && mingshu >= 3) {
							fang4Xn--;
							mingshu -= 3;
							mfangn++;
							cout << "恭喜获得命令之甲\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 4)
						if (he == 4 && fang4n >= 1 && mingshu >= 1) {
							fang4n--;
							mingshu--;
							fang4Xn++;
							cout << "恭喜获得X传说圣甲X\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 5)
						if (he == 5 && yuanzidan >= 5 && mingshu >= 3) {
							yuanzidan -= 5;
							mingshu -= 3;
							zhadan++;
							cout << "恭喜获得毁灭炸弹\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 6)
						if (he == 6 && ll >= 5) {
							ll -= 5;
							fang5n++;
							cout << "恭喜获得金龙铠\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 7)
						if (he == 7 && lp >= 5) {
							lp -= 5;
							fang2n++;
							cout << "恭喜获得鳞甲\n";
							Sleep(250);
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					Sleep(250);
					if (he == 0) break;
					break;
				case 9:
					system("cls");
					cout << "设置        0:退出\n\n";
					cout << "1:声音 ";
					if (sheng == 1) cout << "开\n";
					else cout << "关\n";
					cout << "\n2:UI界面 ";
					if (ui == 1) cout << "老版";
					else cout << "新版";
					cout << "\n\n3,退出游戏";
					cin >> shen;
					if (shen == 1) {
						if (sheng == 1) sheng = 0;
						else sheng = 1;
					}
					if (shen == 2) {
						if (ui == 1) ui = 0;
						else ui = 1;
					}
					if (shen == 3) {
						printf("确定退出游戏?(Y/N)\n\n\n");
						system("color 8E");
						getchar();
						proof = getchar();
						if (proof == 'y' || proof == 'Y') {
							printf("按回车退出");
							system("color 8E");
							getchar();
							return;
						} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
						else printf("继续!\n\n\n");
					}
					Sleep(250);
					Sleep(250);
					if (shen == 0) break;
					break;
				case 7:
					if (sheng == 1) Beep(1200, 100);
					int mi;
					cout << "============================*【后台 开挂 测试Bug】*=============================\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0 && mi != 0) {
						cout << "输入正确！欢迎进入后台！\n\n=================================================\n后台服务：\n\n1.金币加999999\n\n2.血量上限加9999\n\n3.现有血量加9999\n\n4.攻击加9999\n\n5.防御加9999\n\n0.退出\n\n=================================================\n\n " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加999999\n";
							if (sheng == 1) Beep(1200, 100);
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							if (sheng == 1) Beep(1200, 100);
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}
					Sleep(250);
					Sleep(250);
					Sleep(250);
					Sleep(250);
					break;
				case 10:
					system("cls");
					printf("物品:止血草:%d个 急救包:%d个 云南白药:%d个 超级云南白药:%d个 手雷:%d个 毒标:%d个 手抛式原子弹:%d个 经验草:%d个经验包:%d个 经验石:%d个 巨龙晶石:%d个 免死金牌:%d个 凋零之心:%d个 毁灭炸弹:%d个 \n合成材料:鳞片:%d个 龙鳞:%d个 命令之书:%d个\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan, lp, ll, mingshu);
					printf("攻击装备: 匕首:%d个 西洋剑:%d个 粗制石剑:%d个 碧血战锤:%d个 蜘蛛毒剑:%d个 尚方宝剑:%d个 雷霆之刃：%d个 X尚方宝剑X：%d个 命令之剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 布衣:%d个 鳞甲:%d个 12,战斗马甲:%d个 重甲:%d个 石铠甲:%d个 传说圣甲:%d个 金龙铠:%d个 X传说圣甲X:%d个 命令之甲:%d个\t\t\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					system("pause");
					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
		system("pause");
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			if (sheng == 1) Beep(1200, 100);
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,装备 5,逃跑 6,离开副本\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult()) {
						lun = 0;
						return; //如果攻击有结果(敌人或玩家战死)退出函数
					} else {
						lun++;
						continue;
					}
				case 2:
					ChooseWupin();//选择物品,可以使用,战斗中允许使用攻击性物品
					lun++;
					break;
				case 3:
					DisplayState();
					break; //显示状态
				case 4: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 5:
					lun++;
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						if (sheng == 1) Beep(1200, 100);
						lun = 0;
						Sleep(500);
						return;
					} else {
						printf("%s逃跑失败!\n\n\n", player.name);
						if ((guai.attack + s - player.defense / 3) < 0) {
							player.health -= 1;
							printf("%s反击,你的HP减少了 1\n\n", guai.name);
							Sleep(500);
							system("color 8C");
						} else {
							player.health -= guai.attack + s - player.defense / 3;
							printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
							Sleep(500);
							system("color 8C");
						}
						if (player.health < 0) {
							battle = 0;
							printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
							Sleep(500);
							Sleep(500);
							system("color CC");
							money -= player.level * 500;
							player.health = player.max_health / 5;
							OrdinaryAct();
							return;
						}
					}
					if (sheng == 1) Beep(200, 100);
					break;
				case 6:
					if (lun == 0) {
						lun = 0;
						battle = 0;
						printf("%s已退出~\n\n\n", player.name);
						Sleep(500);
						return;
					} else cout << "已开始战斗，无法退出\n\n\n";
					Sleep(500);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
					if (sheng == 1) Beep(200, 100);
					Sleep(500);
			}
		}
	}
	void jingjicaidan() {
		while (1) {
			puts("=============================================================================");
			if (sheng == 1) Beep(1200, 100);
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,装备 5,逃跑 6,离开副本\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! 敌人HP减少%d\n\n\n", player.name, player.attack + s + gong - diren.defense / 3);
					diren.health -= player.attack + s + gong - diren.defense / 3;
					if (jingjipanduan()) {
						lun = 0;
						return; //如果攻击有结果(敌人或玩家战死)退出函数
					} else {
						lun++;
						continue;
					}
				case 2:
					jingjiwupin();//选择物品,可以使用,战斗中允许使用攻击性物品
					if (jingjipanduan()) {
						lun = 0;
						return; //如果攻击有结果(敌人或玩家战死)退出函数
					} else {
						lun++;
						continue;
					}
					break;
				case 3:
					DisplayState();
					break; //显示状态
				case 4: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 5:
					lun++;
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						if (sheng == 1) Beep(1200, 100);
						lun = 0;
						Sleep(500);
						return;
					} else {
						printf("%s逃跑失败!\n\n\n", player.name);
						if ((diren.attack + s - player.defense / 3) < 0) {
							player.health -= 1;
							printf("敌人反击,你的HP减少了 1\n\n");
							Sleep(500);
							system("color 8C");
						} else {
							player.health -= diren.attack + s - player.defense / 3;
							printf("敌人反击,你的HP减少了%d\n\n", diren.attack + s - player.defense / 3);
							Sleep(500);
							system("color 8C");
						}
						if (player.health < 0) {
							battle = 0;
							printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
							Sleep(500);
							Sleep(500);
							system("color CC");
							money -= player.level * 500;
							player.health = player.max_health / 5;
							OrdinaryAct();
							return;
						}
					}
					if (sheng == 1) Beep(200, 100);
					break;
				case 6:
					if (lun == 0) {
						lun = 0;
						battle = 0;
						printf("%s已退出~\n\n\n", player.name);
						Sleep(500);
						return;
					} else cout << "已开始战斗，无法退出\n\n\n";
					Sleep(500);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
					if (sheng == 1) Beep(200, 100);
					Sleep(500);
			}
		}
	}
	int jingjipanduan() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (diren.health <= 0) {
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", diren.money, diren.exp);
			system("color 8C");
			if (sheng == 1) Beep(1200, 100);
			player.exp += diren.exp;
			player.range_exp += diren.exp;
			money += diren.money;
			jingjishengji();
			system("color 8C");
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			if ((diren.attack + player.defense / 3) < 0) {
				player.health -= 1;
				printf("敌人反击,你的HP减少了 1\n\n");
				system("color 8C");
			} else {
				player.health -= diren.attack + s - player.defense / 3;
				printf("敌人反击,你的HP减少了%d\n\n", diren.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void jingjishengji() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				Sleep(1000);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				Sleep(1000);
				player.exp = (player.exp + diren.exp) || player.exp - ((player.exp + diren.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l2);
				system("color 8E");
				Sleep(1000);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l3);
				Sleep(1000);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
}
namespace dpcq2_12_1 {
	using namespace std;
	int shen = 0;
	int ui = 0;
	int sheng = 1;
	void SetColorAndBackground(int ForgC, int BackC) {
		WORD wColor = ((BackC & 0x0F) << 4) + (ForgC & 0x0F);
		SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), wColor);
	}
	void Bling() {
		for (int i = 0; i <= 5; i++) {
			system("color 1A");
			Sleep(20);
			if (sheng == 1) if (sheng == 1) Beep(1200, 50);
			system("color 2B");
			Sleep(20);
			system("color 3C");
			Sleep(20);
			system("color 4D");
			Sleep(20);
			if (sheng == 1) Beep(1200, 50);
			system("color 5D");
			Sleep(20);
			system("color 6E");
			Sleep(20);
			system("color 7F");
			Sleep(20);
			if (sheng == 1) Beep(1200, 50);
		}
	}
	void Start() {
		if (sheng == 1) Beep(3200, 50);
		system("color 8E");
		cout << "         ■                       ■                                  \n";
		Sleep(50);
		cout << "      ■ ■        ■■■■    ■■■■■                        \n";
		Sleep(50);
		cout << "   ■ ■ ■           ■      ■  ■  ■                  \n";
		Sleep(50);
		cout << "    ■   ■         ■        ■  ■                         \n";
		Sleep(50);
		cout << "   ■■■■■■   ■■■■   ■ ■■■                    \n";
		Sleep(50);
		cout << "         ■     ■  ■  ■  ■  ■  ■                         \n";
		Sleep(50);
		cout << "         ■         ■■■ ■     ■            ■            \n";
		Sleep(50);
		cout << "         ■               ■    ■  ■  }}}}}}}}}                \n";
		Sleep(50);
		cout << "                                      }               }              \n";
		Sleep(50);
		cout << " 欢迎来到 [斗破苍穹]   ■      ■        ■           ■                \n";
		Sleep(50);
		cout << "                    }}}}}}}}    ■ }}}}}  ■          \n";
		Sleep(50);
		cout << "  zty郑桐羽呀出品      ■      ■                  ■     \n";
		Sleep(50);
		cout << "                           }              }}}}}                   \n";
		Sleep(50);
		cout << "  2.12.1 正式版        }■  ■}          ■                   \n";
		Sleep(50);
		cout << "                     }  }}}  }        }}}}}                  \n";
		Sleep(50);
		cout << " 新增 皇冠竞技场         ■  ■                     ■  \n";
		Sleep(50);
		cout << "                         ■■■                 }  ■               \n";
		Sleep(50);
		cout << " zty出品，必属精品       ■    ■                 ■                \n";
		Sleep(50);
		cout << "                          }}}                                \n";
		Sleep(50);
		cout << " 努力通关吧！                                             \n";
		Sleep(50);
		cout << "                                                              \n";
		Sleep(50);
		cout << " 输入“1 ”下一页                           \n\n";
		Sleep(50);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	void Start2() {
		system("color 8E");
		system("cls");
		if (sheng == 1) Beep(3200, 50);
		cout << "                                                \n";
		Sleep(50);
		cout << "        ■ ■■■        ■■■  ■      ■     \n";
		Sleep(50);
		cout << "    ■■      ■       ■   ■  ■       ■     \n";
		Sleep(50);
		cout << "            ■      ■     ■   ■       ■     \n";
		Sleep(50);
		cout << "           ■   ■■      ■    ■       ■     \n";
		Sleep(50);
		cout << "         ■  ■            ■  ■ ■     ■     \n";
		Sleep(50);
		cout << "       ■■■               ■■    ■■■      \n";
		Sleep(50);
		cout << "                                         ■     \n";
		Sleep(50);
		cout << "                                 ■      ■     \n";
		Sleep(50);
		cout << " 欢迎来到 [斗破苍穹]               ■    ■     \n";
		Sleep(50);
		cout << "                                     ■■       \n";
		Sleep(50);
		cout << "  zty郑桐羽呀出品        ■                     \n";
		Sleep(50);
		cout << "                     ■  ■  ■     ■■■■    \n";
		Sleep(50);
		cout << "  2.12.1 正式版      ■■■■■     ■    ■    \n";
		Sleep(50);
		cout << "                         ■         ■■■■    \n";
		Sleep(50);
		cout << " 新增 皇冠竞技场     ■  ■  ■                 \n";
		Sleep(50);
		cout << "                     ■■■■■  ■■■  ■■■ \n";
		Sleep(50);
		cout << " zty出品，必属精品               ■  ■  ■  ■ \n";
		Sleep(50);
		cout << "                                 ■■■  ■■■ \n";
		Sleep(50);
		cout << " 努力通关吧！                                   \n";
		Sleep(50);
		cout << "                                                \n";
		Sleep(50);
		cout << " 输入“1 ”开始游戏                    \n\n";
		Sleep(50);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	int boss1 = 0, boss2 = 0;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Diren {//竞技场敌人的结构体
//	char wupin1[20];
//	char wupin2[20];
		int attack;
		int defense;
		int health;
		int money;
		int level;
		long int exp;
	} diren = {0, 0, 0, 0, 0, 0};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞片", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	huolong = {"喷火龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	shibing = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	bossno1 = {"凋零女巫", "凋零通行证", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 500, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "龙鳞", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "命令之书", 1800, 65 * 10, 15000, 20000, 1000, 16, 10, 1, 0},
	dlkl = {"凋零骷髅", "凋零之骨", 3000, 30 * 10, 12000, 20000, 1000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int lun = 0;
	int he = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, yuanzidan = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 120, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 600, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0, fang4X = 550, fang4Xn = 0, mfang = 1000, mfangn = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0, gong4X = 500, gong4Xn = 0, mgong = 1000, mgongn = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0, mingshu = 0, zhadan = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	int lp = 0, ll = 0;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void jingjishengji();
	int jingjipanduan();
	void jingjicaidan();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		if (sheng == 1) Beep(1200, 100);
		MessageBox(NULL, "欢迎来到斗破苍穹 2.12.1 正式版 ！", "斗破苍穹 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		Start();
		Bling();
		Start2();
		Bling();
		int kaishi;
		char player_name[21];
//Sleep(100);system("color A3");
//Sleep(50);system("color E4");
//Sleep(50);system("color B3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 34");
//Sleep(50);system("color E3");
//Sleep(50);system("color 54");
//Sleep(50);system("color E3");
//Sleep(50);system("color 43");
//Sleep(50);system("color E4");
//Sleep(50);system("color 93");
//Sleep(50);system("color E4");
//Sleep(50);system("color C3");
//Sleep(50);system("color E4");
//Sleep(50);system("color D3");
//Sleep(50);system("color E4");
//Sleep(50);system("color F3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 8E");
//printf("                            _________________________________                    ");system("color 8E");
//printf("                          /________________________________/|                    ");system("color 8E");
//printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.11.1 正式版|}--^*=+.              ");system("color 8E");
//printf("                                                \n");system("color 8E");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(300);
		if (sheng == 1) Beep(1200, 100);
		system("cls");
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 8E");
		scanf("%s", player_name);
		Sleep(300);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			if (sheng == 1) Beep(5200, 300);
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
			system("pause");
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		if (sheng == 1) Beep(1200, 100);
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						yuanzidan--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					if (sheng == 1) Beep(1200, 100);
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					if (sheng == 1) Beep(1200, 100);
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						zhadan--;
						guai.health -= 15000;
						AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			if (sheng == 1) Beep(1200, 100);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				if (sheng == 1) Beep(1200, 100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, ".+*凋零风暴*+.") == 0) {
				printf("结束了\n\n");
				if (sheng == 1) Beep(1200, 100);
				system("color 8C");
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 2:
				fang3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 3:
				lp++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 4:
				strongman_arm++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 5:
				gong4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 6:
				gong3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 7:
				gong2n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 8:
				gong5n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 9:
				ll++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 10:
				diaolingxin++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 11:
				fang6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 12:
				gong6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 13:
				gong7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 14:
				fang7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 15:
				diaolingxinhave++;
				if (sheng == 1) Beep(1200, 100);
				boss1 = 1;
				break;
			case 16:
				mingshu++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 17:
				boss2 = 1;
				if (sheng == 1) Beep(1200, 100);
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l2);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l3);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}

	void OrdinaryAct() { //正常行为菜单
		while (1) {
// \(1000);
// system("cls");
			if (ui == 0) {
				system("cls");
				lun = 0;
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n  1,移动     2,道具     3,对话  4,查看状态 \n\n  5,装备  6,关于游戏    7,后台   8,合成台 \n\n  9,设置  10,打开背包 \n\n");
				system("color 8E");
				if (sheng == 1) Beep(1200, 100);
				puts("=============================================================================");
				system("color 8E");
			} else {
				system("cls");
				lun = 0;
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,后台 8,合成台 9,设置 10,背包\n\n\n\n");
				system("color 8E");
				puts("=============================================================================");
				system("color 8E");
			}
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 8E");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3,北朝商会  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "6,皇冠竞技场\n\n\n";
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 8E");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 8E");
										printf("金币：%d", money);
										system("color 8E");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 8E");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 8E");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("匕首:%d个\n", gong1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("西洋剑:%d个\n", gong2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("碧血战锤:%d个\n", gong3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 8E");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，鳞甲￥500 3，重甲￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("布衣:%d个\n", fang1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("鳞甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("鳞甲:%d个\n", fang2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("重甲:%d个\n", fang3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 8E");
											break;

									}
									printf("金币：%d\n", money);
									system("color 8E");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 8E");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手雷：%d\n", boom);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("毒镖：%d\n", dubiao);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000 && yuanzidan < 5) {
												yuanzidan = yuanzidan + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手抛式原子弹：%d\n", yuanzidan);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n\n\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
									}
							}
							break;
						case 4:
							if (sheng == 1) Beep(1200, 100);
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 8E");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 8E");
							printf("防御装备: 8,布衣:%d个 9,鳞甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 8E");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 8E");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 8E");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 8E");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										if (sheng == 1) Beep(1200, 100);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("鳞甲：%d\n", fang2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								lun = 0;
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								if (sheng == 1) Beep(1200, 100);
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(50);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(50);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(50);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(50);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(50);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(50);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(50);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest1;
											s = SuiJi();
											if (s < 7) {
												guai = xiyi;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 9) {
												guai = witch;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												printf("这里安全\n\n\n");
											}
										}
										break;
									case 3:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest2;
											s = SuiJi();
											if (s < 4) {
												guai = witch;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7) {
												battle = 1;
												guai = strongman;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = zhizhu;
												printf("可怕的%s爬了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										break;
									case 5:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest3;
											s = SuiJi();
											if (s <= 3) {
												guai = strongman;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 5) {
												guai = huolong;
												printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 8) {
												guai = gl;
												printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												guai = zhizhu;
												printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										break;
									case 2:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass1;
											s = SuiJi();
											if (s <= 3) {

												guai = bee;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 5) {
												battle = 1;
												guai = horse;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 8) {

												guai = ymr;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {

												guai = nz;
												printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 4:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass2;
											s = SuiJi();
											if (s < 5) {
												guai = horse;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7) {
												guai = shibing;
												printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
												BattleAct();
											} else {
												guai = gl;
												printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 6:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (s < 7) {
												guai = pika;
												printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 9) {
												guai = dapika;
												printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
												BattleAct();
											} else {
												printf("这里安全\n\n\n");
											}
										}

										break;
									case 8:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (s <= 3) {

												guai = cl;
												printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 8 && s >= 4) {

												guai = huolong;
												printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {

												guai = jl;
												printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 7:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass3;
											s = SuiJi();
											if (s < 5) {

												guai = shibing;
												printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7 && boss1 == 0) {

												if (strongman_arm >= 1) {
													printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
													guai = bossno1;
													printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
													BattleAct();
												} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
											} else {

												guai = nz;
												printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 9:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (diaolingxinhave != 0) {
												if (s == 1 && boss2 == 0) {
													guai = dlfb;
													printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
													BattleAct();
												} else if (s >= 2 && s <= 4) {
													guai = dlkl;
													printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
													BattleAct();
												} else if (s >= 5 && s <= 7) {
													guai = gst;
													printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
													BattleAct();
												} else {
													guai = dljs;
													printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
													BattleAct();
												}
											}
											if (diaolingxinhave == 0) {
												cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
											}
										}

										break;
										if (yewai != 0) {
											system("cls");
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 8E");
											break;
										}
								}
								if (yewai == 0) {
									system("cls");
									break;
									printf("已离开荒野。");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
								}
							}
						case 6:
							int hao, ji;
							cout << "欢迎进入皇冠竞技场,年轻人,准备好了吗\n\n\n1,准备好了 0,没有准备好\n\n\n";
							cin >> hao;
							if (!hao) break;
							ji = player.level / 100;
							srand((int)time(0));
							diren.level = rand() % 50 + 1;
							diren.level += ji * 100;
							cout << "敌人等级： ";
							//3 2 20 500
							cout << diren.level << "\n\n\n";
							diren.attack += diren.level * 3;
							diren.defense += diren.level * 2;
							diren.health += diren.level * 20;
							diren.money += diren.level * 500;
							diren.exp += diren.level * 100;
							//			cout<<diren.attack<<"　　"<<diren.defense<<"  "<<diren.health<<"  "<<diren.money<<" "<<diren.exp;
							//			Sleep(10000);
							battle = 1;
							jingjicaidan();
							//	jingjipanduan();
							Sleep(1000);
							break;
					}
					break;
				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (sheng == 1) Beep(1200, 100);
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 8E");
													money -= 25;
													if (sheng == 1) Beep(1200, 100);
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 8E");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 8E");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);

											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 8E");
									printf("再见，欢迎下次再来！\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 8E");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 8E");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					if (sheng == 1) Beep(1200, 100);
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上（CSDN）。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "11";
					//		Sleep(250);
					//		cout<<"6";
					Sleep(250);
					cout << "版本内容";
					Sleep(250);
					cout << "的基础上进行添加，";
					Sleep(250);
					cout << "主要内容为加入皇冠竞技场功能";
					Sleep(250);
					//	cout<<"逃跑失败时会受到伤害，";
					//		Sleep(250);
					//	cout<<"在逃跑时不会退出副本而是切换敌人。";
					//		Sleep(250);
					cout << "已更新完毕，";
					Sleep(250);
					cout << "希望大家喜欢。";
//				cout<<"在这里要感谢";
//				Sleep(250);
//				cout<<"吴";
//				Sleep(250);
//				cout<<"昊";
//				Sleep(250);
//				cout<<"同学，";
//				Sleep(250);
//				cout<<"他给了我许多宝贵的建议，";
//				Sleep(250);
//				cout<<"谢";
//				Sleep(250);
//				cout<<"谢";
//				Sleep(250);
					cout << "\n\n";
					Sleep(250);
					system("color 8E");
					break;
				case 8:
					if (sheng == 1) Beep(1200, 100);
					printf("合成台：                   0:退出\n\n");
					system("color 8E");
					cout << "命令之书:" << mingshu << "\n1： 命令之剑   需要材料：1*X尚方宝剑X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2：X尚方宝剑X  需要材料：1* 尚方宝剑  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3： 命令之甲   需要材料：1*X传说圣甲X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4：X传说圣甲X  需要材料：1* 传说圣甲  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5： 毁灭炸弹   需要材料：5*手抛原子弹 + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "6：  金龙铠    需要材料：5*龙鳞  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "7：   鳞甲     需要材料：5*鳞片  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cin >> he;
					if (he == 1)
						if (he == 1 && gong4Xn >= 1 && mingshu >= 3) {
							gong4Xn--;
							mingshu -= 3;
							mgongn++;
							cout << "恭喜获得命令之剑\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 2)
						if (he == 2 && gong4n >= 1 && mingshu >= 1) {
							gong4n--;
							mingshu--;
							gong4Xn++;
							cout << "恭喜获得X尚方宝剑X\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 3)
						if (he == 3 && fang4Xn >= 1 && mingshu >= 3) {
							fang4Xn--;
							mingshu -= 3;
							mfangn++;
							cout << "恭喜获得命令之甲\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 4)
						if (he == 4 && fang4n >= 1 && mingshu >= 1) {
							fang4n--;
							mingshu--;
							fang4Xn++;
							cout << "恭喜获得X传说圣甲X\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 5)
						if (he == 5 && yuanzidan >= 5 && mingshu >= 3) {
							yuanzidan -= 5;
							mingshu -= 3;
							zhadan++;
							cout << "恭喜获得毁灭炸弹\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 6)
						if (he == 6 && ll >= 5) {
							ll -= 5;
							fang5n++;
							cout << "恭喜获得金龙铠\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 7)
						if (he == 7 && lp >= 5) {
							lp -= 5;
							fang2n++;
							cout << "恭喜获得鳞甲\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 0) break;
					break;
				case 9:
					system("cls");
					cout << "设置        0:退出\n\n";
					cout << "1:声音 ";
					if (sheng == 1) cout << "开\n";
					else cout << "关\n";
					cout << "\n2:UI界面 ";
					if (ui == 1) cout << "老版";
					else cout << "新版";
					cout << "\n\n3,退出游戏";
					cin >> shen;
					if (shen == 1) {
						if (sheng == 1) sheng = 0;
						else sheng = 1;
					}
					if (shen == 2) {
						if (ui == 1) ui = 0;
						else ui = 1;
					}
					if (shen == 3) {
						printf("确定退出游戏?(Y/N)\n\n\n");
						system("color 8E");
						getchar();
						proof = getchar();
						if (proof == 'y' || proof == 'Y') {
							printf("按回车退出");
							system("color 8E");
							getchar();
							return;
						} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
						else printf("继续!\n\n\n");
					}
					if (shen == 0) break;
					break;
				case 7:
					if (sheng == 1) Beep(1200, 100);
					int mi;
					cout << "============================*【后台 开挂 测试Bug】*=============================\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0 && mi != 0) {
						cout << "输入正确！欢迎进入后台！\n\n=================================================\n后台服务：\n\n1.金币加999999\n\n2.血量上限加9999\n\n3.现有血量加9999\n\n4.攻击加9999\n\n5.防御加9999\n\n0.退出\n\n=================================================\n\n " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加999999\n";
							if (sheng == 1) Beep(1200, 100);
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							if (sheng == 1) Beep(1200, 100);
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}
					break;
				case 10:
					system("cls");
					printf("物品:止血草:%d个 急救包:%d个 云南白药:%d个 超级云南白药:%d个 手雷:%d个 毒标:%d个 手抛式原子弹:%d个 经验草:%d个经验包:%d个 经验石:%d个 巨龙晶石:%d个 免死金牌:%d个 凋零之心:%d个 毁灭炸弹:%d个 \n合成材料:鳞片:%d个 龙鳞:%d个 命令之书:%d个\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan, lp, ll, mingshu);
					printf("攻击装备: 匕首:%d个 西洋剑:%d个 粗制石剑:%d个 碧血战锤:%d个 蜘蛛毒剑:%d个 尚方宝剑:%d个 雷霆之刃：%d个 X尚方宝剑X：%d个 命令之剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 布衣:%d个 鳞甲:%d个 12,战斗马甲:%d个 重甲:%d个 石铠甲:%d个 传说圣甲:%d个 金龙铠:%d个 X传说圣甲X:%d个 命令之甲:%d个\t\t\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					system("pause");
					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
		system("pause");
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			if (sheng == 1) Beep(1200, 100);
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,装备 5,逃跑 6,离开副本\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult()) {
						lun = 0;
						return; //如果攻击有结果(敌人或玩家战死)退出函数
					} else {
						lun++;
						continue;
					}
				case 2:
					ChooseWupin();//选择物品,可以使用,战斗中允许使用攻击性物品
					lun++;
					break;
				case 3:
					DisplayState();
					break; //显示状态
				case 4: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 5:
					lun++;
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						if (sheng == 1) Beep(1200, 100);
						lun = 0;
						Sleep(500);
						return;
					} else {
						printf("%s逃跑失败!\n\n\n", player.name);
						if ((guai.attack + s - player.defense / 3) < 0) {
							player.health -= 1;
							printf("%s反击,你的HP减少了 1\n\n", guai.name);
							Sleep(500);
							system("color 8C");
						} else {
							player.health -= guai.attack + s - player.defense / 3;
							printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
							Sleep(500);
							system("color 8C");
						}
						if (player.health < 0) {
							battle = 0;
							printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
							Sleep(500);
							Sleep(500);
							system("color CC");
							money -= player.level * 500;
							player.health = player.max_health / 5;
							OrdinaryAct();
							return;
						}
					}
					if (sheng == 1) Beep(200, 100);
					break;
				case 6:
					if (lun == 0) {
						lun = 0;
						battle = 0;
						printf("%s已退出~\n\n\n", player.name);
						Sleep(500);
						return;
					} else cout << "已开始战斗，无法退出\n\n\n";
					Sleep(500);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
					if (sheng == 1) Beep(200, 100);
					Sleep(500);
			}
		}
	}
	void jingjicaidan() {
		while (1) {
			puts("=============================================================================");
			if (sheng == 1) Beep(1200, 100);
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,装备 5,逃跑 6,离开副本\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! 敌人HP减少%d\n\n\n", player.name, player.attack + s + gong - diren.defense / 3);
					diren.health -= player.attack + s + gong - diren.defense / 3;
					if (jingjipanduan()) {
						lun = 0;
						return; //如果攻击有结果(敌人或玩家战死)退出函数
					} else {
						lun++;
						continue;
					}
				case 2:
					ChooseWupin();//选择物品,可以使用,战斗中允许使用攻击性物品
					lun++;
					break;
				case 3:
					DisplayState();
					break; //显示状态
				case 4: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 5:
					lun++;
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						if (sheng == 1) Beep(1200, 100);
						lun = 0;
						Sleep(500);
						return;
					} else {
						printf("%s逃跑失败!\n\n\n", player.name);
						if ((diren.attack + s - player.defense / 3) < 0) {
							player.health -= 1;
							printf("敌人反击,你的HP减少了 1\n\n");
							Sleep(500);
							system("color 8C");
						} else {
							player.health -= diren.attack + s - player.defense / 3;
							printf("敌人反击,你的HP减少了%d\n\n", diren.attack + s - player.defense / 3);
							Sleep(500);
							system("color 8C");
						}
						if (player.health < 0) {
							battle = 0;
							printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
							Sleep(500);
							Sleep(500);
							system("color CC");
							money -= player.level * 500;
							player.health = player.max_health / 5;
							OrdinaryAct();
							return;
						}
					}
					if (sheng == 1) Beep(200, 100);
					break;
				case 6:
					if (lun == 0) {
						lun = 0;
						battle = 0;
						printf("%s已退出~\n\n\n", player.name);
						Sleep(500);
						return;
					} else cout << "已开始战斗，无法退出\n\n\n";
					Sleep(500);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
					if (sheng == 1) Beep(200, 100);
					Sleep(500);
			}
		}
	}
	int jingjipanduan() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (diren.health <= 0) {
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", diren.money, diren.exp);
			system("color 8C");
			if (sheng == 1) Beep(1200, 100);
			player.exp += diren.exp;
			player.range_exp += diren.exp;
			money += diren.money;
			jingjishengji();
			system("color 8C");
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			if ((diren.attack + player.defense / 3) < 0) {
				player.health -= 1;
				printf("敌人反击,你的HP减少了 1\n\n");
				system("color 8C");
			} else {
				player.health -= diren.attack + s - player.defense / 3;
				printf("敌人反击,你的HP减少了%d\n\n", diren.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void jingjishengji() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				Sleep(1000);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				Sleep(1000);
				player.exp = (player.exp + diren.exp) || player.exp - ((player.exp + diren.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l2);
				system("color 8E");
				Sleep(1000);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l3);
				Sleep(1000);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				Sleep(1000);
				player.exp = player.exp + diren.exp - (player.exp + diren.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}


}
namespace dpcq2_11_7 {

	using namespace std;
	int shen = 0;
	int ui = 0;
	int sheng = 1;
	void SetColorAndBackground(int ForgC, int BackC) {
		WORD wColor = ((BackC & 0x0F) << 4) + (ForgC & 0x0F);
		SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), wColor);
	}
	void Bling() {
		for (int i = 0; i <= 5; i++) {
			system("color 1A");
			Sleep(20);
			if (sheng == 1) if (sheng == 1) Beep(1200, 50);
			system("color 2B");
			Sleep(20);
			system("color 3C");
			Sleep(20);
			system("color 4D");
			Sleep(20);
			if (sheng == 1) Beep(1200, 50);
			system("color 5D");
			Sleep(20);
			system("color 6E");
			Sleep(20);
			system("color 7F");
			Sleep(20);
			if (sheng == 1) Beep(1200, 50);
		}
	}
	void Start() {
		if (sheng == 1) Beep(3200, 50);
		system("color 8E");
		cout << "         ■                       ■                                  \n";
		Sleep(50);
		cout << "      ■ ■        ■■■■    ■■■■■                        \n";
		Sleep(50);
		cout << "   ■ ■ ■           ■      ■  ■  ■                  \n";
		Sleep(50);
		cout << "    ■   ■         ■        ■  ■                         \n";
		Sleep(50);
		cout << "   ■■■■■■   ■■■■   ■ ■■■                    \n";
		Sleep(50);
		cout << "         ■     ■  ■  ■  ■  ■  ■                         \n";
		Sleep(50);
		cout << "         ■         ■■■ ■     ■            ■            \n";
		Sleep(50);
		cout << "         ■               ■    ■  ■  }}}}}}}}}                \n";
		Sleep(50);
		cout << "                                      }               }              \n";
		Sleep(50);
		cout << " 欢迎来到 [斗破苍穹]   ■      ■        ■           ■                \n";
		Sleep(50);
		cout << "                    }}}}}}}}    ■ }}}}}  ■          \n";
		Sleep(50);
		cout << "  zty郑桐羽出品        ■      ■                  ■     \n";
		Sleep(50);
		cout << "                           }              }}}}}                   \n";
		Sleep(50);
		cout << "  2.11.7 正式版        }■  ■}          ■                   \n";
		Sleep(50);
		cout << "                     }  }}}  }        }}}}}                  \n";
		Sleep(50);
		cout << " 新增 合成台功能         ■  ■                     ■  \n";
		Sleep(50);
		cout << "                         ■■■                 }  ■               \n";
		Sleep(50);
		cout << " zty出品，必属精品       ■    ■                 ■                \n";
		Sleep(50);
		cout << "                          }}}                                \n";
		Sleep(50);
		cout << " 努力通关吧！                                             \n";
		Sleep(50);
		cout << "                                                              \n";
		Sleep(50);
		cout << " 输入“1 ”下一页                           \n\n";
		Sleep(50);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	void Start2() {
		system("color 8E");
		system("cls");
		if (sheng == 1) Beep(3200, 50);
		cout << "                                                \n";
		Sleep(50);
		cout << "        ■ ■■■        ■■■  ■      ■     \n";
		Sleep(50);
		cout << "    ■■      ■       ■   ■  ■       ■     \n";
		Sleep(50);
		cout << "            ■      ■     ■   ■       ■     \n";
		Sleep(50);
		cout << "           ■   ■■      ■    ■       ■     \n";
		Sleep(50);
		cout << "         ■  ■            ■  ■ ■     ■     \n";
		Sleep(50);
		cout << "       ■■■               ■■    ■■■      \n";
		Sleep(50);
		cout << "                                         ■     \n";
		Sleep(50);
		cout << "                                 ■      ■     \n";
		Sleep(50);
		cout << " 欢迎来到 [斗破苍穹]               ■    ■     \n";
		Sleep(50);
		cout << "                                     ■■       \n";
		Sleep(50);
		cout << "  zty工作室出品          ■                     \n";
		Sleep(50);
		cout << "                     ■  ■  ■     ■■■■    \n";
		Sleep(50);
		cout << "  2.11.7 正式版      ■■■■■     ■    ■    \n";
		Sleep(50);
		cout << "                         ■         ■■■■    \n";
		Sleep(50);
		cout << " 新增 合成台功能     ■  ■  ■                 \n";
		Sleep(50);
		cout << "                     ■■■■■  ■■■  ■■■ \n";
		Sleep(50);
		cout << " zty出品，必属精品               ■  ■  ■  ■ \n";
		Sleep(50);
		cout << "                                 ■■■  ■■■ \n";
		Sleep(50);
		cout << " 努力通关吧！                                   \n";
		Sleep(50);
		cout << "                                                \n";
		Sleep(50);
		cout << " 输入“1 ”开始游戏                    \n\n";
		Sleep(50);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	int boss1 = 0, boss2 = 0;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞片", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	huolong = {"喷火龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	shibing = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	bossno1 = {"凋零女巫", "凋零通行证", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 500, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "龙鳞", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "命令之书", 1800, 65 * 10, 15000, 20000, 1000, 16, 10, 1, 0},
	dlkl = {"凋零骷髅", "凋零之骨", 3000, 30 * 10, 12000, 20000, 1000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int lun = 0;
	int he = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, yuanzidan = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 120, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 600, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0, fang4X = 550, fang4Xn = 0, mfang = 1000, mfangn = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0, gong4X = 500, gong4Xn = 0, mgong = 1000, mgongn = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0, mingshu = 0, zhadan = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	int lp = 0, ll = 0;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		if (sheng == 1) Beep(1200, 100);
		MessageBox(NULL, "欢迎来到斗破苍穹 2.11.7 正式版 ！", "斗破苍穹 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		Start();
		Bling();
		Start2();
		Bling();
		int kaishi;
		char player_name[21];
//Sleep(100);system("color A3");
//Sleep(50);system("color E4");
//Sleep(50);system("color B3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 34");
//Sleep(50);system("color E3");
//Sleep(50);system("color 54");
//Sleep(50);system("color E3");
//Sleep(50);system("color 43");
//Sleep(50);system("color E4");
//Sleep(50);system("color 93");
//Sleep(50);system("color E4");
//Sleep(50);system("color C3");
//Sleep(50);system("color E4");
//Sleep(50);system("color D3");
//Sleep(50);system("color E4");
//Sleep(50);system("color F3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 8E");
//printf("                            _________________________________                    ");system("color 8E");
//printf("                          /________________________________/|                    ");system("color 8E");
//printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.11.1 正式版|}--^*=+.              ");system("color 8E");
//printf("                                                \n");system("color 8E");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(300);
		if (sheng == 1) Beep(1200, 100);
		system("cls");
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 8E");
		scanf("%s", player_name);
		Sleep(300);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			if (sheng == 1) Beep(5200, 300);
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
			system("pause");
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		if (sheng == 1) Beep(1200, 100);
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						yuanzidan--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					if (sheng == 1) Beep(1200, 100);
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					if (sheng == 1) Beep(1200, 100);
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						zhadan--;
						guai.health -= 15000;
						AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			if (sheng == 1) Beep(1200, 100);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				if (sheng == 1) Beep(1200, 100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, ".+*凋零风暴*+.") == 0) {
				printf("结束了\n\n");
				if (sheng == 1) Beep(1200, 100);
				system("color 8C");
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 2:
				fang3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 3:
				lp++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 4:
				strongman_arm++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 5:
				gong4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 6:
				gong3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 7:
				gong2n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 8:
				gong5n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 9:
				ll++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 10:
				diaolingxin++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 11:
				fang6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 12:
				gong6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 13:
				gong7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 14:
				fang7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 15:
				diaolingxinhave++;
				if (sheng == 1) Beep(1200, 100);
				boss1 = 1;
				break;
			case 16:
				mingshu++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 17:
				boss2 = 1;
				if (sheng == 1) Beep(1200, 100);
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l2);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l3);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单
		while (1) {
// \(1000);
// system("cls");
			if (ui == 0) {
				system("cls");
				lun = 0;
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n  1,移动     2,道具     3,对话  4,查看状态 \n\n  5,装备  6,关于游戏    7,后台   8,合成台 \n\n  9,设置  10,打开背包 \n\n");
				system("color 8E");
				if (sheng == 1) Beep(1200, 100);
				puts("=============================================================================");
				system("color 8E");
			} else {
				system("cls");
				lun = 0;
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,后台 8,合成台 9,设置 10,背包\n\n\n\n");
				system("color 8E");
				puts("=============================================================================");
				system("color 8E");
			}
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 8E");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3,北朝商会  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 8E");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 8E");
										printf("金币：%d", money);
										system("color 8E");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 8E");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 8E");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("匕首:%d个\n", gong1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("西洋剑:%d个\n", gong2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("碧血战锤:%d个\n", gong3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 8E");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，鳞甲￥500 3，重甲￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("布衣:%d个\n", fang1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("鳞甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("鳞甲:%d个\n", fang2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("重甲:%d个\n", fang3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 8E");
											break;

									}
									printf("金币：%d\n", money);
									system("color 8E");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 8E");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手雷：%d\n", boom);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("毒镖：%d\n", dubiao);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000 && yuanzidan < 5) {
												yuanzidan = yuanzidan + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手抛式原子弹：%d\n", yuanzidan);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n\n\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
									}
							}
							break;
						case 4:
							if (sheng == 1) Beep(1200, 100);
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 8E");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 8E");
							printf("防御装备: 8,布衣:%d个 9,鳞甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 8E");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 8E");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 8E");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 8E");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										if (sheng == 1) Beep(1200, 100);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("鳞甲：%d\n", fang2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								lun = 0;
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								if (sheng == 1) Beep(1200, 100);
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(50);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(50);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(50);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(50);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(50);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(50);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(50);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest1;
											s = SuiJi();
											if (s < 7) {
												guai = xiyi;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 9) {
												guai = witch;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												printf("这里安全\n\n\n");
											}
										}
										break;
									case 3:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest2;
											s = SuiJi();
											if (s < 4) {
												guai = witch;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7) {
												battle = 1;
												guai = strongman;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = zhizhu;
												printf("可怕的%s爬了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										break;
									case 5:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest3;
											s = SuiJi();
											if (s <= 3) {
												guai = strongman;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 5) {
												guai = huolong;
												printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 8) {
												guai = gl;
												printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												guai = zhizhu;
												printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										break;
									case 2:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass1;
											s = SuiJi();
											if (s <= 3) {

												guai = bee;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 5) {
												battle = 1;
												guai = horse;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 8) {

												guai = ymr;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {

												guai = nz;
												printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 4:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass2;
											s = SuiJi();
											if (s < 5) {
												guai = horse;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7) {
												guai = shibing;
												printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
												BattleAct();
											} else {
												guai = gl;
												printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 6:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (s < 7) {
												guai = pika;
												printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 9) {
												guai = dapika;
												printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
												BattleAct();
											} else {
												printf("这里安全\n\n\n");
											}
										}

										break;
									case 8:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (s <= 3) {

												guai = cl;
												printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 8 && s >= 4) {

												guai = huolong;
												printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {

												guai = jl;
												printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 7:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass3;
											s = SuiJi();
											if (s < 5) {

												guai = shibing;
												printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7 && boss1 == 0) {

												if (strongman_arm >= 1) {
													printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
													guai = bossno1;
													printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
													BattleAct();
												} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
											} else {

												guai = nz;
												printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 9:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (diaolingxinhave != 0) {
												if (s == 1 && boss2 == 0) {
													guai = dlfb;
													printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
													BattleAct();
												} else if (s >= 2 && s <= 4) {
													guai = dlkl;
													printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
													BattleAct();
												} else if (s >= 5 && s <= 7) {
													guai = gst;
													printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
													BattleAct();
												} else {
													guai = dljs;
													printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
													BattleAct();
												}
											}
											if (diaolingxinhave == 0) {
												cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
											}
										}

										break;
										if (yewai != 0) {
											system("cls");
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 8E");
											break;
										}
								}
								if (yewai == 0) {
									system("cls");
									break;
									printf("已离开荒野。");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (sheng == 1) Beep(1200, 100);
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 8E");
													money -= 25;
													if (sheng == 1) Beep(1200, 100);
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 8E");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 8E");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);

											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 8E");
									printf("再见，欢迎下次再来！\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 8E");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 8E");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					if (sheng == 1) Beep(1200, 100);
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上（CSDN）。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "11.";
					Sleep(250);
					cout << "6";
					Sleep(250);
					cout << "版本内容";
					Sleep(250);
					cout << "的基础上进行添加，";
					Sleep(250);
					cout << "主要内容为加入新的战斗UI，";
					Sleep(250);
					cout << "逃跑失败时会受到伤害，";
					Sleep(250);
					cout << "在逃跑时不会退出副本而是切换敌人。";
					Sleep(250);
					cout << "已更新完毕，";
					Sleep(250);
					cout << "希望大家喜欢。";
//				cout<<"在这里要感谢";
//				Sleep(250);
//				cout<<"吴";
//				Sleep(250);
//				cout<<"昊";
//				Sleep(250);
//				cout<<"同学，";
//				Sleep(250);
//				cout<<"他给了我许多宝贵的建议，";
//				Sleep(250);
//				cout<<"谢";
//				Sleep(250);
//				cout<<"谢";
//				Sleep(250);
					cout << "\n\n";
					Sleep(250);
					system("color 8E");
					break;
				case 8:
					if (sheng == 1) Beep(1200, 100);
					printf("合成台：                   0:退出\n\n");
					system("color 8E");
					cout << "命令之书:" << mingshu << "\n1： 命令之剑   需要材料：1*X尚方宝剑X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2：X尚方宝剑X  需要材料：1* 尚方宝剑  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3： 命令之甲   需要材料：1*X传说圣甲X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4：X传说圣甲X  需要材料：1* 传说圣甲  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5： 毁灭炸弹   需要材料：5*手抛原子弹 + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "6：  金龙铠    需要材料：5*龙鳞  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "7：   鳞甲     需要材料：5*鳞片  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cin >> he;
					if (he == 1)
						if (he == 1 && gong4Xn >= 1 && mingshu >= 3) {
							gong4Xn--;
							mingshu -= 3;
							mgongn++;
							cout << "恭喜获得命令之剑\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 2)
						if (he == 2 && gong4n >= 1 && mingshu >= 1) {
							gong4n--;
							mingshu--;
							gong4Xn++;
							cout << "恭喜获得X尚方宝剑X\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 3)
						if (he == 3 && fang4Xn >= 1 && mingshu >= 3) {
							fang4Xn--;
							mingshu -= 3;
							mfangn++;
							cout << "恭喜获得命令之甲\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 4)
						if (he == 4 && fang4n >= 1 && mingshu >= 1) {
							fang4n--;
							mingshu--;
							fang4Xn++;
							cout << "恭喜获得X传说圣甲X\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 5)
						if (he == 5 && yuanzidan >= 5 && mingshu >= 3) {
							yuanzidan -= 5;
							mingshu -= 3;
							zhadan++;
							cout << "恭喜获得毁灭炸弹\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 6)
						if (he == 6 && ll >= 5) {
							ll -= 5;
							fang5n++;
							cout << "恭喜获得金龙铠\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 7)
						if (he == 7 && lp >= 5) {
							lp -= 5;
							fang2n++;
							cout << "恭喜获得鳞甲\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 0) break;
					break;
				case 9:
					system("cls");
					cout << "设置        0:退出\n\n";
					cout << "1:声音 ";
					if (sheng == 1) cout << "开\n";
					else cout << "关\n";
					cout << "\n2:UI界面 ";
					if (ui == 1) cout << "老版";
					else cout << "新版";
					cout << "\n\n3,退出游戏";
					cin >> shen;
					if (shen == 1) {
						if (sheng == 1) sheng = 0;
						else sheng = 1;
					}
					if (shen == 2) {
						if (ui == 1) ui = 0;
						else ui = 1;
					}
					if (shen == 3) {
						printf("确定退出游戏?(Y/N)\n\n\n");
						system("color 8E");
						getchar();
						proof = getchar();
						if (proof == 'y' || proof == 'Y') {
							printf("按回车退出");
							system("color 8E");
							getchar();
							return;
						} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
						else printf("继续!\n\n\n");
					}
					if (shen == 0) break;
					break;
				case 7:
					if (sheng == 1) Beep(1200, 100);
					int mi;
					cout << "============================*【后台 开挂 测试Bug】*=============================\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0 && mi != 0) {
						cout << "输入正确！欢迎进入后台！\n\n=================================================\n后台服务：\n\n1.金币加999999\n\n2.血量上限加9999\n\n3.现有血量加9999\n\n4.攻击加9999\n\n5.防御加9999\n\n0.退出\n\n=================================================\n\n " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加999999\n";
							if (sheng == 1) Beep(1200, 100);
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							if (sheng == 1) Beep(1200, 100);
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}
					break;
				case 10:
					system("cls");
					printf("物品:止血草:%d个 急救包:%d个 云南白药:%d个 超级云南白药:%d个 手雷:%d个 毒标:%d个 手抛式原子弹:%d个 经验草:%d个经验包:%d个 经验石:%d个 巨龙晶石:%d个 免死金牌:%d个 凋零之心:%d个 毁灭炸弹:%d个 \n合成材料:鳞片:%d个 龙鳞:%d个 命令之书:%d个\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan, lp, ll, mingshu);
					printf("攻击装备: 匕首:%d个 西洋剑:%d个 粗制石剑:%d个 碧血战锤:%d个 蜘蛛毒剑:%d个 尚方宝剑:%d个 雷霆之刃：%d个 X尚方宝剑X：%d个 命令之剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 布衣:%d个 鳞甲:%d个 12,战斗马甲:%d个 重甲:%d个 石铠甲:%d个 传说圣甲:%d个 金龙铠:%d个 X传说圣甲X:%d个 命令之甲:%d个\t\t\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					system("pause");
					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
		system("pause");
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			if (sheng == 1) Beep(1200, 100);
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,装备 5,逃跑 6,离开副本\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult()) {
						lun = 0;
						return; //如果攻击有结果(敌人或玩家战死)退出函数
					} else {
						lun++;
						continue;
					}
				case 2:
					ChooseWupin();//选择物品,可以使用,战斗中允许使用攻击性物品
					lun++;
					break;
				case 3:
					DisplayState();
					break; //显示状态
				case 4: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 5:
					lun++;
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						if (sheng == 1) Beep(1200, 100);
						lun = 0;
						Sleep(500);
						return;
					} else {
						printf("%s逃跑失败!\n\n\n", player.name);
						if ((guai.attack + s - player.defense / 3) < 0) {
							player.health -= 1;
							printf("%s反击,你的HP减少了 1\n\n", guai.name);
							Sleep(500);
							system("color 8C");
						} else {
							player.health -= guai.attack + s - player.defense / 3;
							printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
							Sleep(500);
							system("color 8C");
						}
						if (player.health < 0) {
							battle = 0;
							printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
							Sleep(500);
							Sleep(500);
							system("color CC");
							money -= player.level * 500;
							player.health = player.max_health / 5;
							OrdinaryAct();
							return;
						}
					}
					if (sheng == 1) Beep(200, 100);
					break;
				case 6:
					if (lun == 0) {
						lun = 0;
						battle = 0;
						printf("%s已退出~\n\n\n", player.name);
						Sleep(500);
						return;
					} else cout << "已开始战斗，无法退出\n\n\n";
					Sleep(500);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
					if (sheng == 1) Beep(200, 100);
					Sleep(500);
			}
		}
	}
}
namespace dpcq2_11_6 {

	using namespace std;
	int shen = 0;
	int ui = 0;
	int sheng = 1;
	void SetColorAndBackground(int ForgC, int BackC) {
		WORD wColor = ((BackC & 0x0F) << 4) + (ForgC & 0x0F);
		SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), wColor);
	}
	void Bling() {
		for (int i = 0; i <= 5; i++) {
			system("color 1A");
			Sleep(20);
			if (sheng == 1) if (sheng == 1) Beep(1200, 50);
			system("color 2B");
			Sleep(20);
			system("color 3C");
			Sleep(20);
			system("color 4D");
			Sleep(20);
			if (sheng == 1) Beep(1200, 50);
			system("color 5D");
			Sleep(20);
			system("color 6E");
			Sleep(20);
			system("color 7F");
			Sleep(20);
			if (sheng == 1) Beep(1200, 50);
		}
	}
	void Start() {
		if (sheng == 1) Beep(3200, 50);
		system("color 8E");
		cout << "         ■                       ■                                  \n";
		Sleep(50);
		cout << "      ■ ■        ■■■■    ■■■■■                        \n";
		Sleep(50);
		cout << "   ■ ■ ■           ■      ■  ■  ■                  \n";
		Sleep(50);
		cout << "    ■   ■         ■        ■  ■                         \n";
		Sleep(50);
		cout << "   ■■■■■■   ■■■■   ■ ■■■                    \n";
		Sleep(50);
		cout << "         ■     ■  ■  ■  ■  ■  ■                         \n";
		Sleep(50);
		cout << "         ■         ■■■ ■     ■            ■            \n";
		Sleep(50);
		cout << "         ■               ■    ■  ■  }}}}}}}}}                \n";
		Sleep(50);
		cout << "                                      }               }              \n";
		Sleep(50);
		cout << " 欢迎来到 [斗破苍穹]   ■      ■        ■           ■                \n";
		Sleep(50);
		cout << "                    }}}}}}}}    ■ }}}}}  ■          \n";
		Sleep(50);
		cout << "  zty郑桐羽出品        ■      ■                  ■     \n";
		Sleep(50);
		cout << "                           }              }}}}}                   \n";
		Sleep(50);
		cout << "  2.11.6 正式版        }■  ■}          ■                   \n";
		Sleep(50);
		cout << "                     }  }}}  }        }}}}}                  \n";
		Sleep(50);
		cout << " 新增 合成台功能         ■  ■                     ■  \n";
		Sleep(50);
		cout << "                         ■■■                 }  ■               \n";
		Sleep(50);
		cout << " zty出品，必属精品       ■    ■                 ■                \n";
		Sleep(50);
		cout << "                          }}}                                \n";
		Sleep(50);
		cout << " 努力通关吧！                                             \n";
		Sleep(50);
		cout << "                                                              \n";
		Sleep(50);
		cout << " 输入“1 ”下一页                           \n\n";
		Sleep(50);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	void Start2() {
		system("color 8E");
		system("cls");
		if (sheng == 1) Beep(3200, 50);
		cout << "                                                \n";
		Sleep(50);
		cout << "        ■ ■■■        ■■■  ■      ■     \n";
		Sleep(50);
		cout << "    ■■      ■       ■   ■  ■       ■     \n";
		Sleep(50);
		cout << "            ■      ■     ■   ■       ■     \n";
		Sleep(50);
		cout << "           ■   ■■      ■    ■       ■     \n";
		Sleep(50);
		cout << "         ■  ■            ■  ■ ■     ■     \n";
		Sleep(50);
		cout << "       ■■■               ■■    ■■■      \n";
		Sleep(50);
		cout << "                                         ■     \n";
		Sleep(50);
		cout << "                                 ■      ■     \n";
		Sleep(50);
		cout << " 欢迎来到 [斗破苍穹]               ■    ■     \n";
		Sleep(50);
		cout << "                                     ■■       \n";
		Sleep(50);
		cout << "  zty工作室出品          ■                     \n";
		Sleep(50);
		cout << "                     ■  ■  ■     ■■■■    \n";
		Sleep(50);
		cout << "  2.11.6 正式版      ■■■■■     ■    ■    \n";
		Sleep(50);
		cout << "                         ■         ■■■■    \n";
		Sleep(50);
		cout << " 新增 合成台功能     ■  ■  ■                 \n";
		Sleep(50);
		cout << "                     ■■■■■  ■■■  ■■■ \n";
		Sleep(50);
		cout << " zty出品，必属精品               ■  ■  ■  ■ \n";
		Sleep(50);
		cout << "                                 ■■■  ■■■ \n";
		Sleep(50);
		cout << " 努力通关吧！                                   \n";
		Sleep(50);
		cout << "                                                \n";
		Sleep(50);
		cout << " 输入“1 ”开始游戏                    \n\n";
		Sleep(50);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	int boss1 = 0, boss2 = 0;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞片", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	huolong = {"喷火龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	shibing = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	bossno1 = {"凋零女巫", "凋零通行证", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 500, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "龙鳞", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "命令之书", 1800, 65 * 10, 15000, 20000, 1000, 16, 10, 1, 0},
	dlkl = {"凋零骷髅", "凋零之骨", 3000, 30 * 10, 12000, 20000, 1000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int he = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, yuanzidan = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 120, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 600, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0, fang4X = 550, fang4Xn = 0, mfang = 1000, mfangn = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0, gong4X = 500, gong4Xn = 0, mgong = 1000, mgongn = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0, mingshu = 0, zhadan = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	int lp = 0, ll = 0;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		if (sheng == 1) Beep(1200, 100);
		MessageBox(NULL, "欢迎来到斗破苍穹 2.11.6 正式版 ！", "斗破苍穹 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		Start();
		Bling();
		Start2();
		Bling();
		int kaishi;
		char player_name[21];
//Sleep(100);system("color A3");
//Sleep(50);system("color E4");
//Sleep(50);system("color B3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 34");
//Sleep(50);system("color E3");
//Sleep(50);system("color 54");
//Sleep(50);system("color E3");
//Sleep(50);system("color 43");
//Sleep(50);system("color E4");
//Sleep(50);system("color 93");
//Sleep(50);system("color E4");
//Sleep(50);system("color C3");
//Sleep(50);system("color E4");
//Sleep(50);system("color D3");
//Sleep(50);system("color E4");
//Sleep(50);system("color F3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 8E");
//printf("                            _________________________________                    ");system("color 8E");
//printf("                          /________________________________/|                    ");system("color 8E");
//printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.11.1 正式版|}--^*=+.              ");system("color 8E");
//printf("                                                \n");system("color 8E");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(300);
		if (sheng == 1) Beep(1200, 100);
		system("cls");
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 8E");
		scanf("%s", player_name);
		Sleep(300);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			if (sheng == 1) Beep(5200, 300);
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
			system("pause");
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		if (sheng == 1) Beep(1200, 100);
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						yuanzidan--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					if (sheng == 1) Beep(1200, 100);
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					if (sheng == 1) Beep(1200, 100);
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						zhadan--;
						guai.health -= 15000;
						AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			if (sheng == 1) Beep(1200, 100);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				if (sheng == 1) Beep(1200, 100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, ".+*凋零风暴*+.") == 0) {
				printf("结束了\n\n");
				if (sheng == 1) Beep(1200, 100);
				system("color 8C");
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 2:
				fang3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 3:
				lp++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 4:
				strongman_arm++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 5:
				gong4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 6:
				gong3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 7:
				gong2n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 8:
				gong5n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 9:
				ll++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 10:
				diaolingxin++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 11:
				fang6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 12:
				gong6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 13:
				gong7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 14:
				fang7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 15:
				diaolingxinhave++;
				if (sheng == 1) Beep(1200, 100);
				boss1++;
				break;
			case 16:
				mingshu++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 17:
				boss2++;
				if (sheng == 1) Beep(1200, 100);
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l2);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l3);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单
		while (1) {
// \(1000);
// system("cls");
			if (ui == 0) {
				system("cls");
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n  1,移动     2,道具     3,对话  4,查看状态 \n\n  5,装备  6,关于游戏    7,后台   8,合成台 \n\n  9,设置  10,打开背包 \n\n");
				system("color 8E");
				if (sheng == 1) Beep(1200, 100);
				puts("=============================================================================");
				system("color 8E");
			} else {
				system("cls");
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,后台 8,合成台 9,设置 10,背包\n\n\n\n");
				system("color 8E");
				puts("=============================================================================");
				system("color 8E");
			}
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 8E");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3,北朝商会  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 8E");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 8E");
										printf("金币：%d", money);
										system("color 8E");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 8E");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 8E");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("匕首:%d个\n", gong1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("西洋剑:%d个\n", gong2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("碧血战锤:%d个\n", gong3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 8E");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，鳞甲￥500 3，重甲￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("布衣:%d个\n", fang1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("鳞甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("鳞甲:%d个\n", fang2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("重甲:%d个\n", fang3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 8E");
											break;

									}
									printf("金币：%d\n", money);
									system("color 8E");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 8E");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手雷：%d\n", boom);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("毒镖：%d\n", dubiao);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000 && yuanzidan < 5) {
												yuanzidan = yuanzidan + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手抛式原子弹：%d\n", yuanzidan);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n\n\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
									}
							}
							break;
						case 4:
							if (sheng == 1) Beep(1200, 100);
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 8E");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 8E");
							printf("防御装备: 8,布衣:%d个 9,鳞甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 8E");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 8E");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 8E");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 8E");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										if (sheng == 1) Beep(1200, 100);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("鳞甲：%d\n", fang2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								if (sheng == 1) Beep(1200, 100);
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(50);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(50);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(50);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(50);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(50);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(50);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(50);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest1;
											s = SuiJi();
											if (s < 7) {
												guai = xiyi;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 9) {
												guai = witch;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												printf("这里安全\n\n\n");
											}
										}
										break;
									case 3:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest2;
											s = SuiJi();
											if (s < 4) {
												guai = witch;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7) {
												battle = 1;
												guai = strongman;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = zhizhu;
												printf("可怕的%s爬了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										break;
									case 5:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.forest3;
											s = SuiJi();
											if (s <= 3) {
												guai = strongman;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 5) {
												guai = huolong;
												printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 8) {
												guai = gl;
												printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												guai = zhizhu;
												printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										break;
									case 2:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass1;
											s = SuiJi();
											if (s <= 3) {

												guai = bee;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 5) {
												battle = 1;
												guai = horse;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 8) {

												guai = ymr;
												printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {

												guai = nz;
												printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 4:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass2;
											s = SuiJi();
											if (s < 5) {
												guai = horse;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7) {
												guai = shibing;
												printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
												BattleAct();
											} else {
												guai = gl;
												printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 6:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (s < 7) {
												guai = pika;
												printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 9) {
												guai = dapika;
												printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
												BattleAct();
											} else {
												printf("这里安全\n\n\n");
											}
										}

										break;
									case 8:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (s <= 3) {

												guai = cl;
												printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 8 && s >= 4) {

												guai = huolong;
												printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {

												guai = jl;
												printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 7:
										battle = 1;
										while (battle == 1) {
											system("cls");
											place_sign = place.grass3;
											s = SuiJi();
											if (s < 5) {

												guai = shibing;
												printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
												BattleAct();
											} else if (s < 7 || boss1 == 0) {

												if (strongman_arm >= 1) {
													printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
													guai = bossno1;
													printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
													BattleAct();
												} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
											} else {

												guai = nz;
												printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
												BattleAct();
											}
										}

										break;
									case 9:
										battle = 1;
										while (battle == 1) {
											system("cls");
											s = SuiJi();
											if (diaolingxinhave != 0) {
												if (s == 1 && boss2 == 0) {
													guai = dlfb;
													printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
													BattleAct();
												} else if (s >= 2 && s <= 4) {
													guai = dlkl;
													printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
													BattleAct();
												} else if (s >= 5 && s <= 7) {
													guai = gst;
													printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
													BattleAct();
												} else {
													guai = dljs;
													printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
													BattleAct();
												}
											}
											if (diaolingxinhave == 0) {
												cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
											}
										}

										break;
										if (yewai != 0) {
											system("cls");
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 8E");
											break;
										}
								}
								if (yewai == 0) {
									system("cls");
									break;
									printf("已离开荒野。");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (sheng == 1) Beep(1200, 100);
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 8E");
													money -= 25;
													if (sheng == 1) Beep(1200, 100);
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 8E");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 8E");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);

											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 8E");
									printf("再见，欢迎下次再来！\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 8E");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 8E");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					if (sheng == 1) Beep(1200, 100);
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "11.";
					Sleep(250);
					cout << "5";
					Sleep(250);
					cout << "版本内容";
					Sleep(250);
					cout << "的基础上进行添加，";
					Sleep(250);
					cout << "主要内容为新增背包和将退出游戏改到了设置里面还有如果不逃跑是不会停止战斗";
					Sleep(250);
					cout << "已更新完毕，";
					Sleep(250);
					cout << "希望大家喜欢。";
//				cout<<"在这里要感谢";
//				Sleep(250);
//				cout<<"吴";
//				Sleep(250);
//				cout<<"昊";
//				Sleep(250);
//				cout<<"同学，";
//				Sleep(250);
//				cout<<"他给了我许多宝贵的建议，";
//				Sleep(250);
//				cout<<"谢";
//				Sleep(250);
//				cout<<"谢";
//				Sleep(250);
					cout << "\n\n";
					Sleep(250);
					system("color 8E");
					break;
				case 8:
					if (sheng == 1) Beep(1200, 100);
					printf("合成台：                   0:退出\n\n");
					system("color 8E");
					cout << "命令之书:" << mingshu << "\n1： 命令之剑   需要材料：1*X尚方宝剑X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2：X尚方宝剑X  需要材料：1* 尚方宝剑  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3： 命令之甲   需要材料：1*X传说圣甲X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4：X传说圣甲X  需要材料：1* 传说圣甲  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5： 毁灭炸弹   需要材料：5*手抛原子弹 + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "6：  金龙铠    需要材料：5*龙鳞  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "7：   鳞甲     需要材料：5*鳞片  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cin >> he;
					if (he == 1)
						if (he == 1 && gong4Xn >= 1 && mingshu >= 3) {
							gong4Xn--;
							mingshu -= 3;
							mgongn++;
							cout << "恭喜获得命令之剑\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 2)
						if (he == 2 && gong4n >= 1 && mingshu >= 1) {
							gong4n--;
							mingshu--;
							gong4Xn++;
							cout << "恭喜获得X尚方宝剑X\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 3)
						if (he == 3 && fang4Xn >= 1 && mingshu >= 3) {
							fang4Xn--;
							mingshu -= 3;
							mfangn++;
							cout << "恭喜获得命令之甲\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 4)
						if (he == 4 && fang4n >= 1 && mingshu >= 1) {
							fang4n--;
							mingshu--;
							fang4Xn++;
							cout << "恭喜获得X传说圣甲X\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 5)
						if (he == 5 && yuanzidan >= 5 && mingshu >= 3) {
							yuanzidan -= 5;
							mingshu -= 3;
							zhadan++;
							cout << "恭喜获得毁灭炸弹\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 6)
						if (he == 6 && ll >= 5) {
							ll -= 5;
							fang5n++;
							cout << "恭喜获得金龙铠\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 7)
						if (he == 7 && lp >= 5) {
							lp -= 5;
							fang2n++;
							cout << "恭喜获得鳞甲\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 0) break;
					break;
				case 9:
					system("cls");
					cout << "设置        0:退出\n\n";
					cout << "1:声音 ";
					if (sheng == 1) cout << "开\n";
					else cout << "关\n";
					cout << "\n2:UI界面 ";
					if (ui == 1) cout << "老版";
					else cout << "新版";
					cout << "\n\n3,退出游戏";
					cin >> shen;
					if (shen == 1) {
						if (sheng == 1) sheng = 0;
						else sheng = 1;
					}
					if (shen == 2) {
						if (ui == 1) ui = 0;
						else ui = 1;
					}
					if (shen == 3) {
						printf("确定退出游戏?(Y/N)\n\n\n");
						system("color 8E");
						getchar();
						proof = getchar();
						if (proof == 'y' || proof == 'Y') {
							printf("按回车退出");
							system("color 8E");
							getchar();
							return;
						} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
						else printf("继续!\n\n\n");
					}
					if (shen == 0) break;
					break;
				case 7:
					if (sheng == 1) Beep(1200, 100);
					int mi;
					cout << "============================*【后台 开挂 测试Bug】*=============================\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0 && mi != 0) {
						cout << "输入正确！欢迎进入后台！\n\n=================================================\n后台服务：\n\n1.金币加999999\n\n2.血量上限加9999\n\n3.现有血量加9999\n\n4.攻击加9999\n\n5.防御加9999\n\n0.退出\n\n=================================================\n\n " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加999999\n";
							if (sheng == 1) Beep(1200, 100);
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							if (sheng == 1) Beep(1200, 100);
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}
					break;
				case 10:
					system("cls");
					printf("物品:止血草:%d个 急救包:%d个 云南白药:%d个 超级云南白药:%d个 手雷:%d个 毒标:%d个 手抛式原子弹:%d个 经验草:%d个经验包:%d个 经验石:%d个 巨龙晶石:%d个 免死金牌:%d个 凋零之心:%d个 毁灭炸弹:%d个 \n合成材料:鳞片:%d个 龙鳞:%d个 命令之书:%d个\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan, lp, ll, mingshu);
					printf("攻击装备: 匕首:%d个 西洋剑:%d个 粗制石剑:%d个 碧血战锤:%d个 蜘蛛毒剑:%d个 尚方宝剑:%d个 雷霆之刃：%d个 X尚方宝剑X：%d个 命令之剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 布衣:%d个 鳞甲:%d个 12,战斗马甲:%d个 重甲:%d个 石铠甲:%d个 传说圣甲:%d个 金龙铠:%d个 X传说圣甲X:%d个 命令之甲:%d个\t\t\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					system("pause");
					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
		system("pause");
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			if (sheng == 1) Beep(1200, 100);
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						if (sheng == 1) Beep(1200, 100);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					if (sheng == 1) Beep(200, 100);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
					if (sheng == 1) Beep(200, 100);
			}
		}
	}
}
namespace dpcq2_11_5 {

	using namespace std;
	int shen = 0;
	int ui = 0;
	int sheng = 1;
	void SetColorAndBackground(int ForgC, int BackC) {
		WORD wColor = ((BackC & 0x0F) << 4) + (ForgC & 0x0F);
		SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), wColor);
	}
	void Bling() {
		for (int i = 0; i <= 5; i++) {
			system("color 1A");
			Sleep(20);
			if (sheng == 1) if (sheng == 1) Beep(1200, 100);
			system("color 2B");
			Sleep(20);
			system("color 3C");
			Sleep(20);
			system("color 4D");
			Sleep(20);
			if (sheng == 1) Beep(1200, 100);
			system("color 5D");
			Sleep(20);
			system("color 6E");
			Sleep(20);
			system("color 7F");
			Sleep(20);
			if (sheng == 1) Beep(1200, 100);
		}
	}
	void Start() {
		if (sheng == 1) Beep(3200, 100);
		system("color 8E");
		cout << "          ■                       ■                                  \n";
		Sleep(100);
		cout << "       ■ ■        ■■■■    ■■■■■                        \n";
		Sleep(100);
		cout << "    ■ ■ ■           ■      ■  ■  ■                  \n";
		Sleep(100);
		cout << "     ■   ■         ■        ■  ■                         \n";
		Sleep(100);
		cout << "    ■■■■■■   ■■■■   ■ ■■■                    \n";
		Sleep(100);
		cout << "          ■     ■  ■  ■  ■  ■  ■                         \n";
		Sleep(100);
		cout << "          ■         ■■■ ■     ■            ■            \n";
		Sleep(100);
		cout << "          ■               ■    ■  ■  }}}}}}}}}                \n";
		Sleep(100);
		cout << "                                       }               }              \n";
		Sleep(100);
		cout << " 欢迎来到 [斗破苍穹]    ■      ■        ■           ■                \n";
		Sleep(100);
		cout << "                     }}}}}}}}    ■ }}}}}  ■          \n";
		Sleep(100);
		cout << "  zty郑桐羽出品         ■      ■                  ■     \n";
		Sleep(100);
		cout << "                            }              }}}}}                   \n";
		Sleep(100);
		cout << "  2.11.5 正式版         }■  ■}          ■                   \n";
		Sleep(100);
		cout << "                      }  }}}  }        }}}}}                  \n";
		Sleep(100);
		cout << " 新增 合成台功能          ■  ■                     ■  \n";
		Sleep(100);
		cout << "                          ■■■                 }  ■               \n";
		Sleep(100);
		cout << " zty出品，必属精品        ■    ■                 ■                \n";
		Sleep(100);
		cout << "                           }}}                                \n";
		Sleep(100);
		cout << " 努力通关吧！                                             \n";
		Sleep(100);
		cout << "                                                              \n";
		Sleep(100);
		cout << " 输入“1 ”下一页                           \n\n";
		Sleep(100);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	void Start2() {
		system("color 8E");
		if (sheng == 1) Beep(3200, 100);
		cout << "                                                \n";
		Sleep(100);
		cout << "        ■ ■■■        ■■■  ■      ■     \n";
		Sleep(100);
		cout << "    ■■      ■       ■   ■  ■       ■     \n";
		Sleep(100);
		cout << "            ■      ■     ■   ■       ■     \n";
		Sleep(100);
		cout << "           ■   ■■      ■    ■       ■     \n";
		Sleep(100);
		cout << "         ■  ■            ■  ■ ■     ■     \n";
		Sleep(100);
		cout << "       ■■■               ■■    ■■■      \n";
		Sleep(100);
		cout << "                                         ■     \n";
		Sleep(100);
		cout << "                                 ■      ■     \n";
		Sleep(100);
		cout << " 欢迎来到 [斗破苍穹]               ■    ■     \n";
		Sleep(100);
		cout << "                                     ■■       \n";
		Sleep(100);
		cout << "  zty工作室出品          ■                     \n";
		Sleep(100);
		cout << "                     ■  ■  ■     ■■■■    \n";
		Sleep(100);
		cout << "  2.11.5 正式版      ■■■■■     ■    ■    \n";
		Sleep(100);
		cout << "                         ■         ■■■■    \n";
		Sleep(100);
		cout << " 新增 合成台功能     ■  ■  ■                 \n";
		Sleep(100);
		cout << "                     ■■■■■  ■■■  ■■■ \n";
		Sleep(100);
		cout << " zty出品，必属精品               ■  ■  ■  ■ \n";
		Sleep(100);
		cout << "                                 ■■■  ■■■ \n";
		Sleep(100);
		cout << " 努力通关吧！                                   \n";
		Sleep(100);
		cout << "                                                \n";
		Sleep(100);
		cout << " 输入“1 ”开始游戏                    \n\n";
		Sleep(100);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	int boss1 = 0, boss2 = 0;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞片", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	huolong = {"喷火龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	bossno1 = {"凋零女巫", "凋零通行证", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 500, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "龙鳞", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "命令之书", 1800, 65 * 10, 15000, 20000, 1000, 16, 10, 1, 0},
	dlkl = {"凋零骷髅", "凋零之骨", 3000, 30 * 10, 12000, 20000, 1000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int he = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, yuanzidan = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 120, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 600, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0, fang4X = 550, fang4Xn = 0, mfang = 1000, mfangn = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0, gong4X = 500, gong4Xn = 0, mgong = 1000, mgongn = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0, mingshu = 0, zhadan = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	int lp = 0, ll = 0;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		if (sheng == 1) Beep(1200, 100);
		MessageBox(NULL, "欢迎来到斗破苍穹 2.11.5 正式版 ！", "斗破苍穹 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		Start();
		Bling();
		Start2();
		Bling();
		int kaishi;
		char player_name[21];
//Sleep(100);system("color A3");
//Sleep(50);system("color E4");
//Sleep(50);system("color B3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 34");
//Sleep(50);system("color E3");
//Sleep(50);system("color 54");
//Sleep(50);system("color E3");
//Sleep(50);system("color 43");
//Sleep(50);system("color E4");
//Sleep(50);system("color 93");
//Sleep(50);system("color E4");
//Sleep(50);system("color C3");
//Sleep(50);system("color E4");
//Sleep(50);system("color D3");
//Sleep(50);system("color E4");
//Sleep(50);system("color F3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 8E");
//printf("                            _________________________________                    ");system("color 8E");
//printf("                          /________________________________/|                    ");system("color 8E");
//printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.11.1 正式版|}--^*=+.              ");system("color 8E");
//printf("                                                \n");system("color 8E");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(300);
		if (sheng == 1) Beep(1200, 100);
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 8E");
		scanf("%s", player_name);
		Sleep(300);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			if (sheng == 1) Beep(5200, 300);
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		if (sheng == 1) Beep(1200, 100);
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					if (sheng == 1) Beep(1200, 100);
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						yuanzidan--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100);
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					if (sheng == 1) Beep(1200, 100);
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					if (sheng == 1) Beep(1200, 100);
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						system("color 84");
						if (sheng == 1) Beep(1200, 100);
						zhadan--;
						guai.health -= 15000;
						AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			if (sheng == 1) Beep(1200, 100);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				if (sheng == 1) Beep(1200, 100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, ".+*凋零风暴*+.") == 0) {
				printf("结束了\n\n");
				if (sheng == 1) Beep(1200, 100);
				system("color 8C");
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 2:
				fang3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 3:
				lp++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 4:
				strongman_arm++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 5:
				gong4n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 6:
				gong3n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 7:
				gong2n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 8:
				gong5n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 9:
				ll++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 10:
				diaolingxin++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 11:
				fang6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 12:
				gong6n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 13:
				gong7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 14:
				fang7n++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 15:
				diaolingxinhave++;
				if (sheng == 1) Beep(1200, 100);
				boss1++;
				break;
			case 16:
				mingshu++;
				if (sheng == 1) Beep(1200, 100);
				break;
			case 17:
				boss2++;
				if (sheng == 1) Beep(1200, 100);
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l2);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l3);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			if (ui == 0) {
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n  1,移动     2,道具     3,对话  4,查看状态 \n\n  5,装备  6,关于游戏    7,后台   8,合成台 \n\n  9,设置  0,退出游戏\n\n");
				system("color 8E");
				if (sheng == 1) Beep(1200, 100);
				puts("=============================================================================");
				system("color 8E");
			} else {
				puts("=============================================================================");
				system("color 8E");
				printf("要做什么?\n\n1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,后台 8,合成台 9,设置 \n0,退出游戏\n\n\n");
				system("color 8E");
				puts("=============================================================================");
				system("color 8E");
			}
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 8E");
//printf("  ");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3,北朝商会  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					system("color 8E");
					if (sheng == 1) Beep(1200, 100);
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 8E");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 8E");
										printf("金币：%d", money);
										system("color 8E");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 8E");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 8E");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 8E");
							if (sheng == 1) Beep(1200, 100);
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("匕首:%d个\n", gong1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("西洋剑:%d个\n", gong2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("碧血战锤:%d个\n", gong3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 8E");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，鳞甲￥500 3，重甲￥1000\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("布衣:%d个\n", fang1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("鳞甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("鳞甲:%d个\n", fang2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("重甲:%d个\n", fang3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 8E");
											break;

									}
									printf("金币：%d\n", money);
									system("color 8E");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 8E");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手雷：%d\n", boom);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("毒镖：%d\n", dubiao);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000 && yuanzidan < 5) {
												yuanzidan = yuanzidan + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
												printf("手抛式原子弹：%d\n", yuanzidan);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n\n\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
									}
							}
							break;
						case 4:
							if (sheng == 1) Beep(1200, 100);
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 8E");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 8E");
							printf("防御装备: 8,布衣:%d个 9,鳞甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 8E");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 8E");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 8E");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 8E");
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										system("color 8E");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 8E");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										if (sheng == 1) Beep(1200, 100);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("鳞甲：%d\n", fang2n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										if (sheng == 1) Beep(1200, 100);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								if (sheng == 1) Beep(1200, 100);
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(50);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(50);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(50);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(50);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(50);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(50);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(50);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = huolong;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = huolong;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7 || boss1 == 0) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = bossno1;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxinhave != 0) {
											if (s == 1 && boss2 == 0) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 5 && s <= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxinhave == 0) {
											cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 8E");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (sheng == 1) Beep(1200, 100);
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 8E");
						if (sheng == 1) Beep(1200, 100); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 8E");
													money -= 25;
													if (sheng == 1) Beep(1200, 100);
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 8E");
													if (sheng == 1) Beep(1200, 100);
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 8E");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 8E");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);

											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 8E");
												if (sheng == 1) Beep(1200, 100);
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 8E");
									printf("再见，欢迎下次再来！\n");
									system("color 8E");
									if (sheng == 1) Beep(1200, 100);
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 8E");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 8E");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					if (sheng == 1) Beep(1200, 100);
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								if (sheng == 1) Beep(1200, 100);
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							if (sheng == 1) Beep(1200, 100);
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								if (sheng == 1) Beep(1200, 100);
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								if (sheng == 1) Beep(1200, 100);
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					if (sheng == 1) Beep(1200, 100);
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "11.";
					Sleep(250);
					cout << "4";
					Sleep(250);
					cout << "版本内容";
					Sleep(250);
					cout << "的基础上进行添加，";
					Sleep(250);
					cout << "主要内容为增加声音与UI的变更";
					Sleep(250);
					cout << "已更新完毕，。";
					Sleep(250);
					cout << "希望大家喜欢。";
					Sleep(250);
					cout << "在这里要感谢";
					Sleep(250);
					cout << "吴";
					Sleep(250);
					cout << "昊";
					Sleep(250);
					cout << "同学，";
					Sleep(250);
					cout << "他给了我许多宝贵的建议，";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "。\n";
					Sleep(250);
					system("color 8E");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 8E");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 8E");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;

				case 8:
					if (sheng == 1) Beep(1200, 100);
					printf("合成台：                   0:退出\n\n");
					system("color 8E");
					cout << "命令之书:" << mingshu << "\n1： 命令之剑   需要材料：1*X尚方宝剑X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "2：X尚方宝剑X  需要材料：1* 尚方宝剑  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "3： 命令之甲   需要材料：1*X传说圣甲X + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "4：X传说圣甲X  需要材料：1* 传说圣甲  + 1*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "5： 毁灭炸弹   需要材料：5*手抛原子弹 + 3*命令之书\n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "6：  金龙铠    需要材料：5*龙鳞  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cout << "7：   鳞甲     需要材料：5*鳞片  \n\n";
					Sleep(150);
					if (sheng == 1) Beep(1200, 100);
					cin >> he;
					if (he == 1)
						if (he == 1 && gong4Xn >= 1 && mingshu >= 3) {
							gong4Xn--;
							mingshu -= 3;
							mgongn++;
							cout << "恭喜获得命令之剑\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 2)
						if (he == 2 && gong4n >= 1 && mingshu >= 1) {
							gong4n--;
							mingshu--;
							gong4Xn++;
							cout << "恭喜获得X尚方宝剑X\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 3)
						if (he == 3 && fang4Xn >= 1 && mingshu >= 3) {
							fang4Xn--;
							mingshu -= 3;
							mfangn++;
							cout << "恭喜获得命令之甲\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 4)
						if (he == 4 && fang4n >= 1 && mingshu >= 1) {
							fang4n--;
							mingshu--;
							fang4Xn++;
							cout << "恭喜获得X传说圣甲X\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 5)
						if (he == 5 && yuanzidan >= 5 && mingshu >= 3) {
							yuanzidan -= 5;
							mingshu -= 3;
							zhadan++;
							cout << "恭喜获得毁灭炸弹\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 6)
						if (he == 6 && ll >= 5) {
							ll -= 5;
							fang5n++;
							cout << "恭喜获得金龙铠\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 7)
						if (he == 7 && lp >= 5) {
							lp -= 5;
							fang2n++;
							cout << "恭喜获得鳞甲\n";
							if (sheng == 1) Beep(1200, 100);
						} else cout << "材料不足\n\n";
					if (he == 0) break;
					break;
				case 9:
					cout << "设置        0:退出\n\n";
					cout << "1:声音 ";
					if (sheng == 1) cout << "开\n";
					else cout << "关\n";
					cout << "2:UI界面 ";
					if (ui == 1) cout << "老版";
					else cout << "新版";
					cin >> shen;
					if (shen == 1) {
						if (sheng == 1) sheng = 0;
						else sheng = 1;
					}
					if (shen == 2) {
						if (ui == 1) ui = 0;
						else ui = 1;
					}
					if (shen == 0) break;
					break;
				case 7:
					if (sheng == 1) Beep(1200, 100);
					int mi;
					cout << "=====*【后台 开挂 测试Bug】*==================\n请输入密码=============*【想要后台密码问郑桐羽,只能输数字,否则死循环】*=========\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0 && mi != 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量上限加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n0.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加999999\n";
							if (sheng == 1) Beep(1200, 100);
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							if (sheng == 1) Beep(1200, 100);
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							if (sheng == 1) Beep(1200, 100);
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			if (sheng == 1) Beep(1200, 100);
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						if (sheng == 1) Beep(1200, 100);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					if (sheng == 1) Beep(200, 100);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
					if (sheng == 1) Beep(200, 100);
			}
		}
	}

}
namespace dpcq2_11_4 {

	using namespace std;
	void SetColorAndBackground(int ForgC, int BackC) {
		WORD wColor = ((BackC & 0x0F) << 4) + (ForgC & 0x0F);
		SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), wColor);
	}
	void Bling() {
		for (int i = 0; i <= 5; i++) {
			system("color 1A");
			Sleep(20);
			system("color 2B");
			Sleep(20);
			system("color 3C");
			Sleep(20);
			system("color 4D");
			Sleep(20);
			system("color 5D");
			Sleep(20);
			system("color 6E");
			Sleep(20);
			system("color 7F");
			Sleep(20);
		}
	}
	void Start() {
		system("color 8E");
		cout << "          ■                       ■                                  \n";
		Sleep(100);
		cout << "       ■ ■        ■■■■    ■■■■■                        \n";
		Sleep(100);
		cout << "    ■ ■ ■           ■      ■  ■  ■                  \n";
		Sleep(100);
		cout << "     ■   ■         ■        ■  ■                         \n";
		Sleep(100);
		cout << "    ■■■■■■   ■■■■   ■ ■■■                    \n";
		Sleep(100);
		cout << "          ■     ■  ■  ■  ■  ■  ■                         \n";
		Sleep(100);
		cout << "          ■         ■■■ ■     ■            ■            \n";
		Sleep(100);
		cout << "          ■               ■    ■  ■  }}}}}}}}}                \n";
		Sleep(100);
		cout << "                                       }               }              \n";
		Sleep(100);
		cout << " 欢迎来到 [斗破苍穹]    ■      ■        ■           ■                \n";
		Sleep(100);
		cout << "                     }}}}}}}}    ■ }}}}}  ■          \n";
		Sleep(100);
		cout << "  zty工作室出品         ■      ■                  ■     \n";
		Sleep(100);
		cout << "                            }              }}}}}                   \n";
		Sleep(100);
		cout << "  2.11.4 正式版         }■  ■}          ■                   \n";
		Sleep(100);
		cout << "                      }  }}}  }        }}}}}                  \n";
		Sleep(100);
		cout << " 新增 合成台功能          ■  ■                     ■  \n";
		Sleep(100);
		cout << "                          ■■■                 }  ■               \n";
		Sleep(100);
		cout << " zty出品，必属精品        ■    ■                 ■                \n";
		Sleep(100);
		cout << "                           }}}                                \n";
		Sleep(100);
		cout << " 努力通关吧！                                             \n";
		Sleep(100);
		cout << "                                                              \n";
		Sleep(100);
		cout << " 输入“1 ”下一页                           \n\n";
		Sleep(100);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	void Start2() {
		system("color 8E");
		cout << "                                                \n";
		Sleep(100);
		cout << "        ■ ■■■        ■■■  ■      ■     \n";
		Sleep(100);
		cout << "    ■■      ■       ■   ■  ■       ■     \n";
		Sleep(100);
		cout << "            ■      ■     ■   ■       ■     \n";
		Sleep(100);
		cout << "           ■   ■■      ■    ■       ■     \n";
		Sleep(100);
		cout << "         ■  ■            ■  ■ ■     ■     \n";
		Sleep(100);
		cout << "       ■■■               ■■    ■■■      \n";
		Sleep(100);
		cout << "                                         ■     \n";
		Sleep(100);
		cout << "                                 ■      ■     \n";
		Sleep(100);
		cout << " 欢迎来到 [斗破苍穹]               ■    ■     \n";
		Sleep(100);
		cout << "                                     ■■       \n";
		Sleep(100);
		cout << "  zty工作室出品          ■                     \n";
		Sleep(100);
		cout << "                     ■  ■  ■     ■■■■    \n";
		Sleep(100);
		cout << "  2.11.4 正式版      ■■■■■     ■    ■    \n";
		Sleep(100);
		cout << "                         ■         ■■■■    \n";
		Sleep(100);
		cout << " 新增 合成台功能     ■  ■  ■                 \n";
		Sleep(100);
		cout << "                     ■■■■■  ■■■  ■■■ \n";
		Sleep(100);
		cout << " zty出品，必属精品               ■  ■  ■  ■ \n";
		Sleep(100);
		cout << "                                 ■■■  ■■■ \n";
		Sleep(100);
		cout << " 努力通关吧！                                   \n";
		Sleep(100);
		cout << "                                                \n";
		Sleep(100);
		cout << " 输入“1 ”开始游戏                    \n\n";
		Sleep(100);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	int boss1 = 0, boss2 = 0;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞片", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	huolong = {"喷火龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	bossno1 = {"凋零女巫", "凋零通行证", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 500, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "龙鳞", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "命令之书", 1800, 65 * 10, 15000, 20000, 1000, 16, 10, 1, 0},
	dlkl = {"凋零骷髅", "凋零之骨", 3000, 30 * 10, 12000, 20000, 1000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int he = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, yuanzidan = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 120, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 600, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0, fang4X = 550, fang4Xn = 0, mfang = 1000, mfangn = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0, gong4X = 500, gong4Xn = 0, mgong = 1000, mgongn = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0, mingshu = 0, zhadan = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	int lp = 0, ll = 0;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		MessageBox(NULL, "欢迎来到斗破苍穹 2.11.4 正式版 ！", "斗破苍穹 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		Start();
		Bling();
		Start2();
		Bling();
		int kaishi;
		char player_name[21];
//Sleep(100);system("color A3");
//Sleep(50);system("color E4");
//Sleep(50);system("color B3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 34");
//Sleep(50);system("color E3");
//Sleep(50);system("color 54");
//Sleep(50);system("color E3");
//Sleep(50);system("color 43");
//Sleep(50);system("color E4");
//Sleep(50);system("color 93");
//Sleep(50);system("color E4");
//Sleep(50);system("color C3");
//Sleep(50);system("color E4");
//Sleep(50);system("color D3");
//Sleep(50);system("color E4");
//Sleep(50);system("color F3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 8E");
//printf("                            _________________________________                    ");system("color 8E");
//printf("                          /________________________________/|                    ");system("color 8E");
//printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.11.1 正式版|}--^*=+.              ");system("color 8E");
//printf("                                                \n");system("color 8E");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(300);
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 8E");
		scanf("%s", player_name);
		Sleep(300);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						yuanzidan--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						system("color 84");
						zhadan--;
						guai.health -= 15000;
						AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, ".+*凋零风暴*+.") == 0) {
				printf("结束了\n\n");
				system("color 8C");
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				lp++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				ll++;
				break;
			case 10:
				diaolingxin++;
				break;
			case 11:
				fang6n++;
				break;
			case 12:
				gong6n++;
				break;
			case 13:
				gong7n++;
				break;
			case 14:
				fang7n++;
				break;
			case 15:
				diaolingxinhave++;
				boss1++;
				break;
			case 16:
				mingshu++;
				break;
			case 17:
				boss2++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 8E");
			printf("要做什么?\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,后台 8,合成台 0,退出游戏\n\n\n");
			system("color 8E");
			puts("=============================================================================");
			system("color 8E");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 8E");
//printf("  ");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					cout << "3,北朝商会  ";
					Sleep(150);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 8E");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 8E");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 8E");
										printf("金币：%d", money);
										system("color 8E");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 8E");
										printf("金币：%d\n", money);
										system("color 8E");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 8E");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 8E");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 8E");
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 8E");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 8E");
												printf("匕首:%d个\n", gong1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 8E");
												printf("西洋剑:%d个\n", gong2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 8E");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 8E");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，鳞甲￥500 3，重甲￥1000\n\n\n");
									system("color 8E");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 8E");
												printf("布衣:%d个\n", fang1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("鳞甲+1\n");
												system("color 8E");
												printf("鳞甲:%d个\n", fang2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 8E");
												printf("重甲:%d个\n", fang3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 8E");
											break;

									}
									printf("金币：%d\n", money);
									system("color 8E");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 8E");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 8E");
												printf("手雷：%d\n", boom);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 8E");
												printf("毒镖：%d\n", dubiao);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000 && yuanzidan < 5) {
												yuanzidan = yuanzidan + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 8E");
												printf("手抛式原子弹：%d\n", yuanzidan);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n\n\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 8E");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 8E");
							printf("防御装备: 8,布衣:%d个 9,鳞甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 8E");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 8E");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 8E");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 8E");
										printf("金币：%d\n", money);
										system("color 8E");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 8E");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("鳞甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(50);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(50);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(50);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(50);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(50);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(50);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(50);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = huolong;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = huolong;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7 || boss1 == 0) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = bossno1;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxinhave != 0) {
											if (s == 1 && boss2 == 0) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 5 && s <= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxinhave == 0) {
											cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 8E");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 8E");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 8E");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 8E");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 8E");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 8E");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 8E");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 8E");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 8E");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 8E");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 8E");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 8E");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 8E");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 8E");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 8E");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 8E");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 8E");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 8E");

											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 8E");
									printf("再见，欢迎下次再来！\n");
									system("color 8E");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 8E");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 8E");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "11.";
					Sleep(250);
					cout << "3";
					Sleep(250);
					cout << "版本内容";
					Sleep(250);
					cout << "的基础上进行添加，";
					Sleep(250);
					cout << "主要内容为修改鳞甲和金龙铠的数值及获取方式";
					Sleep(250);
					cout << "已更新完毕，。";
					Sleep(250);
					cout << "希望大家喜欢。";
					Sleep(250);
					cout << "在这里要感谢";
					Sleep(250);
					cout << "吴";
					Sleep(250);
					cout << "昊";
					Sleep(250);
					cout << "同学，";
					Sleep(250);
					cout << "他给了我许多宝贵的建议，";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "。\n";
					Sleep(250);
					system("color 8E");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 8E");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 8E");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				case 8:
					printf("合成台：                   0:退出\n\n");
					system("color 8E");
					cout << "命令之书:" << mingshu << "\n1： 命令之剑   需要材料：1*X尚方宝剑X + 3*命令之书\n\n";
					Sleep(150);
					cout << "2：X尚方宝剑X  需要材料：1* 尚方宝剑  + 1*命令之书\n\n";
					Sleep(150);
					cout << "3： 命令之甲   需要材料：1*X传说圣甲X + 3*命令之书\n\n";
					Sleep(150);
					cout << "4：X传说圣甲X  需要材料：1* 传说圣甲  + 1*命令之书\n\n";
					Sleep(150);
					cout << "5： 毁灭炸弹   需要材料：5*手抛原子弹 + 3*命令之书\n\n";
					Sleep(150);
					cout << "6：  金龙铠    需要材料：5*龙鳞  \n\n";
					Sleep(150);
					cout << "7：   鳞甲     需要材料：5*鳞片  \n\n";
					Sleep(150);
					cin >> he;
					if (he == 1)
						if (he == 1 && gong4Xn >= 1 && mingshu >= 3) {
							gong4Xn--;
							mingshu -= 3;
							mgongn++;
							cout << "恭喜获得命令之剑\n";
						} else cout << "材料不足\n\n";
					if (he == 2)
						if (he == 2 && gong4n >= 1 && mingshu >= 1) {
							gong4n--;
							mingshu--;
							gong4Xn++;
							cout << "恭喜获得X尚方宝剑X\n";
						} else cout << "材料不足\n\n";
					if (he == 3)
						if (he == 3 && fang4Xn >= 1 && mingshu >= 3) {
							fang4Xn--;
							mingshu -= 3;
							mfangn++;
							cout << "恭喜获得命令之甲\n";
						} else cout << "材料不足\n\n";
					if (he == 4)
						if (he == 4 && fang4n >= 1 && mingshu >= 1) {
							fang4n--;
							mingshu--;
							fang4Xn++;
							cout << "恭喜获得X传说圣甲X\n";
						} else cout << "材料不足\n\n";
					if (he == 5)
						if (he == 5 && yuanzidan >= 5 && mingshu >= 3) {
							yuanzidan -= 5;
							mingshu -= 3;
							zhadan++;
							cout << "恭喜获得毁灭炸弹\n";
						} else cout << "材料不足\n\n";
					if (he == 6)
						if (he == 6 && ll >= 5) {
							ll -= 5;
							fang5n++;
							cout << "恭喜获得金龙铠\n";
						} else cout << "材料不足\n\n";
					if (he == 7)
						if (he == 7 && lp >= 5) {
							lp -= 5;
							fang2n++;
							cout << "恭喜获得鳞甲\n";
						} else cout << "材料不足\n\n";
					if (he == 0) break;
					break;
				case 7:
					int mi;
					cout << "=====*【后台 开挂 测试Bug】*==================\n请输入密码=============*【想要后台密码问郑桐羽,只能输数字,否则死循环】*=========\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0 && mi != 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量上限加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n0.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加999999\n";
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_11_3 {

	using namespace std;
	void SetColorAndBackground(int ForgC, int BackC) {
		WORD wColor = ((BackC & 0x0F) << 4) + (ForgC & 0x0F);
		SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), wColor);
	}
	void Bling() {
		for (int i = 0; i <= 5; i++) {
			system("color 1A");
			Sleep(10);
			system("color 2B");
			Sleep(10);
			system("color 3C");
			Sleep(10);
			system("color 4D");
			Sleep(10);
			system("color 5D");
			Sleep(10);
			system("color 6E");
			Sleep(10);
			system("color 7F");
			Sleep(10);
		}
	}
	void Start() {
		system("color 8E");
		cout << "          ■                       ■                                  \n";
		Sleep(100);
		cout << "       ■ ■        ■■■■    ■■■■■                        \n";
		Sleep(100);
		cout << "    ■ ■ ■           ■      ■  ■  ■                  \n";
		Sleep(100);
		cout << "     ■   ■         ■        ■  ■                         \n";
		Sleep(100);
		cout << "    ■■■■■■   ■■■■   ■ ■■■                    \n";
		Sleep(100);
		cout << "          ■     ■  ■  ■  ■  ■  ■                         \n";
		Sleep(100);
		cout << "          ■         ■■■ ■     ■            ■            \n";
		Sleep(100);
		cout << "          ■               ■    ■  ■  }}}}}}}}}                \n";
		Sleep(100);
		cout << "                                       }               }              \n";
		Sleep(100);
		cout << " 欢迎来到 [斗破苍穹]    ■      ■        ■           ■                \n";
		Sleep(100);
		cout << "                     }}}}}}}}    ■ }}}}}  ■          \n";
		Sleep(100);
		cout << "  zty工作室出品         ■      ■                   ■     \n";
		Sleep(100);
		cout << "                            }              }}}}}                   \n";
		Sleep(100);
		cout << "  2.11.3 正式版         }■  ■}          ■                   \n";
		Sleep(100);
		cout << "                      }  }}}  }        }}}}}                  \n";
		Sleep(100);
		cout << " 新增 合成台功能          ■  ■                     ■  \n";
		Sleep(100);
		cout << "                          ■■■                 }  ■               \n";
		Sleep(100);
		cout << " zty出品，必属精品        ■    ■                 ■                \n";
		Sleep(100);
		cout << "                           }}}                                \n";
		Sleep(100);
		cout << " 努力通关吧！                                             \n";
		Sleep(100);
		cout << "                                                              \n";
		Sleep(100);
		cout << " 输入“1 ”下一页                           \n\n";
		Sleep(100);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	void Start2() {
		system("color 8E");
		cout << "                                                \n";
		Sleep(100);
		cout << "        ■ ■■■        ■■■  ■      ■     \n";
		Sleep(100);
		cout << "    ■■      ■       ■   ■  ■       ■     \n";
		Sleep(100);
		cout << "            ■      ■     ■   ■       ■     \n";
		Sleep(100);
		cout << "           ■   ■■      ■    ■       ■     \n";
		Sleep(100);
		cout << "         ■  ■            ■  ■ ■     ■     \n";
		Sleep(100);
		cout << "       ■■■               ■■    ■■■      \n";
		Sleep(100);
		cout << "                                         ■     \n";
		Sleep(100);
		cout << "                                 ■      ■     \n";
		Sleep(100);
		cout << " 欢迎来到 [斗破苍穹]               ■    ■     \n";
		Sleep(100);
		cout << "                                     ■■       \n";
		Sleep(100);
		cout << "  zty工作室出品          ■                     \n";
		Sleep(100);
		cout << "                     ■  ■  ■     ■■■■    \n";
		Sleep(100);
		cout << "  2.11.3 正式版      ■■■■■     ■    ■    \n";
		Sleep(100);
		cout << "                         ■         ■■■■    \n";
		Sleep(100);
		cout << " 新增 合成台功能     ■  ■  ■                 \n";
		Sleep(100);
		cout << "                     ■■■■■  ■■■  ■■■ \n";
		Sleep(100);
		cout << " zty出品，必属精品               ■  ■  ■  ■ \n";
		Sleep(100);
		cout << "                                 ■■■  ■■■ \n";
		Sleep(100);
		cout << " 努力通关吧！                                   \n";
		Sleep(100);
		cout << "                                                \n";
		Sleep(100);
		cout << " 输入“1 ”开始游戏                    \n\n";
		Sleep(100);
A:
		char y = _getch();
		if (y == '1') return;
		else goto A;
	}
	int boss1 = 0, boss2 = 0;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞甲", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	huolong = {"喷火龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	bossno1 = {"凋零女巫", "凋零通行证", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 500, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "金龙铠", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "命令之书", 1800, 65 * 10, 15000, 20000, 1000, 16, 10, 1, 0},
	dlkl = {"凋零骷髅", "\0", 3000, 30 * 10, 12000, 20000, 1000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int he = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, yuanzidan = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 400, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0, fang4X = 550, fang4Xn = 0, mfang = 1000, mfangn = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0, gong4X = 500, gong4Xn = 0, mgong = 1000, mgongn = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0, mingshu = 0, zhadan = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		MessageBox(NULL, "欢迎来到斗破苍穹 2.11.3 正式版 ！", "斗破苍穹 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		Start();
		Bling();
		Start2();
		Bling();
		int kaishi;
		char player_name[21];
//Sleep(100);system("color A3");
//Sleep(50);system("color E4");
//Sleep(50);system("color B3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 34");
//Sleep(50);system("color E3");
//Sleep(50);system("color 54");
//Sleep(50);system("color E3");
//Sleep(50);system("color 43");
//Sleep(50);system("color E4");
//Sleep(50);system("color 93");
//Sleep(50);system("color E4");
//Sleep(50);system("color C3");
//Sleep(50);system("color E4");
//Sleep(50);system("color D3");
//Sleep(50);system("color E4");
//Sleep(50);system("color F3");
//Sleep(50);system("color E4");
//Sleep(50);system("color 8E");
//printf("                            _________________________________                    ");system("color 8E");
//printf("                          /________________________________/|                    ");system("color 8E");
//printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.11.1 正式版|}--^*=+.              ");system("color 8E");
//printf("                                                \n");system("color 8E");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(300);
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 8E");
		scanf("%s", player_name);
		Sleep(300);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						yuanzidan--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						system("color 84");
						zhadan--;
						guai.health -= 15000;
						AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, ".+*凋零风暴*+.") == 0) {
				printf("结束了\n\n");
				system("color 8C");
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			case 10:
				diaolingxin++;
				break;
			case 11:
				fang6n++;
				break;
			case 12:
				gong6n++;
				break;
			case 13:
				gong7n++;
				break;
			case 14:
				fang7n++;
				break;
			case 15:
				diaolingxinhave++;
				boss1++;
				break;
			case 16:
				mingshu++;
				break;
			case 17:
				boss2++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 8E");
			printf("要做什么?\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,后台 8,合成台 0,退出游戏\n\n\n");
			system("color 8E");
			puts("=============================================================================");
			system("color 8E");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 8E");
//printf("  ");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					cout << "3,北朝商会  ";
					Sleep(150);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 8E");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 8E");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 8E");
										printf("金币：%d", money);
										system("color 8E");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 8E");
										printf("金币：%d\n", money);
										system("color 8E");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 8E");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 8E");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 8E");
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 8E");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 8E");
												printf("匕首:%d个\n", gong1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 8E");
												printf("西洋剑:%d个\n", gong2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 8E");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 8E");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，鳞甲￥500 3，重甲￥1000\n\n\n");
									system("color 8E");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 8E");
												printf("布衣:%d个\n", fang1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("鳞甲+1\n");
												system("color 8E");
												printf("鳞甲:%d个\n", fang2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 8E");
												printf("重甲:%d个\n", fang3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 8E");
											break;

									}
									printf("金币：%d\n", money);
									system("color 8E");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 8E");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 8E");
												printf("手雷：%d\n", boom);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 8E");
												printf("毒镖：%d\n", dubiao);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000 && yuanzidan < 5) {
												yuanzidan = yuanzidan + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 8E");
												printf("手抛式原子弹：%d\n", yuanzidan);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n\n\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 8E");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 8E");
							printf("防御装备: 8,布衣:%d个 9,鳞甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 8E");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 8E");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 8E");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 8E");
										printf("金币：%d\n", money);
										system("color 8E");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 8E");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("鳞甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(50);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(50);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(50);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(50);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(50);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(50);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(50);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = huolong;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = huolong;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7 || boss1 == 0) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = bossno1;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxinhave != 0) {
											if (s == 1 && boss2 == 0) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 5 && s <= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxinhave == 0) {
											cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 8E");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 8E");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 8E");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 8E");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 8E");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 8E");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 8E");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 8E");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 8E");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 8E");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 8E");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 8E");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 8E");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 8E");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 8E");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 8E");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 8E");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 8E");

											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 8E");
									printf("再见，欢迎下次再来！\n");
									system("color 8E");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 8E");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 8E");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "11.";
					Sleep(250);
					cout << "2";
					Sleep(250);
					cout << "版本内容";
					Sleep(250);
					cout << "的基础上进行添加，";
					Sleep(250);
					cout << "主要内容为新的开始界面";
					Sleep(250);
					cout << "已更新完毕，。";
					Sleep(250);
					cout << "希望大家喜欢。";
					Sleep(250);
					cout << "在这里要感谢";
					Sleep(250);
					cout << "吴";
					Sleep(250);
					cout << "昊";
					Sleep(250);
					cout << "同学，";
					Sleep(250);
					cout << "他给了我许多宝贵的建议，";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "。\n";
					Sleep(250);
					system("color 8E");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 8E");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 8E");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				case 8:
					printf("合成台：                   0:退出\n\n");
					system("color 8E");
					cout << "命令之书:" << mingshu << "\n1： 命令之剑   需要材料：1*X尚方宝剑X + 3*命令之书\n\n";
					Sleep(150);
					cout << "2：X尚方宝剑X  需要材料：1* 尚方宝剑  + 1*命令之书\n\n";
					Sleep(150);
					cout << "3： 命令之甲   需要材料：1*X传说圣甲X + 3*命令之书\n\n";
					Sleep(150);
					cout << "4：X传说圣甲X  需要材料：1* 传说圣甲  + 1*命令之书\n\n";
					Sleep(150);
					cout << "5： 毁灭炸弹   需要材料：5*手抛原子弹 + 3*命令之书\n\n";
					Sleep(150);
					cin >> he;
					if (he == 1)
						if (he == 1 && gong4Xn >= 1 && mingshu >= 3) {
							gong4Xn--;
							mingshu -= 3;
							mgongn++;
							cout << "恭喜获得命令之剑\n";
						} else cout << "材料不足\n\n";
					if (he == 2)
						if (he == 2 && gong4n >= 1 && mingshu >= 1) {
							gong4n--;
							mingshu--;
							gong4Xn++;
							cout << "恭喜获得X尚方宝剑X\n";
						} else cout << "材料不足\n\n";
					if (he == 3)
						if (he == 3 && fang4Xn >= 1 && mingshu >= 3) {
							fang4Xn--;
							mingshu -= 3;
							mfangn++;
							cout << "恭喜获得命令之甲\n";
						} else cout << "材料不足\n\n";
					if (he == 4)
						if (he == 4 && fang4n >= 1 && mingshu >= 1) {
							fang4n--;
							mingshu--;
							fang4Xn++;
							cout << "恭喜获得X传说圣甲X\n";
						} else cout << "材料不足\n\n";
					if (he == 5)
						if (he == 5 && yuanzidan >= 5 && mingshu >= 3) {
							yuanzidan -= 5;
							mingshu -= 3;
							zhadan++;
							cout << "恭喜获得毁灭炸弹\n";
						} else cout << "材料不足\n\n";
					if (he == 0) break;
					break;
				case 7:
					int mi;
					cout << "=====*【后台 开挂 测试Bug】*==================\n请输入密码=============*【想要后台密码问郑桐羽,只能输数字,否则死循环】*=========\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0 && mi != 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量上限加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n0.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_11_2 {

	using namespace std;
	void SetColorAndBackground(int ForgC, int BackC) {
		WORD wColor = ((BackC & 0x0F) << 4) + (ForgC & 0x0F);
		SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), wColor);
	}
	int boss1 = 0, boss2 = 0;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞甲", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	huolong = {"喷火龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	bossno1 = {"凋零女巫", "凋零通行证", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 500, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "金龙铠", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "命令之书", 1800, 65 * 10, 15000, 20000, 1000, 16, 10, 1, 0},
	dlkl = {"凋零骷髅", "\0", 3000, 30 * 10, 12000, 20000, 1000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int he = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, yuanzidan = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 400, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0, fang4X = 550, fang4Xn = 0, mfang = 1000, mfangn = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0, gong4X = 500, gong4Xn = 0, mgong = 1000, mgongn = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0, mingshu = 0, zhadan = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		MessageBox(NULL, "欢迎来到斗破苍穹 2.11.2 正式版 ！", "斗破苍穹 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		int kaishi;
		char player_name[21];
		Sleep(100);
		system("color 8E");
		cout << "                                                \n";
		Sleep(100);
		cout << "        ■ ■■■        ■■■  ■      ■     \n";
		Sleep(100);
		cout << "    ■■      ■       ■   ■  ■       ■     \n";
		Sleep(100);
		cout << "            ■      ■     ■   ■       ■     \n";
		Sleep(100);
		cout << "           ■   ■■      ■    ■       ■     \n";
		Sleep(100);
		cout << "         ■  ■            ■  ■ ■     ■     \n";
		Sleep(100);
		cout << "       ■■■               ■■    ■■■      \n";
		Sleep(100);
		cout << "                                         ■     \n";
		Sleep(100);
		cout << "                                 ■      ■     \n";
		Sleep(100);
		cout << " 欢迎来到 [斗破苍穹]               ■    ■     \n";
		Sleep(100);
		cout << "                                     ■■       \n";
		Sleep(100);
		cout << "  zty工作室出品          ■                     \n";
		Sleep(100);
		cout << "                     ■  ■  ■     ■■■■    \n";
		Sleep(100);
		cout << "  2.11.2 正式版      ■■■■■     ■    ■    \n";
		Sleep(100);
		cout << "                         ■         ■■■■    \n";
		Sleep(100);
		cout << " 新增 合成台功能     ■  ■  ■                 \n";
		Sleep(100);
		cout << "                     ■■■■■  ■■■  ■■■ \n";
		Sleep(100);
		cout << " zty出品，必属精品               ■  ■  ■  ■ \n";
		Sleep(100);
		cout << "                                 ■■■  ■■■ \n";
		Sleep(100);
		cout << " 努力通关吧！                                   \n";
		Sleep(100);
		cout << "                                                \n";
		Sleep(100);
		cout << " 输入“1 ”开始游戏 \n\n\n\n                            \n\n";
		Sleep(100);
		while (1) {
			cin >> kaishi;
			if (kaishi == 1) break;
		}
		Sleep(100);
		system("color A3");
		Sleep(50);
		system("color E4");
		Sleep(50);
		system("color B3");
		Sleep(50);
		system("color E4");
		Sleep(50);
		system("color 34");
		Sleep(50);
		system("color E3");
		Sleep(50);
		system("color 54");
		Sleep(50);
		system("color E3");
		Sleep(50);
		system("color 43");
		Sleep(50);
		system("color E4");
		Sleep(50);
		system("color 93");
		Sleep(50);
		system("color E4");
		Sleep(50);
		system("color C3");
		Sleep(50);
		system("color E4");
		Sleep(50);
		system("color D3");
		Sleep(50);
		system("color E4");
		Sleep(50);
		system("color F3");
		Sleep(50);
		system("color E4");
		Sleep(50);
		system("color 8E");
		cout << "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n";
//printf("                            _________________________________                    ");system("color 8E");
//printf("                          /________________________________/|                    ");system("color 8E");
//printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.11.1 正式版|}--^*=+.              ");system("color 8E");
//printf("                                                \n");system("color 8E");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(300);
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 8E");
		scanf("%s", player_name);
		Sleep(300);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 14,毁灭炸弹%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, yuanzidan, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin, zhadan);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (yuanzidan > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						yuanzidan--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 14:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (zhadan > 0) {
						printf("使用毁灭炸弹,敌人HP减少15000\n\n\n");
						system("color 84");
						zhadan--;
						guai.health -= 15000;
						AttackResult();
					}
				}
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "*凋零巨兽*") == 0) {
				printf("你把公主救了出来\n\n你从公主口中得知了一个更大的阴谋，你可以进入凋零世界\n\n");
				system("color 8C");
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			case 10:
				diaolingxin++;
				break;
			case 11:
				fang6n++;
				break;
			case 12:
				gong6n++;
				break;
			case 13:
				gong7n++;
				break;
			case 14:
				fang7n++;
				break;
			case 15:
				diaolingxinhave++;
				boss1++;
				break;
			case 16:
				mingshu++;
				break;
			case 17:
				boss2++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 8E");
			printf("要做什么?\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,后台 8,合成台 0,退出游戏\n\n\n");
			system("color 8E");
			puts("=============================================================================");
			system("color 8E");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 8E");
//printf("  ");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					cout << "3,北朝商会  ";
					Sleep(150);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 8E");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 8E");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 8E");
										printf("金币：%d", money);
										system("color 8E");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 8E");
										printf("金币：%d\n", money);
										system("color 8E");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 8E");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 8E");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 8E");
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 8E");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 8E");
												printf("匕首:%d个\n", gong1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 8E");
												printf("西洋剑:%d个\n", gong2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 8E");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 8E");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，鳞甲￥500 3，重甲￥1000\n\n\n");
									system("color 8E");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 8E");
												printf("布衣:%d个\n", fang1n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("鳞甲+1\n");
												system("color 8E");
												printf("鳞甲:%d个\n", fang2n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 8E");
												printf("重甲:%d个\n", fang3n);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 8E");
											break;

									}
									printf("金币：%d\n", money);
									system("color 8E");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 8E");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 8E");
												printf("手雷：%d\n", boom);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d", money);
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 8E");
												printf("毒镖：%d\n", dubiao);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 1000 && yuanzidan < 5) {
												yuanzidan = yuanzidan + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 8E");
												printf("手抛式原子弹：%d\n", yuanzidan);
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											} else {
												printf("钱不够!\n\n\n");
												system("color 8E");
												printf("金币：%d\n", money);
												system("color 8E");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 8E");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 8E");
							printf("防御装备: 8,布衣:%d个 9,鳞甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 8E");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 8E");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 8E");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 8E");
										printf("金币：%d\n", money);
										system("color 8E");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 8E");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 8E");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("鳞甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(50);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(50);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(50);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(50);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(50);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(50);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(50);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = huolong;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = huolong;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7 || boss1 == 0) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = bossno1;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxinhave != 0) {
											if (s == 1 && boss2 == 0) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 5 && s <= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxinhave == 0) {
											cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 8E");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 8E");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 8E");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 8E");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 8E");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 8E");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 8E");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 8E");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 8E");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 8E");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 8E");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 8E");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 8E");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 8E");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 8E");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 8E");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 8E");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 8E");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 8E");

											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 8E");
											} else {
												printf("钱不够!\n");
												system("color 8E");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 8E");
									printf("再见，欢迎下次再来！\n");
									system("color 8E");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 8E");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 8E");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 8E");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 8E");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 8E");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 8E");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 8E");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 8E");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 8E");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 8E");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 8E");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "11.";
					Sleep(250);
					cout << "1";
					Sleep(250);
					cout << "版本内容";
					Sleep(250);
					cout << "的基础上进行添加，";
					Sleep(250);
					cout << "主要内容为新的开始界面和";
					Sleep(250);
					cout << "新一次性武器 毁灭炸弹,";
					Sleep(250);
					cout << "已更新完毕，。";
					Sleep(250);
					cout << "希望大家喜欢。";
					Sleep(250);
					cout << "在这里要感谢";
					Sleep(250);
					cout << "吴";
					Sleep(250);
					cout << "昊";
					Sleep(250);
					cout << "同学，";
					Sleep(250);
					cout << "他给了我许多宝贵的建议，";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "。\n";
					Sleep(250);
					system("color 8E");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 8E");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 8E");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				case 8:
					printf("合成台：                   0:退出\n\n");
					system("color 8E");
					cout << "命令之书:" << mingshu << "\n1： 命令之剑   需要材料：1*X尚方宝剑X + 3*命令之书\n\n";
					Sleep(150);
					cout << "2：X尚方宝剑X  需要材料：1* 尚方宝剑  + 1*命令之书\n\n";
					Sleep(150);
					cout << "3： 命令之甲   需要材料：1*X传说圣甲X + 3*命令之书\n\n";
					Sleep(150);
					cout << "4：X传说圣甲X  需要材料：1* 传说圣甲  + 1*命令之书\n\n";
					Sleep(150);
					cout << "5： 毁灭炸弹   需要材料：5*手抛原子弹 + 3*命令之书\n\n";
					Sleep(150);
					cin >> he;
					if (he == 1)
						if (he == 1 && gong4Xn >= 1 && mingshu >= 3) {
							gong4Xn--;
							mingshu -= 3;
							mgongn++;
							cout << "恭喜获得命令之剑\n";
						} else cout << "材料不足\n\n";
					if (he == 2)
						if (he == 2 && gong4n >= 1 && mingshu >= 1) {
							gong4n--;
							mingshu--;
							gong4Xn++;
							cout << "恭喜获得X尚方宝剑X\n";
						} else cout << "材料不足\n\n";
					if (he == 3)
						if (he == 3 && fang4Xn >= 1 && mingshu >= 3) {
							fang4Xn--;
							mingshu -= 3;
							mfangn++;
							cout << "恭喜获得命令之甲\n";
						} else cout << "材料不足\n\n";
					if (he == 4)
						if (he == 4 && fang4n >= 1 && mingshu >= 1) {
							fang4n--;
							mingshu--;
							fang4Xn++;
							cout << "恭喜获得X传说圣甲X\n";
						} else cout << "材料不足\n\n";
					if (he == 5)
						if (he == 5 && yuanzidan >= 5 && mingshu >= 3) {
							yuanzidan -= 5;
							mingshu -= 3;
							zhadan++;
							cout << "恭喜获得毁灭炸弹\n";
						} else cout << "材料不足\n\n";
					if (he == 0) break;
					break;
				case 7:
					int mi;
					cout << "=====*【后台 开挂 测试Bug】*==================\n请输入密码=============*【想要后台密码问郑桐羽,只能输数字,否则死循环】*=========\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0 && mi != 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量上限加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n0.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}

}
namespace dpcq2_11_1 {
	using namespace std;
	int boss1 = 0, boss2 = 0;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞甲", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	huolong = {"喷火龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	shitu = {"凋零女巫", "凋零通行证", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 5000, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "金龙铠", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "命令之书", 1800, 65 * 10, 15000, 0, 10000, 16, 10, 1, 0},
	dlkl = {"凋零骷髅", "\0", 3000, 30 * 10, 12000, 0, 10000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int he = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 400, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0, fang4X = 550, fang4Xn = 0, mfang = 1000, mfangn = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0, gong4X = 500, gong4Xn = 0, mgong = 1000, mgongn = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0, mingshu = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.11.1 正式版 ！", "斗破苍穹 2.11.1 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(500);
		printf("                            _________________________________                    ");
		system("color 89");
		printf("                          /________________________________/|                    ");
		system("color 89");
		printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.11.1 正式版|}--^*=+.              ");
		system("color 89");
		printf("                                                \n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(500);
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		Sleep(500);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "*凋零巨兽*") == 0) {
				printf("你把公主救了出来\n\n你从公主口中得知了一个更大的阴谋，你可以进入凋零世界\n\n");
				system("color 8C");
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			case 10:
				diaolingxin++;
				break;
			case 11:
				fang6n++;
				break;
			case 12:
				gong6n++;
				break;
			case 13:
				gong7n++;
				break;
			case 14:
				fang7n++;
				break;
			case 15:
				diaolingxinhave++;
				boss1++;
				break;
			case 16:
				mingshu++;
				break;
			case 17:
				boss2++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,后台 8,合成台 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
//printf("  ");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					cout << "3,北朝商会  ";
					Sleep(150);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 89");
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，鳞甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("鳞甲+1\n");
												system("color 89");
												printf("鳞甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 8,布衣:%d个 9,鳞甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("鳞甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(50);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(50);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(50);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(50);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(50);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(50);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(50);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(50);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = huolong;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = huolong;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7 || boss1 == 0) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxinhave != 0) {
											if (s == 1 && boss2 == 0) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 5 && s <= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxinhave == 0) {
											cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个 8,X尚方宝剑X：%d个 9,命令之剑：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n, gong4Xn, mgongn);
					system("color 89");
					printf("防御装备: 10,布衣:%d个 11,鳞甲:%d个 12,战斗马甲:%d个 13,重甲:%d个 14,石铠甲:%d个 15,传说圣甲:%d个 16,金龙铠:%d个 17,X传说圣甲X:%d个 18,命令之甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, fang4Xn, mfangn);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (gong4Xn >= 1) {
								printf("拿起了X尚方宝剑X\n\n\n");
								gong = gong4X;
								strcpy(gongname, "X尚方宝剑X");
							} else printf("你没有X尚方宝剑X可以装备\n\n\n");
							break;
						case 9:
							if (mgongn >= 1) {
								printf("拿起了命令之剑\n\n\n");
								gong = mgong;
								strcpy(gongname, "命令之剑");
							} else printf("你没有命令之剑可以装备\n\n\n");
							break;
						case 10:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 11:
							if (fang2n >= 1) {
								printf("穿上了鳞甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "鳞甲");
							} else printf("你没有鳞甲可以装备\n\n\n");
							break;
						case 12:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 13:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 14:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 15:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 16:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 17:
							if (fang4Xn >= 1) {
								printf("穿上了X传说圣甲X\n\n\n");
								fang = fang4X;
								strcpy(fangname, "X传说圣甲X");
							} else printf("你没有X传说圣甲X可以装备\n\n\n");
							break;
						case 18:
							if (mfangn >= 1) {
								printf("穿上了命令之甲\n\n\n");
								fang = mfang;
								strcpy(fangname, "命令之甲");
							} else printf("你没有命令之甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "10";
					Sleep(250);
					cout << "版本内容";
					Sleep(250);
					cout << "的基础上进行更新・，";
					Sleep(250);
					cout << "主要内容为命令武器装备和合成功能";
					Sleep(250);
					cout << "已更新完毕，。";
					Sleep(250);
					cout << "希望大家喜欢。";
					Sleep(250);
					cout << "在这里要感谢";
					Sleep(250);
					cout << "吴";
					Sleep(250);
					cout << "昊";
					Sleep(250);
					cout << "同学，";
					Sleep(250);
					cout << "他给了我许多宝贵的建议，";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "。\n";
					Sleep(250);
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				case 8:
					printf("合成台：                   0:退出\n\n");
					system("color 89");
					cout << "命令之书:" << mingshu << "\n1： 命令之剑   需要材料：1*X尚方宝剑X + 1*命令之书\n\n";
					Sleep(150);
					cout << "2：X尚方宝剑X  需要材料：1* 尚方宝剑  + 1*命令之书\n\n";
					Sleep(150);
					cout << "3： 命令之甲   需要材料：1*X传说圣甲X + 1*命令之书\n\n";
					Sleep(150);
					cout << "4：X传说圣甲X  需要材料：1* 传说圣甲  + 1*命令之书\n\n";
					Sleep(150);
					cin >> he;
					if (he == 1)
						if (he == 1 && gong4Xn >= 1 && mingshu >= 1) {
							gong4Xn--;
							mingshu--;
							mgongn++;
							cout << "恭喜获得命令之剑\n";
						} else cout << "材料不足\n\n";
					if (he == 2)
						if (he == 2 && gong4n >= 1 && mingshu >= 1) {
							gong4n--;
							mingshu--;
							gong4Xn++;
							cout << "恭喜获得X尚方宝剑X\n";
						} else cout << "材料不足\n\n";
					if (he == 3)
						if (he == 3 && fang4Xn >= 1 && mingshu >= 1) {
							fang4Xn--;
							mingshu--;
							mfangn++;
							cout << "恭喜获得命令之甲\n";
						} else cout << "材料不足\n\n";
					if (he == 4)
						if (he == 4 && fang4n >= 1 && mingshu >= 1) {
							fang4n--;
							mingshu--;
							fang4Xn++;
							cout << "恭喜获得X传说圣甲X\n";
						} else cout << "材料不足\n\n";
					if (he == 0) break;
					break;
				case 7:
					int mi;
					cout << "=====*【后台 开挂 测试Bug】*==================\n请输入密码=============*【想要后台密码问郑桐羽,只能输数字,否则死循环】*=========\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0 && mi != 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量上限加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n0.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,使用物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_10_6 {

	using namespace std;
	int boss1 = 0, boss2 = 0;
	struct Player {//玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞甲", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	big_strongman = {"喷火龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	shitu = {"凋零女巫", "凋零通行证", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 5000, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "金龙铠", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "\0", 1800, 65 * 10, 15000, 0, 10000, 0, 0, 1, 0},
	dlkl = {"凋零骷髅", "\0", 3000, 30 * 10, 12000, 0, 10000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 17, 10, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 400, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.10.6 正式版 ！", "斗破苍穹 2.10.6 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(500);
		printf("                            _________________________________                    ");
		system("color 89");
		printf("                          /________________________________/|                    ");
		system("color 89");
		printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.10.6 正式版|}--^*=+.              ");
		system("color 89");
		printf("                                                \n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(500);
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		Sleep(500);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的官方血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 500) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					cout << "使";
					Sleep(50);
					cout << "用";
					Sleep(50);
					cout << "免";
					Sleep(50);
					cout << "死";
					Sleep(50);
					cout << "金";
					Sleep(50);
					cout << "牌";
					Sleep(50);
					cout << "HP";
					Sleep(50);
					cout << "满";
					Sleep(50);
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				cout << "从";
				Sleep(100);
				cout << "敌";
				Sleep(100);
				cout << "人";
				Sleep(100);
				cout << "尸";
				Sleep(100);
				cout << "骸";
				Sleep(100);
				cout << "中";
				Sleep(100);
				cout << "发";
				Sleep(100);
				cout << "现";
				Sleep(100);
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "*凋零巨兽*") == 0) {
				printf("你把公主救了出来\n\n你从公主口中得知了一个更大的阴谋，你可以进入凋零世界\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			case 10:
				diaolingxin++;
				break;
			case 11:
				fang6n++;
				break;
			case 12:
				gong6n++;
				break;
			case 13:
				gong7n++;
				break;
			case 14:
				fang7n++;
				break;
			case 15:
				diaolingxinhave++;
				boss1++;
				break;
			case 16:
				break;
			case 17:
				boss2++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 375;
		int l3 = player.range_exp / 750;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,打开后台 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
//printf("  ");
					cout << "1,小郑子酒吧  ";
					Sleep(150);
					cout << "2,诺亚方舟酒店  ";
					Sleep(150);
					cout << "3,北朝商会  ";
					Sleep(150);
					cout << "4,红玉拍卖行  ";
					Sleep(150);
					cout << "5,冒险荒野\n\n\n";
					Sleep(150);
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 \n 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n");
							system("color 89");
							cout << "1,攻击装备 ";
							Sleep(50);
							cout << "2,防御装备 ";
							Sleep(50);
							cout << "3,一次性伤害武器\n\n\n";
							Sleep(50);
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}
							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								system("color 8c");
								printf("\n\n");
								cout << "1,神秘沼泽 危险程度:★\n\n";
								Sleep(150);
								system("color 8c");
								cout << "2,星耀草原 危险程度:★★★\n\n";
								Sleep(150);
								cout << "3,诡异森林 危险程度:★★★\n\n";
								Sleep(150);
								cout << "4,荒漠矿场 危险程度:★★★★\n\n";
								Sleep(150);
								cout << "5,炽热炎洞 危险程度:★★★★★\n\n";
								Sleep(150);
								cout << "6,皮卡营地 危险程度:★★★★★★\n\n";
								Sleep(150);
								cout << "7,花朵宫殿 危险程度:★★★★★★\n\n";
								Sleep(150);
								cout << "8,熔岩龙穴 危险程度:★★★★★★★\n\n";
								Sleep(150);
								cout << "9,凋零宇宙 危险程度:★★★★★★★★\n\n";
								Sleep(150);
								cout << "0,离开\n";
								Sleep(150);
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5 || boss1 >= 1) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7 && boss1 == 0) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxinhave != 0) {
											if (s == 1 && boss2 == 0) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 5 && s <= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxin == 0) {
											cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 9:
							if (fang2n >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 10:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 11:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 12:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 13:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 14:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。");
					cout << "为了给您更好的游戏体验，";
					Sleep(250);
					cout << "zty时不时会优化本游戏，";
					Sleep(250);
					cout << "优化后会尽快发布在网上。";
					Sleep(250);
					cout << "关于外挂方面，";
					Sleep(250);
					cout << "开启外挂的方式是设定勇者姓名时，";
					Sleep(250);
					cout << "输入";
					Sleep(250);
					cout << "“";
					Sleep(250);
					cout << "z";
					Sleep(250);
					cout << "t";
					Sleep(250);
					cout << "y";
					Sleep(250);
					cout << "”";
					Sleep(250);
					cout << "（不包括双引号）。";
					Sleep(250);
					cout << "由于2.10.5版本凋零女巫和凋零风暴可以重复打的bug，";
					Sleep(250);
					cout << "我们在";
					Sleep(250);
					cout << "";
					Sleep(250);
					cout << "2.";
					Sleep(250);
					cout << "10";
					Sleep(250);
					cout << ".5";
					Sleep(250);
					cout << "的基础上进行修改，";
					Sleep(250);
					cout << "已修复该bug。";
					Sleep(250);
					cout << "希望大家喜欢。";
					Sleep(250);
					cout << "在这里要感谢";
					Sleep(250);
					cout << "吴";
					Sleep(250);
					cout << "昊";
					Sleep(250);
					cout << "同学，";
					Sleep(250);
					cout << "他给了我许多宝贵的建议，";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "谢";
					Sleep(250);
					cout << "。\n";
					Sleep(250);
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
					break;
				case 7:
					int mi;
					cout << "=====*【后台 开挂 测试Bug】*=================================\n请输入密码===================================*【想要后台密码问郑桐羽,只能输数字,否则死循环】*===============\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量上限加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n0.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_10_5 {

	using namespace std;
	struct Player {//玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy {//怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 真伤（被防御后的破甲伤害）   不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,        1,                         0},
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"毒蜴", "鳞甲", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	big_strongman = {"喷火龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	shitu = {"凋零女巫", "凋零通行证", 1400, 500, 15000, 10000, 5000, 15, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 5000, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"熔岩飞龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"裂凯金龙", "金龙铠", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "\0", 1800, 65 * 10, 15000, 0, 10000, 0, 0, 1, 0},
	dlkl = {"凋零骷髅", "\0", 3000, 30 * 10, 12000, 0, 10000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 0, 0, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 400, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 45, gong7n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;
	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);
	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.10.5 正式版 ！", "斗破苍穹 2.10.5 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("                            _________________________________                    ");
		system("color 89");
		printf("                          /________________________________/|                    ");
		system("color 89");
		printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.10.5 正式版|}--^*=+.              ");
		system("color 89");
		printf("                                                \n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的zty族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();
		OrdinaryAct();
		return 0;
	}
	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}
	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}
	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {
					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health = player.max_health;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP上限+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.max_health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "*凋零巨兽*") == 0) {
				printf("你把公主救了出来\n\n你从公主口中得知了一个更大的阴谋，你可以进入凋零世界\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			case 10:
				diaolingxin++;
				break;
			case 11:
				fang6n++;
				break;
			case 12:
				gong6n++;
				break;
			case 13:
				gong7n++;
				break;
			case 14:
				fang7n++;
				break;
			case 15:
				diaolingxinhave++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 375;
		int l3 = player.range_exp / 750;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,打开后台 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							system("color 89");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("金龙铠：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★★★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★★\n\n 5,炽热炎洞 危险程度：★★★★★\n\n 6,皮卡营地 危险程度★★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★★\n\n 8,熔岩龙穴 危险程度：★★★★★★★\n\n 9,凋零宇宙 危险程度：★★★★★★★★\n\n0,离开\n");
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条飞龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的飞龙盘旋空中，，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxinhave != 0) {
											if (s == 1) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 5 && s <= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxin == 0) {
											cout << "你没有击败过凋零女巫，请去花朵宫殿击败凋零女巫。" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,金龙铠:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 9:
							if (fang2n >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 10:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 11:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 12:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 13:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 14:
							if (fang5n >= 1) {
								printf("穿上了金龙铠\n\n\n");
								fang = fang5;
								strcpy(fangname, "金龙铠");
							} else printf("你没有金龙铠可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.10.4版本凋零之心和巨龙晶石剩余的buy和凋零宇宙无法刷出凋零共生体的bug，我们在2.10.4的基础上进行修改，已修复该bug。并且修改了部分怪和场景的名称，希望大家喜欢。在这里要感谢吴昊同学，他给了我许多宝贵的建议，谢谢。\n");
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
					break;
				case 7:
					int mi;
					cout << "=====*【后台 开挂 测试Bug】*=================================\n请输入密码===================================*【想要后台密码问郑桐羽,只能输数字,否则死循环】*===============\n密码：";
					cin >> mi;
					if (mi % 20120913 == 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量上限加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n0.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_10_4 {
#include<stdio.h>
#include<iostream>
#include<ctime>
#include<bits/stdc++.h>
#include<time.h>
#include<windows.h> //SLEEP函数
	using namespace std;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 后面这俩不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,           1,0},

	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"森林蜥蜴", "铁甲", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"草原剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	shitu = {"凋零女巫", "凋零之心", 1400, 500, 15000, 10000, 5000, 10, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 5000, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "\0", 1800, 65 * 10, 15000, 0, 10000, 0, 0, 1, 0},
	dlkl = {"凋零骷髅", "\0", 3000, 30 * 10, 12000, 0, 10000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 0, 0, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 400, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 35, gong7n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxinhave = 0, diaolingxin = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.10.4 正式版 ！", "斗破苍穹 2.10.4 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("                            _________________________________                    ");
		system("color 89");
		printf("                          /________________________________/|                    ");
		system("color 89");
		printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.10.4 正式版|}--^*=+.              ");
		system("color 89");
		printf("                                                \n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的zty族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {

					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "*凋零巨兽*") == 0) {
				printf("你把公主救了出来\n\n你从公主口中得知了一个更大的阴谋，你可以进入凋零世界\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			case 10:
				diaolingxin++;
				break;
			case 11:
				fang6n++;
				break;
			case 12:
				gong6n++;
				break;
			case 13:
				gong7n++;
				break;
			case 14:
				fang7n++;
				break;
			case 15:
				diaolingxinhave++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 375;
		int l3 = player.range_exp / 750;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,打开后台 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							system("color 89");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,万龙甲：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★★★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★★\n\n 5,炽热炎洞 危险程度：★★★★★\n\n 6,皮卡营地 危险程度★★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★★\n\n 9,凋零宇宙 危险程度：★★★★★★★★\n\n0,离开\n");
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条长龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的长龙盘旋空中，你定睛一看，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxinhave != 0) {
											if (s == 1) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s >= 5 && s <= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxin == 0) {
											cout << "你没有凋零之心，需要击败凋零巨兽" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 9:
							if (fang2n >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 10:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 11:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 12:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 13:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 14:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩斗破苍穹（苍穹世界）。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.10.3版本凋零之心的buy，我们在2.10.3的基础上进行修改，已修复该bug。并且修改了凋零之心用完无法进入凋零宇宙的问题，希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
					break;
				case 7:
					int mi;
					cout << "=====*【后台管理 简称开挂 测试Bug】*=================================\n请输入管理者密码===================================*【想要后台密码就问郑桐羽,只能输数字，否则死循环】*===============\n管理密码：";
					cin >> mi;
					if (mi % 20120913 == 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量上限加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n211.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr % 211 == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_10_3 {
#include<stdio.h>
#include<iostream>
#include<ctime>
#include<bits/stdc++.h>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	using namespace std;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
//怪，拿格伦石人举例
// 怪变量  怪名     掉落的装备 攻   防  血  金币 经验 掉落装备编号 掉落概率 后面这俩不能改
//  gl= {"格伦石人","石铠甲",  30, 150,1000,500, 250,      11,       7,           1,0},

	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"森林蜥蜴", "铁甲", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"草原剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	shitu = {"凋零女巫", "凋零之心", 1400, 500, 15000, 10000, 5000, 10, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 5000, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "\0", 1800, 65 * 10, 15000, 0, 10000, 0, 0, 1, 0},
	dlkl = {"凋零骷髅", "\0", 3000, 30 * 10, 12000, 0, 10000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 0, 0, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 400, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 35, gong7n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxin = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.10.3 正式版 ！", "斗破苍穹 2.10.3 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("                            _________________________________                    ");
		system("color 89");
		printf("                          /________________________________/|                    ");
		system("color 89");
		printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.10.3 正式版|}--^*=+.              ");
		system("color 89");
		printf("                                                \n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的zty族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {

					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 482 && player.level < 500) {
						int sheng;
						sheng = 500 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过500级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "*凋零巨兽*") == 0) {
				printf("你把公主救了出来\n\n你从公主口中得知了一个更大的阴谋，你可以进入凋零世界\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			case 10:
				diaolingxin++;
				break;
			case 11:
				fang6n++;
				break;
			case 12:
				gong6n++;
				break;
			case 13:
				gong7n++;
				break;
			case 14:
				fang7n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 375;
		int l3 = player.range_exp / 750;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,打开后台 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							system("color 89");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,万龙甲：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★★★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★★\n\n 5,炽热炎洞 危险程度：★★★★★\n\n 6,皮卡营地 危险程度★★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★★\n\n 9,凋零宇宙 危险程度：★★★★★★★★\n\n0,离开\n");
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条长龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的长龙盘旋空中，你定睛一看，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxin != 0) {
											if (s == 1) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 5 && s >= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxin == 0) {
											cout << "你没有凋零之心，需要击败凋零巨兽" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 9:
							if (fang2n >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 10:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 11:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 12:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 13:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 14:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界（斗破苍穹）。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.10.2版本巨龙晶石的buy，我们在2.10.2的基础上进行修改，已修复该buy。并且修改了巨龙晶石的升级上限，希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
					break;
				case 7:
					int mi;
					cout << "=====*【后台管理 简称开挂 测试Bug】*=================================\n请输入管理者密码===================================*【想要后台密码就问郑桐羽,只能输数字，否则死循环】*===============\n管理密码：";
					cin >> mi;
					if (mi % 20120913 == 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量上限加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n211.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr % 211 == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_10_2 {
#include<stdio.h>
#include<iostream>
#include<ctime>
#include<bits/stdc++.h>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	using namespace std;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 100, 80, 200, 200, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 80, 20, 250, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 50, 50, 580, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 35, 55, 250, 50, 50, 2, 4, 1, 1},
	xiyi = {"森林蜥蜴", "铁甲", 20, 25, 80, 30, 35, 3, 8, 2, 2},
	big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 100, 30, 380, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 50, 22, 360, 50, 50, 6, 5, 1, 1},
	bee = {"草原剑客", "西洋剑", 27, 11, 60, 30, 35, 7, 5, 2, 2},
	shitu = {"凋零女巫", "凋零之心", 1400, 500, 15000, 10000, 5000, 10, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 1200, 700, 20000, 10000, 5000, 10, 7, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 8000, 4500, 9, 6, 6, 1},
	gst = {"凋零共生体", "\0", 1800, 65 * 10, 15000, 0, 10000, 0, 0, 1, 0},
	dlkl = {"凋零骷髅", "\0", 3000, 30 * 10, 12000, 0, 10000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 9000, 1500, 49000, 0, 500000, 0, 0, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 400, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 20, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 300, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 35, gong7n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxin = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.10.2 正式版 ！", "斗破苍穹 2.10.2 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("                            _________________________________                    ");
		system("color 89");
		printf("                          /________________________________/|                    ");
		system("color 89");
		printf("                _.+=*^--{|欢迎来到 [斗破苍穹] 2.10.2 正式版|}--^*=+.              ");
		system("color 89");
		printf("                                                \n");
		system("color 89");
		//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是斗破苍穹(苍穹世界)! 契晋赫苟国的漓嘉茜公主被神秘人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的zty族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {

					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 182 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "*凋零巨兽*") == 0) {
				printf("你把公主救了出来\n\n你从公主口中得知了一个更大的阴谋，你可以进入凋零世界\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			case 10:
				diaolingxin++;
				break;
			case 11:
				fang6n++;
				break;
			case 12:
				gong6n++;
				break;
			case 13:
				gong7n++;
				break;
			case 14:
				fang7n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 150;
		int l2 = player.range_exp / 375;
		int l3 = player.range_exp / 750;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
			// \(1000);
			// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,打开后台 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
							// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							system("color 89");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%n 4,碧血战锤:%d个 5,蜘蛛毒剑:%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,万龙甲：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★★★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★★\n\n 5,炽热炎洞 危险程度：★★★★★\n\n 6,皮卡营地 危险程度★★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★★\n\n 9,凋零宇宙 危险程度：★★★★★★★★\n\n0,离开\n");
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
											//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条长龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的长龙盘旋空中，你定睛一看，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxin != 0) {
											if (s == 1) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 5 && s >= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxin == 0) {
											cout << "你没有凋零之心，需要击败凋零巨兽" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 9:
							if (fang2n >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 10:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 11:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 12:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 13:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 14:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界（斗破苍穹）。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.10.1版本的buy，我们在2.10.1的基础上进行修改，已修复该buy。并且修改了怪物的各项数值，做了一些平衡性调整，希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
					break;
				case 7:
					int mi;
					cout << "=====*【后台管理 简称开挂 测试Bug】*=================================\n请输入管理者密码      想退出就在管理密码那输入211\n=====*【想要后台密码就问郑桐羽,只能输数字，否则死循环】*===============\n管理密码：";
					cin >> mi;
					if (mi % 20120913 == 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n211.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr % 211 == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_10_1 {
#include<stdio.h>
#include<iostream>
#include<ctime>
#include<bits/stdc++.h>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	using namespace std;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	}
	gl = {"格伦石人", "石铠甲", 30, 150, 1000, 500, 250, 11, 7, 1, 0},
	zhizhu = {"洞穴蜘蛛", "蜘蛛毒剑", 140, 20, 250, 400, 200, 12, 5, 1, 0},
	ymr = {"野蛮人", "粗制石剑", 20, 20, 150, 100, 50, 13, 5, 1, 0},
	nz = {"牛仔", "战斗马甲", 100, 20, 350, 500, 250, 14, 10, 1, 0},
	strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 5, 1, 0},
	witch = {"兽人", "重甲", 25, 15, 100, 50, 50, 2, 4, 1, 1},
	xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 8, 2, 2},
	big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 5, 1, 0},
	horse = {"独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 5, 1, 1},
	bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 5, 2, 2},
	shitu = {"凋零女巫", "凋零之心", 2000, 700, 20000, 10000, 5000, 10, 10, 1, 0},
	dljs = {"凋零巨兽", "凋零之心", 2000, 700, 20000, 10000, 5000, 10, 10, 1, 0},
	pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 10000, 5000, 9, 6, 6, 1},
	gst = {"凋零共生体", "\0", 1800, 65 * 10, 15000, 0, 4500, 0, 0, 1, 0},
	dlkl = {"凋零骷髅", "\0", 3000, 30 * 10, 12000, 0, 5000, 0, 0, 1, 0},
	dlfb = {".+*凋零风暴*+.", "\0", 18000, 200 * 10, 98000, 0, 500000, 0, 0, 1, 0},
	guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 200, fang5n = 0, fang6 = 150, fang6n = 0, fang7 = 60, fang7n = 0;
	int gong = 0, gong1 = 10, gong1n = 0, gong2 = 10, gong2n = 0, gong3 = 45, gong3n = 0, gong4 = 100, gong4n = 0, gong5 = 500, gong5n = 0, gong6 = 150, gong6n = 0, gong7 = 35, gong7n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxin = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.10.1 正式版 ！", "斗破苍穹 2.10.1 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("                            _________________________________                    ");
		system("color 89");
		printf("                          /________________________________/|                    ");
		system("color 89");
		printf("                _.+=*^--{|欢迎来到 [苍穹世界] 2.10.1 正式版|}--^*=+.              ");
		system("color 89");
		printf("                                                \n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 契晋赫苟国的漓嘉茜公主被神秘老人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的郑族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 99999;
			player.defense = 99999;
			player.health = 999999;
			player.max_health = 999999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {

					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 182 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "*凋零巨兽*") == 0) {
				printf("你把公主救了出来\n\n你从公主口中得知了一个更大的阴谋，你可以进入凋零世界\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			case 10:
				diaolingxin++;
				break;
			case 11:
				fang6n++;
				break;
			case 12:
				gong6n++;
				break;
			case 13:
				gong7n++;
				break;
			case 14:
				fang7n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 200;
		int l2 = player.range_exp / 500;
		int l3 = player.range_exp / 1000;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,打开后台 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							system("color 89");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑%n 4,碧血战锤:%d个 5，蜘蛛毒剑：%n个 6,尚方宝剑:%d个 7,皮卡大剑：%d个\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10，战斗马甲:%d个 11,重甲:%d个 12，石铠甲:%d个 13,传说圣甲:%d个 14,万龙甲：%d个 15，巨龙晶石:%d个\n 0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong7n >= shu) {
										gong7n = gong7n - shu;
										money = money + shu * 800;
										printf("粗制石剑：%d\n", gong7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong6n >= shu) {
										gong6n = gong6n - shu;
										money = money + shu * 1000;
										printf("蜘蛛毒剑：%d\n", gong6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang7n >= shu) {
										fang7n = fang7n - shu;
										money = money + shu * 1000;
										printf("战斗马甲：%d\n", fang7n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 12:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang6n >= shu) {
										fang6n = fang6n - shu;
										money = money + shu * 2000;
										printf("石凯甲：%d\n", fang6n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 13:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}

								case 14:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 15:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★★★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★★\n\n 5,炽热炎洞 危险程度：★★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★★\n\n 9，凋零宇宙 危险程度：★★★★★★★★\n\n0,离开\n");
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 4) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = zhizhu;
											printf("可怕的%s扑爬了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 8) {
											battle = 1;
											guai = ymr;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = gl;
											printf("全身长满矿石的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条长龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的长龙盘旋空中，你定睛一看，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 5) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 7) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											battle = 1;
											guai = nz;
											printf("帅气但令人讨厌的%s向你开枪!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxin != 0) {
											if (s == 1) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 5 && s >= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxin == 0) {
											cout << "你没有凋零之心，需要击败凋零巨兽" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,粗制石剑:%d个 4,碧血战锤:%d个 5,蜘蛛毒剑:%d个 6,尚方宝剑:%d个 7,雷霆之刃：%d个\n\n\n", gong1n, gong2n, gong7n, gong3n, gong6n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 8,布衣:%d个 9,铁甲:%d个 10,战斗马甲:%d个 11,重甲:%d个 12,石铠甲:%d个 13,传说圣甲:%d个 14,万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang7n, fang3n, fang6n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong7n >= 1) {
								printf("拿起了粗制石剑\n\n\n");
								gong = gong7;
								strcpy(gongname, "粗制石剑");
							} else printf("你没有粗制石剑可以装备\n\n\n");
							break;
						case 4:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 5:
							if (gong6n >= 1) {
								printf("拿起了蜘蛛毒剑\n\n\n");
								gong = gong6;
								strcpy(gongname, "蜘蛛毒剑");
							} else printf("你没有蜘蛛毒剑可以装备\n\n\n");
							break;
						case 6:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 7:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 8:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 9:
							if (fang2n >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 10:
							if (fang7n >= 1) {
								printf("穿上了战斗马甲\n\n\n");
								fang = fang7;
								strcpy(fangname, "战斗马甲");
							} else printf("你没有战斗马甲可以装备\n\n\n");
							break;
						case 11:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 12:
							if (fang6n >= 1) {
								printf("穿上了石铠甲\n\n\n");
								fang = fang6;
								strcpy(fangname, "石凯甲");
							} else printf("你没有石凯甲可以装备\n\n\n");
							break;
						case 13:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 14:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界（斗破苍穹）。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。我们在2.9版本内容的基础上进行修改，新增了四个新怪物和武器装备，希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
					break;
				case 7:
					int mi;
					cout << "=====*【后台管理 简称开挂 测试Bug】*=================================\n请输入管理者密码      想退出就在管理密码那输入211\n=====*【想要后台密码就问郑桐羽,只能输数字，否则死循环】*===============\n管理密码：";
					cin >> mi;
					if (mi % 20120913 == 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加999999\n2.血量加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n211.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 999999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr % 211 == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_9_1 {
#include<stdio.h>
#include<iostream>
#include<ctime>
#include<bits/stdc++.h>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	using namespace std;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 5, 1, 0},
	  witch = {"森林兽人", "重甲", 25, 15, 100, 50, 50, 2, 4, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 8, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 5, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 5, 1, 1},
	  bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 5, 2, 2},
	  shitu = {"凋零女巫", "凋零之心", 2000, 700, 20000, 10000, 5000, 10, 10, 1, 0},
	  dljs = {"凋零巨兽", "凋零之心", 2000, 700, 20000, 10000, 5000, 10, 10, 1, 0},
	  pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	  dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	  cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	  jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 10000, 5000, 9, 6, 6, 1},
	  gst = {"凋零共生体", "\0", 1800, 65 * 10, 15000, 0, 4500, 0, 0, 1, 0},
	  dlkl = {"凋零骷髅", "\0", 3000, 30 * 10, 12000, 0, 5000, 0, 0, 1, 0},
	  dlfb = {".+*凋零风暴*+.", "\0", 18000, 200 * 10, 98000, 0, 500000, 0, 0, 1, 0},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 200, fang5n = 0;
	int gong = 0, gong1 = 8, gong1n = 0, gong2 = 15, gong2n = 0, gong3 = 25, gong3n = 0, gong4 = 60, gong4n = 0, gong5 = 100, gong5n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	int diaolingxin = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.9.0 正式版 ！", "斗破苍穹 2.9.0 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("                            _________________________________                    ");
		system("color 89");
		printf("                          /________________________________/|                    ");
		system("color 89");
		printf("               _.+=*^--{|欢迎来到 [苍穹世界] 2.9.0 正式版|}--^*=+._              ");
		system("color 89");
		printf("                                               \n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 契晋赫苟国的漓嘉茜公主被神秘老人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的郑族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999;
			player.defense = 999;
			player.health = 9999;
			player.max_health = 9999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 13,凋零之心%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi, diaolingxin);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {

					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 182 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
				break;
			case 13:
				if (diaolingxin > 0) {
					printf("使用凋零之心\nHP+100  攻击+100\n\n\n");
					system("color 8b");
					diaolingxin--;
					player.health += 100;
					player.attack += 100;
				} else printf("没有凋零之心了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "*凋零巨兽*") == 0) {
				printf("你把公主救了出来\n\n你从公主口中得知了一个更大的阴谋，你可以进入凋零世界\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			case 10:
				diaolingxin++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,打开后台 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							system("color 89");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n", gong1n, gong2n, gong3n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10,万龙甲：%d个\n11，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★\n\n 9，凋零宇宙 危险程度：★★★★★★★★\n\n0,离开\n");
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 10) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条长龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的长龙盘旋空中，你定睛一看，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 9:
										s = SuiJi();
										if (diaolingxin != 0) {
											if (s == 1) {
												battle = 1;
												guai = dlfb;
												printf("一个巨大的黑暗物体，周围环绕着大量的由破碎方块组成的黑色颗粒云环的%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 2 && s <= 4) {
												battle = 1;
												guai = dlkl;
												printf("手持凋零剑的黑色凶恶%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else if (s <= 5 && s >= 7) {
												battle = 1;
												guai = gst;
												printf("一个巨大的触手向你打来，你挡了下来%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else {
												battle = 1;
												guai = dljs;
												printf("一只巨大的猛兽%s冲了过来!\n\n\n", guai.name);
												BattleAct();
											}
										}
										if (diaolingxin == 0) {
											cout << "你没有凋零之心，需要击败凋零女巫或凋零巨兽" << endl;
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,雷霆之刃：%d个\n\n\n", gong1n, gong2n, gong3n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 6:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 7:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 8:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 9:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 10:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。我们在2.8版本内容的基础上进行修改，已修复该bug。并且新增了新副本、怪物、boss、道具等，希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
						system("color 89");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
					break;
				case 7:
					int mi;
					cout << "=====*【后台管理 简称开挂 测试Bug】*=================================\n请输入管理者密码      想退出就在管理密码那输入211\n=====*【想要后台密码就问郑桐羽,只能输数字，别问为什么，否则死循环】*=========\n管理密码：";
					cin >> mi;
					if (mi % 20120913 == 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加9999\n2.血量加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n211.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 9999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr % 211 == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_8_2 {
#include<stdio.h>
#include<iostream>
#include<ctime>
#include<bits/stdc++.h>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	using namespace std;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 5, 1, 0},
	  witch = {"森林兽人", "重甲", 25, 15, 100, 50, 50, 2, 4, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 8, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 5, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 5, 1, 1},
	  bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 5, 2, 2},
	  shitu = {"*凋零风暴*", "\0", 2000, 700, 20000, 10000, 5000, 0, 1, 1, 0},
	  pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	  dapika = {"雷霆皮卡", "雷霆之刃", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	  cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	  jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 10000, 5000, 9, 6, 6, 1},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 200, fang5n = 0;
	int gong = 0, gong1 = 8, gong1n = 0, gong2 = 15, gong2n = 0, gong3 = 25, gong3n = 0, gong4 = 60, gong4n = 0, gong5 = 100, gong5n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.8.2 正式版 ！", "斗破苍穹 2.8.2 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("                            _________________________________                    ");
		system("color 89");
		printf("                          /________________________________/|                    ");
		system("color 89");
		printf("               _.+=*^--{|欢迎来到 [苍穹世界] 2.8.2 正式版|}--^*=+._              ");
		system("color 89");
		printf("                                               \n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 契晋赫苟国的漓嘉茜公主被神秘老人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的郑族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999;
			player.defense = 999;
			player.health = 9999;
			player.max_health = 9999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {

					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 182 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "*凋零风暴*") == 0) {
				printf("你把公主救了出来\n\n你可以在主页面退出\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,打开后台 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							system("color 89");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n", gong1n, gong2n, gong3n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10,万龙甲：%d个\n11，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★\n\n 0,离开\n");
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("横冲直撞的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 10) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("你感到了强烈的电流涌入全身，%s走了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("天空一声巨响，三道闪电劈到%s的身上，%s手持雷霆之刃冲了过来!\n\n\n", guai.name, guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s <= 3) {
											battle = 1;
											guai = cl;
											printf("一条长龙横卧洞内，你定睛一看，是%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s <= 8 && s >= 4) {
											battle = 1;
											guai = big_strongman;
											printf("炽热的%s拍打着翅膀扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("一条金光闪闪的长龙盘旋空中，你定睛一看，是传说中的%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s举着尚方宝剑拦住了你!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("瞬间，你被一团黑雾笼罩，你被拉入了凋零幻境，%s向你发起攻击!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,雷霆之刃：%d个\n\n\n", gong1n, gong2n, gong3n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (gong5n >= 1) {
								printf("拿起了雷霆之刃\n\n\n");
								gong = gong5;
								strcpy(gongname, "雷霆之刃");
							} else printf("你没有雷霆之刃可以装备\n\n\n");
							break;
						case 6:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 7:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 8:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 9:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 10:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.8.1版本的buy，我们在2.8.1的基础上进行修改，已修复该bug.希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
						system("color 89");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
					break;
				case 7:
					int mi;
					cout << "=====*【后台管理 简称开挂 测试Bug】*=================================\n请输入管理者密码      想退出就在管理密码那输入211\n=====*【想要后台密码就问郑桐羽,只能输数字，别问为什么，否则死循环】*=========\n管理密码：";
					cin >> mi;
					if (mi % 20120913 == 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加9999\n2.血量加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n211.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 9999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr % 211 == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_8_1 {
#include<stdio.h>
#include<iostream>
#include<ctime>
#include<bits/stdc++.h>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	using namespace std;
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 5, 1, 0},
	  witch = {"森林兽人", "重甲", 25, 15, 100, 50, 50, 2, 4, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 8, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 5, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 5, 1, 1},
	  bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 5, 2, 2},
	  shitu = {"幻象*凋零风暴*", "\0", 2000, 700, 20000, 10000, 5000, 0, 1, 1, 0},
	  pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	  dapika = {"大皮卡超人", "皮卡大剑", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	  cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	  jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 10000, 5000, 9, 6, 6, 1},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int htsr;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 200, fang5n = 0;
	int gong = 0, gong1 = 8, gong1n = 0, gong2 = 15, gong2n = 0, gong3 = 25, gong3n = 0, gong4 = 60, gong4n = 0, gong5 = 100, gong5n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0, htmmcs = 5;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();  //      ____
	void ChooseWupin();  //   /___/|
	void DisplayState();  //  |   |/
	void OrdinaryAct();     //
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.8.0 正式版 ！", "斗破苍穹 2.8.0 游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("                            _________________________________                    ");
		system("color 89");
		printf("                          /________________________________/|                    ");
		system("color 89");
		printf("               _.+=*^--{|欢迎来到 [苍穹世界] 2.8.0 正式版|}--^*=+._              ");
		system("color 89");
		printf("                                               \n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 契晋赫苟国的漓嘉茜公主被神秘老人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的郑族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999;
			player.defense = 999;
			player.health = 9999;
			player.max_health = 9999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {

					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 182 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "幻象*凋零风暴*") == 0) {
				printf("你把公主救了出来\n\n你可以在主页面退出\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 7,打开后台 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							system("color 89");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n", gong1n, gong2n, gong3n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10,万龙甲：%d个\n11，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★\n\n 0,离开\n");
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = big_strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = cl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n\n\n", gong1n, gong2n, gong3n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (gong5n >= 1) {
								printf("拿起了皮卡大剑\n\n\n");
								gong = gong5;
								strcpy(gongname, "皮卡大剑");
							} else printf("你没有皮卡大剑可以装备\n\n\n");
							break;
						case 6:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 7:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 8:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 9:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 10:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。我们在2.7版本内容的基础上进行修改，新增了可以调试角色的后台，希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
						system("color 89");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
					break;
				case 7:
					int mi;
					cout << "=====*【后台管理 简称开挂 测试Bug】*=================================\n请输入管理者密码      想退出就在管理密码那输入211\n=====*【想要后台密码就问郑桐羽,只能输数字，别问为什么，否则死循环】*=========\n管理密码：";
					cin >> mi;
					if (mi % 20120913 == 0) {
						cout << "输入正确！\n欢迎进入后台！\n后台服务：\n=======================\n1.金币加9999\n2.血量加9999\n3.现有血量加9999\n4.攻击加9999\n5.防御加9999\n211.退出\n=======================\n输入>>> " << endl;
						cin >> htsr;
						if (htsr == 1) {
							cout << "成功获得效果 *金币加9999\n";
							money += 9999;
						}
						if (htsr == 2) {
							cout << "成功获得效果 *血量加9999\n";
							player.health += 9999;
						}
						if (htsr == 3) {
							cout << "成功获得效果 *血量上限加9999\n";
							player.max_health += 9999;
						}
						if (htsr == 4) {
							cout << "成功获得效果 *攻击加9999\n";
							player.attack += 9999;
						}
						if (htsr == 5) {
							cout << "成功获得效果 *防御加9999\n";
							player.defense += 9999;
						}
						if (htsr % 211 == 0) {
							cout << "成功退出\n";
							continue;
						}
					} else {
						cout << "输入错误！请检查！" << endl;
						continue;
					}

					break;
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}

}
namespace dpcq2_7_4 {
#include<stdio.h>
#include<ctime>
#include<bits/stdc++.h>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 5, 1, 0},
	  witch = {"森林兽人", "重甲", 25, 15, 100, 50, 50, 2, 4, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 8, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 5, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 5, 1, 1},
	  bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 5, 2, 2},
	  shitu = {"幻象*凋零风暴*", "\0", 2000, 700, 20000, 10000, 5000, 0, 1, 1, 0},
	  pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	  dapika = {"大皮卡超人", "皮卡大剑", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	  cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	  jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 10000, 5000, 9, 6, 6, 1},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 200, fang5n = 0;
	int gong = 0, gong1 = 8, gong1n = 0, gong2 = 15, gong2n = 0, gong3 = 25, gong3n = 0, gong4 = 60, gong4n = 0, gong5 = 100, gong5n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();
	void ChooseWupin();
	void DisplayState();
	void OrdinaryAct();
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {
		MessageBox (NULL, "欢迎来到斗破苍穹 2.7.4 正式版 ！", "游戏开始提示", MB_OK);
		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("-------------------.+*--欢迎来到 [苍穹世界] 2.7.4 正式版--*+.-------------------\n\n\n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 契晋赫苟国的漓嘉茜公主被神秘老人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的郑族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999;
			player.defense = 999;
			player.health = 9999;
			player.max_health = 9999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {

					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 182 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "幻象*凋零风暴*") == 0) {
				printf("你把公主救了出来\n\n你可以在主页面退出\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							system("color 89");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n", gong1n, gong2n, gong3n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10,万龙甲：%d个\n11，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★\n\n 0,离开\n");
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = big_strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = cl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n\n\n", gong1n, gong2n, gong3n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (gong5n >= 1) {
								printf("拿起了皮卡大剑\n\n\n");
								gong = gong5;
								strcpy(gongname, "皮卡大剑");
							} else printf("你没有皮卡大剑可以装备\n\n\n");
							break;
						case 6:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 7:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 8:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 9:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 10:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。我们在2.0的基础上进行更新，新增游戏开始提示，希望大家喜欢。在这里要感谢离陌同学，他给了我们许多宝贵的建议，谢谢。\n");
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
						system("color 89");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_7_3 {
#include<stdio.h>
#include<ctime>
#include<bits/stdc++.h>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 5, 1, 0},
	  witch = {"森林兽人", "重甲", 25, 15, 100, 50, 50, 2, 4, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 8, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 5, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 5, 1, 1},
	  bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 5, 2, 2},
	  shitu = {"幻象*凋零风暴*", "\0", 2000, 700, 20000, 10000, 5000, 0, 1, 1, 0},
	  pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	  dapika = {"大皮卡超人", "皮卡大剑", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	  cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	  jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 10000, 5000, 9, 6, 6, 1},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	int max_exp = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 200, fang5n = 0;
	int gong = 0, gong1 = 8, gong1n = 0, gong2 = 15, gong2n = 0, gong3 = 25, gong3n = 0, gong4 = 60, gong4n = 0, gong5 = 100, gong5n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();
	void ChooseWupin();
	void DisplayState();
	void OrdinaryAct();
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {

		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("-------------------.+*--欢迎来到 [苍穹世界] 2.7.2 正式版--*+.-------------------\n\n\n");
		system("color 89");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 契晋赫苟国的漓嘉茜公主被神秘老人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		system("color 89");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的郑族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999;
			player.defense = 999;
			player.health = 9999;
			player.max_health = 9999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi);
		system("color 8A");
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					system("color 8A");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				system("color 8A");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					system("color 8A");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				system("color 8A");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					system("color 8A");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				system("color 8A");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					system("color 8A");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				system("color 8A");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						system("color 84");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				system("color 84");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						system("color 84");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				system("color 84");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						system("color 84");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				system("color 84");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {

					printf("使用经验草,等级增加3级\n\n\n");
					system("color 8E");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
					system("color 8E");
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						system("color 8E");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用经验石,等级增加10级\n");
						system("color 8E");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 182 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						system("color 8E");
						printf("等级：%d\n", player.level);
						system("color 8E");
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						system("color 8E");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
						system("color 8E");
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
					system("color 8E");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				system("color 8E");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					system("color 8b");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				system("color 8b");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			system("color 8C");
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				system("color 8C");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "幻象*凋零风暴*") == 0) {
				printf("你把公主救了出来\n\n你可以在主页面退出\n\n");
				system("color 8C");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
				system("color 8C");
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
				system("color 8C");
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				system("color CC");
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				system("color 8E");
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				system("color 8E");
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				system("color 8E");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			system("color 89");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 0,退出游戏\n\n\n");
			system("color 89");
			puts("=============================================================================");
			system("color 89");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					system("color 89");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							system("color 89");
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							system("color 89");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										system("color 89");
										printf("金币：%d", money);
										system("color 89");
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									system("color 89");
									break;
								default:
									printf("hotel talk error!\n\n\n");
									system("color 89");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							system("color 89");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									system("color 89");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												system("color 89");
												printf("匕首:%d个\n", gong1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												system("color 89");
												printf("西洋剑:%d个\n", gong2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												system("color 89");
												printf("碧血战锤:%d个\n", gong3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											system("color 89");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									system("color 89");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												system("color 89");
												printf("布衣:%d个\n", fang1n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												system("color 89");
												printf("铁甲:%d个\n", fang2n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												system("color 89");
												printf("重甲:%d个\n", fang3n);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											system("color 89");
											break;

									}
									printf("金币：%d\n", money);
									system("color 89");
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									system("color 89");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												system("color 89");
												printf("手雷：%d\n", boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d", money);
												system("color 89");
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												system("color 89");
												printf("毒镖：%d\n", dubiao);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												system("color 89");
												printf("手抛式原子弹：%d\n", atom_boom);
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											} else {
												printf("钱不够!\n\n\n");
												system("color 89");
												printf("金币：%d\n", money);
												system("color 89");
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							system("color 89");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n", gong1n, gong2n, gong3n, gong4n, gong5n);
							system("color 89");
							printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10,万龙甲：%d个\n11，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n, strongman_arm);
							system("color 89");
							int pai, shu, i;
							scanf("%d", &pai);
							system("color 89");
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									system("color 89");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										system("color 89");
										printf("金币：%d\n", money);
										system("color 89");
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										system("color 89");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									system("color 89");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★\n\n 0,离开\n");
								system("color 8c");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = big_strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = cl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											system("color 89");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
									system("color 89");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n");
						system("color 89");//显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								system("color 89");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									system("color 89");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								system("color 89");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								system("color 89");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													system("color 89");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													system("color 89");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
												system("color 89");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													system("color 89");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													system("color 89");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											system("color 89");
											break;
										default:
											printf("输入错误\n\n\n");
											system("color 89");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								system("color 89");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									system("color 89");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");
												system("color 89");

											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
												system("color 89");
											} else {
												printf("钱不够!\n");
												system("color 89");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									system("color 89");
									printf("再见，欢迎下次再来！\n");
									system("color 89");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
									system("color 89");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					system("color 89");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n\n\n", gong1n, gong2n, gong3n, gong4n, gong5n);
					system("color 89");
					printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n);
					system("color 89");
					printf("选择要装备的武器或防具:\n\n\n");
					system("color 89");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								system("color 89");
								gong = gong1;
								strcpy(gongname, "匕首");
								system("color 89");
							} else printf("你没有匕首可以装备\n\n\n");
							system("color 89");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								system("color 89");
								gong = gong2;
								strcpy(gongname, "西洋剑");
								system("color 89");
							} else printf("你没有西洋剑可以装备\n\n\n");
							system("color 89");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (gong5n >= 1) {
								printf("拿起了皮卡大剑\n\n\n");
								gong = gong5;
								strcpy(gongname, "皮卡大剑");
							} else printf("你没有皮卡大剑可以装备\n\n\n");
							break;
						case 6:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 7:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 8:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 9:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 10:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。本次更新，我们在2.7.2的基础上进行修改，新增了界面颜色，希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					system("color 89");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					system("color 89");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
						system("color 89");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						system("color 89");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_7_2 {
#include<stdio.h>
#include<ctime>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 5, 1, 0},
	  witch = {"森林兽人", "重甲", 25, 15, 100, 50, 50, 2, 4, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 8, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 5, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 5, 1, 1},
	  bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 5, 2, 2},
	  shitu = {"幻象*凋零风暴*", "\0", 2000, 700, 20000, 10000, 5000, 0, 1, 1, 0},
	  pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	  dapika = {"大皮卡超人", "皮卡大剑", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	  cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	  jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 10000, 5000, 9, 6, 6, 1},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};

	int max_exp = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 200, fang5n = 0;
	int gong = 0, gong1 = 8, gong1n = 0, gong2 = 15, gong2n = 0, gong3 = 25, gong3n = 0, gong4 = 60, gong4n = 0, gong5 = 100, gong5n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();
	void ChooseWupin();
	void DisplayState();
	void OrdinaryAct();
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {

		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("-------------------.+*--欢迎来到 [苍穹世界] 2.7.2 正式版--*+.-------------------\n\n\n");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 契晋赫苟国的漓嘉茜公主被神秘老人绑架了!\n\n\n 伟大的勇者啊~拿起你的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的郑族血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999;
			player.defense = 999;
			player.health = 9999;
			player.max_health = 9999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi);
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加120\n\n\n");
					cao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有止血草了\n\n\n");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加180\n\n\n");
					jijiubao--;
					if (player.health + 180 > player.max_health)player.health = player.max_health;
					else player.health += 180;
				} else printf("没有急救包了\n\n\n");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加240\nz\n\n");
					baiyao--;
					if (player.health + 240 > player.max_health)player.health = player.max_health;
					else player.health += 240;
				} else printf("没有云南白药了\n\n\n");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加400\n\n\n");
					superbaiyao--;
					if (player.health + 400 > player.max_health)player.health = player.max_health;
					else player.health += 400;
				} else printf("没有超级云南白药了\n\n\n");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1500\n\n\n");
						atom_boom--;
						guai.health -= 1500;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 200) {

					printf("使用经验草,等级增加3级\n\n\n");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 200) {
					if (player.level > 197 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 200) {
					if (player.level > 192 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用经验石,等级增加10级\n");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 200) {
					if (player.level > 182 && player.level < 200) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
				} else printf("等级超过200级,修为太高，无法使用。\n\n\n");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "幻象*凋零风暴*") == 0) {
				printf("你把公主救了出来\n\n你可以在主页面退出\n\n");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 0,退出游戏\n\n\n");
			puts("=============================================================================");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										printf("金币：%d", money);
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										printf("金币：%d\n", money);
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									break;
								default:
									printf("hotel talk error!\n\n\n");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												printf("匕首:%d个\n", gong1n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												printf("西洋剑:%d个\n", gong2n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												printf("碧血战锤:%d个\n", gong3n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												printf("布衣:%d个\n", fang1n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												printf("铁甲:%d个\n", fang2n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												printf("重甲:%d个\n", fang3n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											break;

									}
									printf("金币：%d\n", money);
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												printf("手雷：%d\n", boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												printf("毒镖：%d\n", dubiao);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom < 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												printf("手抛式原子弹：%d\n", atom_boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n\n\n");
												printf("金币：%d\n", money);
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n", gong1n, gong2n, gong3n, gong4n, gong5n);
							printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10,万龙甲：%d个\n11，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n, strongman_arm);
							int pai, shu, i;
							scanf("%d", &pai);
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★\n\n 0,离开\n");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = big_strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = cl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n"); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											break;
										default:
											printf("输入错误\n\n\n");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");

											} else {
												printf("钱不够!\n");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									printf("再见，欢迎下次再来！\n");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n\n\n", gong1n, gong2n, gong3n, gong4n, gong5n);
					printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n);
					printf("选择要装备的武器或防具:\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								gong = gong1;
								strcpy(gongname, "匕首");
							} else printf("你没有匕首可以装备\n\n\n");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								gong = gong2;
								strcpy(gongname, "西洋剑");
							} else printf("你没有西洋剑可以装备\n\n\n");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (gong5n >= 1) {
								printf("拿起了皮卡大剑\n\n\n");
								gong = gong5;
								strcpy(gongname, "皮卡大剑");
							} else printf("你没有皮卡大剑可以装备\n\n\n");
							break;
						case 6:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 7:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 8:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 9:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 10:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.7.1版本的bug我们在2.7.1的基础上进行修改，已修复该bug。希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
namespace dpcq2_7_1 {
#include<stdio.h>
#include<ctime>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 5, 1, 0},
	  witch = {"森林兽人", "重甲", 25, 15, 100, 50, 50, 2, 4, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 8, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 5, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 5, 1, 1},
	  bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 5, 2, 2},
	  shitu = {"幻象*凋零风暴*", "\0", 2000, 700, 20000, 10000, 5000, 0, 1, 1, 0},
	  pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	  dapika = {"大皮卡超人", "皮卡大剑", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	  cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	  jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 10000, 5000, 9, 6, 6, 1},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};

	int max_exp = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 3, baiyao = 3, superbaiyao = 3, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0, fang5 = 200, fang5n = 0;
	int gong = 0, gong1 = 8, gong1n = 0, gong2 = 15, gong2n = 0, gong3 = 25, gong3n = 0, gong4 = 60, gong4n = 0, gong5 = 100, gong5n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();
	void ChooseWupin();
	void DisplayState();
	void OrdinaryAct();
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {

		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("--------------------------欢迎来到 [苍穹世界] 2.7.1 正式版-----------------------\n\n\n");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 雅莉萨斯国的罗茜公主被陌生人绑架了!\n\n\n 伟大的勇者啊~拿起你们的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的圣剑血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999;
			player.defense = 999;
			player.health = 9999;
			player.max_health = 9999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi);
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加60\n\n\n");
					cao--;
					if (player.health + 60 > player.max_health)player.health = player.max_health;
					else player.health += 60;
				} else printf("没有止血草了\n\n\n");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加80\n\n\n");
					jijiubao--;
					if (player.health + 80 > player.max_health)player.health = player.max_health;
					else player.health += 80;
				} else printf("没有急救包了\n\n\n");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加120\nz\n\n");
					baiyao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有云南白药了\n\n\n");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加200\n\n\n");
					superbaiyao--;
					if (player.health + 200 > player.max_health)player.health = player.max_health;
					else player.health += 200;
				} else printf("没有超级云南白药了\n\n\n");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1000\n\n\n");
						atom_boom--;
						guai.health -= 1000;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 100) {

					printf("使用经验草,等级增加3级\n\n\n");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 1000) {
					if (player.level > 97 && player.level < 1000) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 100) {
					if (player.level > 92 && player.level < 100) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用经验石,等级增加10级\n");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 100) {
					if (player.level > 82 && player.level < 100) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "幻象*凋零风暴*") == 0) {
				printf("你把公主救了出来\n\n你可以在主页面退出\n\n");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 0,退出游戏\n\n\n");
			puts("=============================================================================");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										printf("金币：%d", money);
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										printf("金币：%d\n", money);
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									break;
								default:
									printf("hotel talk error!\n\n\n");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												printf("匕首:%d个\n", gong1n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												printf("西洋剑:%d个\n", gong2n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												printf("碧血战锤:%d个\n", gong3n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												printf("布衣:%d个\n", fang1n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												printf("铁甲:%d个\n", fang2n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												printf("重甲:%d个\n", fang3n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											break;

									}
									printf("金币：%d\n", money);
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												printf("手雷：%d\n", boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												printf("毒镖：%d\n", dubiao);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom <= 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												printf("手抛式原子弹：%d\n", atom_boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n\n\n");
												printf("金币：%d\n", money);
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n", gong1n, gong2n, gong3n, gong4n, gong5n);
							printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10,万龙甲：%d个\n11，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n, strongman_arm);
							int pai, shu, i;
							scanf("%d", &pai);
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★\n\n 0,离开\n");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = big_strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = cl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n"); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											break;
										default:
											printf("输入错误\n\n\n");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");

											} else {
												printf("钱不够!\n");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									printf("再见，欢迎下次再来！\n");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n\n\n", gong1n, gong2n, gong3n, gong4n, gong5n);
					printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n);
					printf("选择要装备的武器或防具:\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								gong = gong1;
								strcpy(gongname, "匕首");
							} else printf("你没有匕首可以装备\n\n\n");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								gong = gong2;
								strcpy(gongname, "西洋剑");
							} else printf("你没有西洋剑可以装备\n\n\n");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (gong5n >= 1) {
								printf("拿起了皮卡大剑\n\n\n");
								gong = gong5;
								strcpy(gongname, "皮卡大剑");
							} else printf("你没有皮卡大剑可以装备\n\n\n");
							break;
						case 6:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 7:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 8:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 9:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 10:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.6.1版本的bug，我们在2.6.1的基础上进行修改，已修复该buy。新增了五千龙穴地图和对应的怪物装备，希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}

}
namespace dpcq2_7_1megai {
#include<stdio.h>
#include<ctime>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 4, 5, 3, 200, 100, 1, 2, 1, 0},
	  witch = {"森林兽人", "重甲", 2, 5, 1, 50, 50, 2, 2, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 1, 1, 5, 30, 35, 3, 3, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 4, 5, 2, 9992, 99919, 999994, 40, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 6, 3, 2, 9999200, 9999100, 5, 20, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 2, 1, 9, 9999950, 999950, 6, 20, 1, 1},
	  bee = {"草原剑客", "西洋剑", 1, 1, 6, 9999930, 999935, 7, 3, 20, 2},
	  shitu = {"幻象*凋零风暴*", "\0", 1, 8, 5, 10000999, 500999990, 0, 1, 1, 0},
	  pika = {"皮卡超人", "\0", 3, 4, 1000, 99992000, 9991000, 0, 0, 1, 0},
	  dapika = {"大皮卡超人", "皮卡大剑", 3, 9, 1, 39999000, 2099900, 8, 6, 6, 0},
	  cl = {"中华长龙", "\0", 4, 5, 2, 999999935, 92509990, 0, 0, 1, 0},
	  jl = {"东方金龙", "万龙甲", 8, 4, 500, 100009999, 5009990, 9, 6, 6, 1},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};

	int max_exp = 0;
	long long choose_number = 0, s = 0, strongman_arm = 9999999, battle = 0, money = 999999999, place_sign = 10;
	long int cao = 99999, jijiubao = 99999, baiyao = 3999999, superbaiyao = 3999999, miansi = 199999, boom = 399999, dubiao = 299999, atom_boom = 1999999;
	long int fang = 0, fang1 = 10, fang1n = 90, fang2 = 20, fang2n = 90, fang3 = 40, fang3n = 90, fang4 = 100, fang4n = 90, fang5 = 200, fang5n = 90;
	long int gong = 0, gong1 = 8, gong1n = 90, gong2 = 15, gong2n = 90, gong3 = 25, gong3n = 90, gong4 = 60, gong4n = 90, gong5 = 100, gong5n = 90;
	long int jingyancao = 99990, jingyanbao = 990, jingyanshi = 99990;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();
	void ChooseWupin();
	void DisplayState();
	void OrdinaryAct();
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {

		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("--------------------------欢迎来到 [苍穹世界] 2.7.1 测试版-----------------------\n\n\n");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 雅莉萨斯国的罗茜公主被陌生人绑架了!\n\n\n 伟大的勇者啊~拿起你们的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的圣剑血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999999999999;
			player.defense = 99999999999999999999999999999999999999999999;
			player.health = 9999999999999999999999999999999999999999999999;
			player.max_health = 999999999999999999999999999999999999999999999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi);
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加60\n\n\n");
					cao--;
					if (player.health + 60 > player.max_health)player.health = player.max_health;
					else player.health += 60;
				} else printf("没有止血草了\n\n\n");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加80\n\n\n");
					jijiubao--;
					if (player.health + 80 > player.max_health)player.health = player.max_health;
					else player.health += 80;
				} else printf("没有急救包了\n\n\n");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加120\nz\n\n");
					baiyao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有云南白药了\n\n\n");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加200\n\n\n");
					superbaiyao--;
					if (player.health + 200 > player.max_health)player.health = player.max_health;
					else player.health += 200;
				} else printf("没有超级云南白药了\n\n\n");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1000\n\n\n");
						atom_boom--;
						guai.health -= 1000;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 100) {

					printf("使用经验草,等级增加3级\n\n\n");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 1000) {
					if (player.level > 97 && player.level < 1000) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 100) {
					if (player.level > 92 && player.level < 100) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用经验石,等级增加10级\n");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 100) {
					if (player.level > 829999 && player.level < 100999) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "幻象*凋零风暴*") == 0) {
				printf("你把公主救了出来\n\n你可以在主页面退出\n\n");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 0,退出游戏\n\n\n");
			puts("=============================================================================");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										printf("金币：%d", money);
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										printf("金币：%d\n", money);
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									break;
								default:
									printf("hotel talk error!\n\n\n");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												printf("匕首:%d个\n", gong1n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												printf("西洋剑:%d个\n", gong2n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												printf("碧血战锤:%d个\n", gong3n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												printf("布衣:%d个\n", fang1n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												printf("铁甲:%d个\n", fang2n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												printf("重甲:%d个\n", fang3n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											break;

									}
									printf("金币：%d\n", money);
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												printf("手雷：%d\n", boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												printf("毒镖：%d\n", dubiao);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom <= 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												printf("手抛式原子弹：%d\n", atom_boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n\n\n");
												printf("金币：%d\n", money);
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n", gong1n, gong2n, gong3n, gong4n, gong5n);
							printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10,万龙甲：%d个\n11，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n, strongman_arm);
							int pai, shu, i;
							scanf("%d", &pai);
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★\n\n 0,离开\n");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = big_strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = cl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n"); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											break;
										default:
											printf("输入错误\n\n\n");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");

											} else {
												printf("钱不够!\n");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									printf("再见，欢迎下次再来！\n");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n\n\n", gong1n, gong2n, gong3n, gong4n, gong5n);
					printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n);
					printf("选择要装备的武器或防具:\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								gong = gong1;
								strcpy(gongname, "匕首");
							} else printf("你没有匕首可以装备\n\n\n");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								gong = gong2;
								strcpy(gongname, "西洋剑");
							} else printf("你没有西洋剑可以装备\n\n\n");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (gong5n >= 1) {
								printf("拿起了皮卡大剑\n\n\n");
								gong = gong5;
								strcpy(gongname, "皮卡大剑");
							} else printf("你没有皮卡大剑可以装备\n\n\n");
							break;
						case 6:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 7:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 8:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 9:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 10:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，本团队时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.0版本的buy，我们在2.0的基础上进行修改，已修复该buy。并且新增了经验草等有助于升级的道具，希望大家喜欢。在这里要感谢离陌同学，他给了我们许多宝贵的建议，谢谢。\n");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}

}
namespace dpcq2_7_1pojie {
#include<stdio.h>
#include<ctime>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[20];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 2, 1, 0},
	  witch = {"森林兽人", "重甲", 25, 15, 100, 50, 50, 2, 2, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 3, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 2, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 2, 1, 1},
	  bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 3, 2, 2},
	  shitu = {"幻象*凋零风暴*", "\0", 4000, 80 * 8, 500 * 100, 10000, 5000, 0, 1, 1, 0},
	  pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 0, 1, 0},
	  dapika = {"大皮卡超人", "皮卡大剑", 350, 40 * 10, 1500, 3000, 2000, 8, 6, 6, 0},
	  cl = {"中华长龙", "\0", 450, 50 * 10, 2000, 3500, 2500, 0, 0, 1, 0},
	  jl = {"东方金龙", "万龙甲", 500, 40 * 20, 5000, 10000, 5000, 9, 6, 6, 1},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3, te1, te2, te3, te4;
	} place = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};

	int max_exp = 0;
	long long choose_number = 0, s = 0, strongman_arm = 9999999, battle = 0, money = 999999999, place_sign = 10;
	int cao = 99999, jijiubao = 99999, baiyao = 3999999, superbaiyao = 3999999, miansi = 199999, boom = 399999, dubiao = 299999, atom_boom = 1999999;
	int fang = 0, fang1 = 10, fang1n = 90, fang2 = 20, fang2n = 90, fang3 = 40, fang3n = 90, fang4 = 100, fang4n = 90, fang5 = 200, fang5n = 90;
	int gong = 0, gong1 = 8, gong1n = 90, gong2 = 15, gong2n = 90, gong3 = 25, gong3n = 90, gong4 = 60, gong4n = 90, gong5 = 100, gong5n = 90;
	int jingyancao = 99990, jingyanbao = 990, jingyanshi = 99990;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();
	void ChooseWupin();
	void DisplayState();
	void OrdinaryAct();
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {

		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("--------------------------欢迎来到 [苍穹世界] 2.7.1 测试版-----------------------\n\n\n");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 雅莉萨斯国的罗茜公主被陌生人绑架了!\n\n\n 伟大的勇者啊~拿起你们的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的圣剑血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 20;
			player.defense = 10;
			player.health = 100;
			player.max_health = 100;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi);
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加60\n\n\n");
					cao--;
					if (player.health + 60 > player.max_health)player.health = player.max_health;
					else player.health += 60;
				} else printf("没有止血草了\n\n\n");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加80\n\n\n");
					jijiubao--;
					if (player.health + 80 > player.max_health)player.health = player.max_health;
					else player.health += 80;
				} else printf("没有急救包了\n\n\n");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加120\nz\n\n");
					baiyao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有云南白药了\n\n\n");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加200\n\n\n");
					superbaiyao--;
					if (player.health + 200 > player.max_health)player.health = player.max_health;
					else player.health += 200;
				} else printf("没有超级云南白药了\n\n\n");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1000\n\n\n");
						atom_boom--;
						guai.health -= 1000;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 50000) {

					printf("使用经验草,等级增加3级\n\n\n");
					jingyancao--;
					player.max_health = player.max_health + 20 * 500;
					player.attack += 3 * 500;
					player.defense += 2 * 500;
					player.level += 500;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
				} else printf("等级超过50000级,修为太高，无法使用。\n\n\n");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 99999000) {
					if (player.level > 0 && player.level < 99999000) {
						int sheng;
						sheng = 5000;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 100) {
					if (player.level > 92 && player.level < 100) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用经验石,等级增加10级\n");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 100) {
					if (player.level > 829999 && player.level < 100999) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "幻象*凋零风暴*") == 0) {
				printf("你把公主救了出来\n\n你可以在主页面退出\n\n");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			case 8:
				gong5n++;
				break;
			case 9:
				fang5n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 0,退出游戏\n\n\n");
			puts("=============================================================================");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										printf("金币：%d", money);
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										printf("金币：%d\n", money);
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									break;
								default:
									printf("hotel talk error!\n\n\n");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												printf("匕首:%d个\n", gong1n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												printf("西洋剑:%d个\n", gong2n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												printf("碧血战锤:%d个\n", gong3n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												printf("布衣:%d个\n", fang1n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												printf("铁甲:%d个\n", fang2n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												printf("重甲:%d个\n", fang3n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											break;

									}
									printf("金币：%d\n", money);
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												printf("手雷：%d\n", boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												printf("毒镖：%d\n", dubiao);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom <= 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												printf("手抛式原子弹：%d\n", atom_boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n\n\n");
												printf("金币：%d\n", money);
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n", gong1n, gong2n, gong3n, gong4n, gong5n);
							printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10,万龙甲：%d个\n11，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n, strongman_arm);
							int pai, shu, i;
							scanf("%d", &pai);
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong5n >= shu) {
										gong5n = gong5n - shu;
										money = money + shu * 3000;
										printf("皮卡大剑：%d\n", gong5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 9:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 10:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang5n >= shu) {
										fang5n = fang5n - shu;
										money = money + shu * 3000;
										printf("万龙甲：%d\n", fang5n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 11:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★\n\n 8,五千龙穴 危险程度：★★★★★★\n\n 0,离开\n");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = big_strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 8:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = cl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											battle = 1;
											guai = jl;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n"); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											break;
										default:
											printf("输入错误\n\n\n");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");

											} else {
												printf("钱不够!\n");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									printf("再见，欢迎下次再来！\n");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个 5,皮卡大剑：%d个\n\n\n", gong1n, gong2n, gong3n, gong4n, gong5n);
					printf("防御装备: 6,布衣:%d个 7,铁甲:%d个 8,重甲:%d个 9,传说圣甲:%d个 10万龙甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, fang5n);
					printf("选择要装备的武器或防具:\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								gong = gong1;
								strcpy(gongname, "匕首");
							} else printf("你没有匕首可以装备\n\n\n");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								gong = gong2;
								strcpy(gongname, "西洋剑");
							} else printf("你没有西洋剑可以装备\n\n\n");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (gong5n >= 1) {
								printf("拿起了皮卡大剑\n\n\n");
								gong = gong5;
								strcpy(gongname, "皮卡大剑");
							} else printf("你没有皮卡大剑可以装备\n\n\n");
							break;
						case 6:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 7:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 8:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 9:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 10:
							if (fang5n >= 1) {
								printf("穿上了万龙甲\n\n\n");
								fang = fang5;
								strcpy(fangname, "万龙甲");
							} else printf("你没有万龙甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，本团队时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.0版本的buy，我们在2.0的基础上进行修改，已修复该buy。并且新增了经验草等有助于升级的道具，希望大家喜欢。在这里要感谢离陌同学，他给了我们许多宝贵的建议，谢谢。\n");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}

}
namespace dpcq2_6_1 {
#include<stdio.h>
#include<ctime>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[12];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 2, 1, 0},
	  witch = {"森林兽人", "重甲", 25, 15, 100, 50, 50, 2, 2, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 3, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 2, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 2, 1, 1},
	  bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 3, 2, 2},
	  shitu = {"幻象*凋零风暴*", "\0", 400, 30 * 8, 500 * 10, 10000, 100000, 9, 1, 1, 0},
	  pika = {"皮卡超人", "\0", 300, 40 * 8, 1000, 2000, 1000, 0, 1, 1, 0},
	  dapika = {"大皮卡超人", "\0", 350, 40 * 10, 1500, 3000, 2000, 0, 1, 1, 0},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3;
	} place = {1, 2, 3, 4, 5, 6, 7, 8};

	int max_exp = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 10;
	int cao = 3, jijiubao = 2, baiyao = 2, superbaiyao = 1, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0;
	int gong = 0, gong1 = 8, gong1n = 0, gong2 = 15, gong2n = 0, gong3 = 25, gong3n = 0, gong4 = 60, gong4n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();
	void ChooseWupin();
	void DisplayState();
	void OrdinaryAct();
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {

		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("--------------------------欢迎来到 [苍穹世界] 2.6.1 测试版-----------------------\n\n\n");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 雅莉萨斯国的罗茜公主被陌生人绑架了!\n\n\n 伟大的勇者啊~拿起你们的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的圣剑血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999;
			player.defense = 999;
			player.health = 9999;
			player.max_health = 9999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi);
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加60\n\n\n");
					cao--;
					if (player.health + 60 > player.max_health)player.health = player.max_health;
					else player.health += 60;
				} else printf("没有止血草了\n\n\n");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加80\n\n\n");
					jijiubao--;
					if (player.health + 80 > player.max_health)player.health = player.max_health;
					else player.health += 80;
				} else printf("没有急救包了\n\n\n");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加120\nz\n\n");
					baiyao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有云南白药了\n\n\n");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加200\n\n\n");
					superbaiyao--;
					if (player.health + 200 > player.max_health)player.health = player.max_health;
					else player.health += 200;
				} else printf("没有超级云南白药了\n\n\n");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1000\n\n\n");
						atom_boom--;
						guai.health -= 1000;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 100) {

					printf("使用经验草,等级增加3级\n\n\n");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 1000) {
					if (player.level > 97 && player.level < 1000) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 100) {
					if (player.level > 92 && player.level < 100) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用经验石,等级增加10级\n");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 100) {
					if (player.level > 82 && player.level < 100) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "幻象*凋零风暴*") == 0) {
				printf("你把公主救了出来\n\n你可以在主页面退出\n\n");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 0,退出游戏\n\n\n");
			puts("=============================================================================");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										printf("金币：%d", money);
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										printf("金币：%d\n", money);
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									break;
								default:
									printf("hotel talk error!\n\n\n");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												printf("匕首:%d个\n", gong1n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												printf("西洋剑:%d个\n", gong2n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												printf("碧血战锤:%d个\n", gong3n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												printf("布衣:%d个\n", fang1n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												printf("铁甲:%d个\n", fang2n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												printf("重甲:%d个\n", fang3n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											break;

									}
									printf("金币：%d\n", money);
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												printf("手雷：%d\n", boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												printf("毒镖：%d\n", dubiao);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom <= 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												printf("手抛式原子弹：%d\n", atom_boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n\n\n");
												printf("金币：%d\n", money);
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个\n", gong1n, gong2n, gong3n, gong4n);
							printf("防御装备: 5,布衣:%d个 6,铁甲:%d个 7,重甲:%d个 8,传说圣甲:%d个\n9，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, strongman_arm);
							int pai, shu, i;
							scanf("%d", &pai);
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,皮卡超人游乐场 危险程度★★★★★\n\n 7,花朵宫殿 危险程度：★★★★★\n\n 0,离开\n");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = big_strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = pika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = dapika;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 7:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n"); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加酒80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											break;
										default:
											printf("输入错误\n\n\n");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");

											} else {
												printf("钱不够!\n");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									printf("再见，欢迎下次再来！\n");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个\n\n\n", gong1n, gong2n, gong3n, gong4n);
					printf("防御装备: 5,布衣:%d个 6,铁甲:%d个 7,重甲:%d个 8,传说圣甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n);
					printf("选择要装备的武器或防具:\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								gong = gong1;
								strcpy(gongname, "匕首");
							} else printf("你没有匕首可以装备\n\n\n");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								gong = gong2;
								strcpy(gongname, "西洋剑");
							} else printf("你没有西洋剑可以装备\n\n\n");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 6:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 7:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 8:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，本团队时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.0版本的buy，我们在2.0的基础上进行修改，已修复该buy。并且新增了经验草等有助于升级的道具，希望大家喜欢。在这里要感谢离陌同学，他给了我们许多宝贵的建议，谢谢。\n");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}

}
namespace dpcq2_5_1 {
#include<stdio.h>
#include<ctime>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[12];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "传说圣甲", 40, 50, 350, 200, 100, 1, 2, 1, 0},
	  witch = {"森林兽人", "重甲", 25, 15, 100, 50, 50, 2, 2, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 3, 2, 2},
	  big_strongman = {"熔岩巨龙", "巨龙晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"皇家士兵", "尚方宝剑", 60, 30, 280, 200, 100, 5, 2, 1, 0},
	  horse = {"草原独眼巨人", "碧血战锤", 28, 12, 90, 50, 50, 6, 2, 1, 1},
	  bee = {"草原剑客", "西洋剑", 17, 11, 60, 30, 35, 7, 3, 2, 2},
	  shitu = {"幻象*凋零风暴*", "\0", 400, 30 * 8, 500 * 10, 10000, 100000, 9, 1, 1, 0},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3;
	} place = {1, 2, 3, 4, 5, 6, 7, 8};

	int max_exp = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 9;
	int cao = 3, jijiubao = 2, baiyao = 2, superbaiyao = 1, miansi = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0;
	int gong = 0, gong1 = 8, gong1n = 0, gong2 = 15, gong2n = 0, gong3 = 25, gong3n = 0, gong4 = 60, gong4n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();
	void ChooseWupin();
	void DisplayState();
	void OrdinaryAct();
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {

		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("--------------------------欢迎来到 [苍穹世界] 2.5 测试版-----------------------\n\n\n");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 雅莉萨斯国的罗茜公主被陌生人绑架了!\n\n\n 伟大的勇者啊~拿起你们的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的圣剑血统啊!你终于觉醒了!\n\n\nzty，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999;
			player.defense = 999;
			player.health = 9999;
			player.max_health = 9999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨龙晶石%d个 12,免死金牌%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm, miansi);
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加60\n\n\n");
					cao--;
					if (player.health + 60 > player.max_health)player.health = player.max_health;
					else player.health += 60;
				} else printf("没有止血草了\n\n\n");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加80\n\n\n");
					jijiubao--;
					if (player.health + 80 > player.max_health)player.health = player.max_health;
					else player.health += 80;
				} else printf("没有急救包了\n\n\n");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加120\nz\n\n");
					baiyao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有云南白药了\n\n\n");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加200\n\n\n");
					superbaiyao--;
					if (player.health + 200 > player.max_health)player.health = player.max_health;
					else player.health += 200;
				} else printf("没有超级云南白药了\n\n\n");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少1000\n\n\n");
						atom_boom--;
						guai.health -= 1000;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 100) {

					printf("使用经验草,等级增加3级\n\n\n");
					jingyancao--;
					player.max_health = player.max_health + 60;
					player.attack += 9;
					player.defense += 6;
					player.level += 3;
					player.health = player.max_health;
					printf("等级：%d\n", player.level);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 1000) {
					if (player.level > 97 && player.level < 1000) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						jingyanbao--;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验包,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {

						printf("使用经验包,等级增加5级\n\n\n");
						jingyanbao--;
						player.max_health = player.max_health + 100;
						player.attack += 15;
						player.defense += 10;
						player.level += 5;
						player.health = player.max_health;
						printf("等级：%d\n", player.level);
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 100) {
					if (player.level > 92 && player.level < 100) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health += sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用经验石,等级增加%d级\n", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用经验石,等级增加10级\n");
						jingyanshi--;
						player.max_health = player.max_health + 200;
						player.attack += 30;
						player.defense += 20;
						player.level += 10;
						player.health = player.max_health;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 100) {
					if (player.level > 82 && player.level < 100) {
						int sheng;
						sheng = 100 - player.level;
						player.level += sheng;
						player.max_health = player.max_health + sheng * 20;
						player.attack += sheng * 3;
						player.defense += sheng * 2;
						player.health = player.max_health;
						printf("使用巨龙晶石,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用巨龙晶石,等级增加20级\n\n\n");
						strongman_arm--;
						player.max_health = player.max_health + 400;
						player.attack += 60;
						player.defense += 40;
						player.health += 999999;
						player.level += 20;
						printf("等级：%d\n", player.level);
					}
				} else if (strongman_arm < 1) {
					printf("没有巨龙晶石了。\n\n\n");
				} else printf("等级超过100级,修为太高，无法使用。\n\n\n");
				break;
			case 12:
				if (miansi > 0) {
					printf("使用免死金牌,HP满\n\n\n");
					miansi--;
					if (player.health + 999999 > player.max_health)player.health = player.max_health;
					else player.health += 999999;
				} else printf("没有免死金牌了\n\n\n");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}
	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "幻象*凋零风暴*") == 0) {
				printf("你把公主救了出来\n\n你可以在主页面退出\n\n");

			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm++;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 0,退出游戏\n\n\n");
			puts("=============================================================================");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					printf("1,小郑子酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 <= 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										printf("金币：%d", money);
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										printf("金币：%d\n", money);
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									break;
								default:
									printf("hotel talk error!\n\n\n");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，西洋剑￥500 3，碧血战锤￥1000\n\n\n");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												printf("匕首:%d个\n", gong1n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("西洋剑+1\n");
												printf("西洋剑:%d个\n", gong2n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血战锤+1\n");
												printf("碧血战锤:%d个\n", gong3n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，重甲￥1000\n\n\n");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												printf("布衣:%d个\n", fang1n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												printf("铁甲:%d个\n", fang2n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("重甲+1\n");
												printf("重甲:%d个\n", fang3n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											break;

									}
									printf("金币：%d\n", money);
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												printf("手雷：%d\n", boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 9999999) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												printf("毒镖：%d\n", dubiao);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
											break;
										case 3:
											if (money >= 1000 && atom_boom <= 5) {
												atom_boom = atom_boom + 1;
												money = money - 1000;
												printf("手抛式原子弹+1\n");
												printf("手抛式原子弹：%d\n", atom_boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n\n\n");
												printf("金币：%d\n", money);
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个\n", gong1n, gong2n, gong3n, gong4n);
							printf("防御装备: 5,布衣:%d个 6,铁甲:%d个 7,重甲:%d个 8,传说圣甲:%d个\n9，巨龙晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, strongman_arm);
							int pai, shu, i;
							scanf("%d", &pai);
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("西洋剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血战锤：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("尚方宝剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("重甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang4n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("传说圣甲：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 4000;
										printf("巨龙晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,花朵宫殿 危险程度：★★★★★\n\n 0,离开\n");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = big_strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm >= 1) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨龙晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨龙晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n"); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,伏特加酒80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											break;
										default:
											printf("输入错误\n\n\n");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 10) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 10) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 10) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");

											} else {
												printf("钱不够!\n");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money - 500;
												printf ("经验石+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									printf("再见，欢迎下次再来！\n");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,西洋剑:%d个 3,碧血战锤:%d个 4,尚方宝剑:%d个\n\n\n", gong1n, gong2n, gong3n, gong4n);
					printf("防御装备: 5,布衣:%d个 6,铁甲:%d个 7,重甲:%d个 8,传说圣甲:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n);
					printf("选择要装备的武器或防具:\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								gong = gong1;
								strcpy(gongname, "匕首");
							} else printf("你没有匕首可以装备\n\n\n");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了西洋剑\n\n\n");
								gong = gong2;
								strcpy(gongname, "西洋剑");
							} else printf("你没有西洋剑可以装备\n\n\n");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血战锤\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血战锤");
							} else printf("你没有碧血战锤可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了尚方宝剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "尚方宝剑");
							} else printf("你没有尚方宝剑可以装备\n\n\n");
							break;
						case 5:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 6:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 7:
							if (fang3n >= 1) {
								printf("穿上了重甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "重甲");
							} else printf("你没有重甲可以装备\n\n\n");
							break;
						case 8:
							if (fang4n >= 1) {
								printf("穿上了传说圣甲\n\n\n");
								fang = fang4;
								strcpy(fangname, "传说圣甲");
							} else printf("你没有传说圣甲可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty ”（不包括双引号）。由于2.4.1版本的buy，我们在2.4.1的基础上进行修改，已修复该buy。并且新增了经验草等有助于升级的道具，希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}

}
namespace dpcq2_2_1 {
#include<stdio.h>
#include<ctime>
#include<time.h> //suiji
#include<windows.h> //SLEEP函数
	struct Player { //玩家结构体，并初始化player
		char name[21];
		int attack;
		int defense;
		int health;
		long int max_health;
		int level;
		int exp;
		int range_exp;
		long int max_exp;
	} player = {"勇者", 50, 40, 100, 100, 1, 0, 0, 100};
	struct Enemy { //怪的结构体,并初始化各种怪
		char name[20];
		char wupin[12];
		int attack;
		int defense;
		int health;
		int money;
		long int exp;
		int wupin_sign;
		int wupinpro;
		int double_attack;
		int miss;
	} strongman = {"森林巨人", "黄金圣衣", 40, 50, 350, 200, 100, 1, 2, 1, 0},
	  witch = {"森林女巫", "银甲", 25, 15, 100, 50, 50, 2, 2, 1, 1},
	  xiyi = {"森林蜥蜴", "铁甲", 18, 10, 50, 30, 35, 3, 3, 2, 2},
	  big_strongman = {"森林巨人王", "巨人晶石", 40 * 5, 50 * 5, 200 * 5, 200 * 5, 100 * 5, 4, 4, 2, 0},
	  lion = {"草原雄狮", "绝世好剑", 60, 30, 280, 200, 100, 5, 2, 1, 0},
	  horse = {"草原野马", "碧血剑", 28, 12, 90, 50, 50, 6, 2, 1, 1},
	  bee = {"草原黄蜂", "长剑", 17, 11, 60, 30, 35, 7, 3, 2, 2},
	  shitu = {"使徒", "\0", 60 * 8, 30 * 8, 280 * 8, 200 * 8, 100 * 8, 9, 1, 1, 0},
	  guai = {"\0", "\0", 0, 0, 0, 0, 0, 0, 0, 0, 0};
	struct Place {
		int bar, hotel, forest1, forest2, forest3, grass1, grass2, grass3;
	} place = {1, 2, 3, 4, 5, 6, 7, 8};

	int max_exp = 0;
	int choose_number = 0, s = 0, strongman_arm = 0, battle = 0, money = 500, place_sign = 9;
	int cao = 3, jijiubao = 2, baiyao = 2, superbaiyao = 1, boom = 3, dubiao = 2, atom_boom = 1;
	int fang = 0, fang1 = 10, fang1n = 0, fang2 = 20, fang2n = 0, fang3 = 40, fang3n = 0, fang4 = 100, fang4n = 0;
	int gong = 0, gong1 = 8, gong1n = 0, gong2 = 15, gong2n = 0, gong3 = 25, gong3n = 0, gong4 = 60, gong4n = 0;
	int jingyancao = 0, jingyanbao = 0, jingyanshi = 0;
	char gongname[20] = "无", fangname[20] = "无";
	char proof;

	void AddWupin(int);
	int AttackResult();
	void BattleAct();
	void ChooseWupin();
	void DisplayState();
	void OrdinaryAct();
	int SuiJi();
	int SuiJi100();
	void WhetherLevelUp();
	void SlowDisplay(char *);

	int main() {

		int i = 0, j = 0, k = 0;
		char player_name[21];
		Sleep(1000);
		printf("--------------------------欢迎来到 [苍穹世界] 2.2.1 正式版-----------------------\n\n\n");
//如果想使用外挂，名字请输入：“zty ”。
		Sleep(1000);
		printf("这里是苍穹世界! 雅莉萨斯国的罗茜公主被陌生人绑架了!\n\n\n 伟大的勇者啊~拿起你们的武器,营救公主!\n\n\n输入你的名字: (20个字符)\n\n\n");
		scanf("%s", player_name);
		strncpy(player.name, player_name, 20);
		if (strcmp(player.name, "zty") == 0) {
			printf("\n\n\n封印多年的圣剑血统啊!你终于觉醒了!\n\n\n圣战斗士，你成为了天选之人，请你救出公主吧！\n\n\n");
			player.attack = 999;
			player.defense = 999;
			player.health = 9999;
			player.max_health = 9999;
		}
		getchar();

		OrdinaryAct();
		return 0;
	}

	int SuiJi() {
		srand((unsigned)time(NULL));
		return rand() % 10;
	}

	int SuiJi100() {
		srand((unsigned)time(NULL));
		return rand() % 100;
	}

	void ChooseWupin() { //选择物品 并使用
		printf("物品: 1,止血草%d个 2,急救包%d个 3,云南白药%d个 4,超级云南白药%d个 5,手雷%d个 6,毒标%d个 7,手抛式原子弹%d个 8,经验草%d个 9,经验包%d个 10,经验石%d个 11,巨人晶石%d个 0,返回\n\n\n", cao, jijiubao, baiyao, superbaiyao, boom, dubiao, atom_boom, jingyancao, jingyanbao, jingyanshi, strongman_arm);
		switch (scanf("%d", &choose_number), choose_number) {
			case 1:
				if (cao > 0) {
					printf("使用止血草,HP增加60\n\n\n");
					cao--;
					if (player.health + 60 > player.max_health)player.health = player.max_health;
					else player.health += 60;
				} else printf("没有止血草了\n\n\n");
				break;
			case 2:
				if (jijiubao > 0) {
					printf("使用急救包,HP增加80\n\n\n");
					jijiubao--;
					if (player.health + 80 > player.max_health)player.health = player.max_health;
					else player.health += 80;
				} else printf("没有急救包了\n\n\n");
				break;
			case 3:
				if (baiyao > 0) {
					printf("使用云南白药,HP增加120\nz\n\n");
					baiyao--;
					if (player.health + 120 > player.max_health)player.health = player.max_health;
					else player.health += 120;
				} else printf("没有云南白药了\n\n\n");
				break;
			case 4:
				if (superbaiyao > 0) {
					printf("使用超级云南白药,HP增加200\n\n\n");
					superbaiyao--;
					if (player.health + 200 > player.max_health)player.health = player.max_health;
					else player.health += 200;
				} else printf("没有超级云南白药了\n\n\n");
				break;
			case 5:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (boom > 0) {
						printf("使用手雷,敌人HP减少100\n\n\n");
						boom--;
						guai.health -= 100;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手雷!\n\n\n");
				break;
			case 6:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (dubiao > 0) {
						printf("使用毒标,敌人HP减少200\n\n\n");
						dubiao--;
						guai.health -= 200;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用毒标!\n\n\n");
				break;
			case 7:
				if (battle) { //在战斗中(battle=1),否则(battle=0)不能使用攻击性物品
					if (atom_boom > 0) {
						printf("使用手抛式原子弹,敌人HP减少666666666\n\n\n");
						atom_boom--;
						guai.health -= 666666666;
						AttackResult();
					}
				} else printf("非战斗状态,不能使用手抛式原子弹!\n\n\n");
				break;
			case 8:
				if (jingyancao > 0 && player.level < 1000) {

					printf("使用经验草,等级增加10级\n\n\n");
					jingyancao--;
					player.level += 10;
					printf("等级：%d\n", player.level);
				} else    if (jingyancao < 1) {
					printf("没有经验草了\n\n\n");
				} else printf("等级超过45级,修为太高，无法使用。\n\n\n");
				break;
			case 9:
				if (jingyanbao > 0 && player.level < 1000) {
					if (player.level > 44 && player.level < 1000) {
						int sheng;
						sheng = 45 - player.level;
						player.level += sheng;
						printf("使用经验包,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {

						printf("使用经验包,等级增加2级\n\n\n");
						jingyanbao--;
						player.level += 2;
						printf("等级：%d\n", player.level);
					}
				} else if (jingyanbao < 1) {
					printf("没有经验包了");
				} else printf("等级超过45级,修为太高，无法使用。\n\n\n");
				break;
			case 10:
				if (jingyanshi > 0 && player.level < 1000) {
					if (player.level > 42 && player.level < 1000) {
						int sheng;
						sheng = 45 - player.level;
						player.level += sheng;
						printf("使用经验石,等级增加%d级\n", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用经验石,等级增加10级\n");
						jingyanshi--;
						player.level += 10;
					}
				} else if (jingyanshi < 1) {
					printf("没有经验石了\n\n\n");
				} else printf("等级超过45级,修为太高，无法使用。\n\n\n");
				break;
			case 11:
				if (strongman_arm > 0 && player.level < 10000) {
					if (player.level > 29 && player.level < 10000) {
						int sheng;
						sheng = 45 - player.level;
						player.level += sheng;
						printf("使用巨人晶石,等级增加%d级", sheng);
						printf("等级：%d\n", player.level);
					} else {
						printf("使用巨人晶石,等级增加16级\n\n\n");
						strongman_arm--;
						player.level += 16;
						printf("等级：%d\n", player.level);
					}
				} else if (strongman_arm < 1) {
					printf("没有巨人晶石了。\n\n\n");
				} else printf("等级超过45级,修为太高，无法使用。\n\n\n");
				break;
			case 0:
				break;
			default:
				printf("ChooseWupin error!\n\n\n");
		}
	}

	int AttackResult() { //攻击结果:判断是否获胜 是否获得物品 和 是否升级
		if (guai.health <= 0) {
			battle = 0;
			printf("战斗胜利!获得金币%d,经验%d\n\n\n", guai.money, guai.exp);
			player.exp += guai.exp;
			player.range_exp += guai.exp;
			money += guai.money;
			s = SuiJi();
			if (s < guai.wupinpro) {
				printf("从敌人尸骸中发现");
				printf("%s\n\n\n", guai.wupin);
				AddWupin(guai.wupin_sign);
			}
			WhetherLevelUp();
			if (strcmp(guai.name, "使徒") == 0) {
				printf("战斗胜利，救出公主！！！");
				getchar();
				getchar();
				exit(0);
			}
			return 1; //攻击有结果了返回1,否则返回0,用于判断是否继续做战斗行为
		} else {
			int s = SuiJi();

			if ((guai.attack + s - player.defense / 3) < 0) {
				player.health -= 1;
				printf("%s反击,你的HP减少了 1\n\n", guai.name);
			} else {
				player.health -= guai.attack + s - player.defense / 3;
				printf("%s反击,你的HP减少了%d\n\n", guai.name, guai.attack + s - player.defense / 3);
			}
			if (player.health < 0) {
				battle = 0;
				printf("%s战死!金币掉落%d\n\n\n", player.name, player.level * 500);
				money -= player.level * 500;
				player.health = player.max_health / 5;
				OrdinaryAct();//
				return 1;
			}
		}
		return 0;
	}
	void AddWupin(int wupin_sign) {

		switch (wupin_sign) {
			case 1:
				fang4n++;
				break;
			case 2:
				fang3n++;
				break;
			case 3:
				fang2n++;
				break;
			case 4:
				strongman_arm = 1;
				break;
			case 5:
				gong4n++;
				break;
			case 6:
				gong3n++;
				break;
			case 7:
				gong2n++;
				break;
			default:
				printf("AddWupin error\n\n\n");
		}

	}
	void WhetherLevelUp() {
		int i = 0, j = 0;
		int l1 = player.range_exp / 100;
		int l2 = player.range_exp / 300;
		int l3 = player.range_exp / 600;
		if (player.level <= 15 && l1 > 0) { //15级以下,经验足够 都满足则升级
			if (l1 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l1, 2 * l1, 20 * l1);
				player.exp = (player.exp + guai.exp) || player.exp - ((player.exp + guai.exp) || player.exp) % 100;
				player.attack += 3 * l1;
				player.defense += 2 * l1;
				player.max_health += 20 * l1;
				player.health = player.max_health;
				player.level += l1;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 100 * l1;
			}
		} else if (player.level <= 40 && l2 > 0) {
			if (l2 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l2, 2 * l2, 20 * l2);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l2;
				player.defense += 2 * l2;
				player.max_health += 20 * l2;
				player.health = player.max_health;
				player.level += l2;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 300 * l2;
			}
		} else if (l3 > 0) {
			if (l3 == 1) {
				printf("%s", player.name);
				printf(" 升级!\n\n\n攻击力+3, 防御力+2, HP上限+20\n\n\n");
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3;
				player.defense += 2;
				player.max_health += 20;
				player.health = player.max_health;
				player.level++;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600;
			} else {
				printf("好厉害!连升%d级!", l1);
				printf("攻击力+%d, 防御力+%d, HP上限+%d\n\n\n", 3 * l3, 2 * l3, 20 * l3);
				player.exp = player.exp + guai.exp - (player.exp + guai.exp) % 100;
				player.attack += 3 * l3;
				player.defense += 2 * l3;
				player.max_health += 20 * l3;
				player.health = player.max_health;
				player.level += l3;
				player.range_exp = 0;
				player.exp = player.max_exp;
				player.max_exp += 600 * l3;
			}
		}
	}
	void OrdinaryAct() { //正常行为菜单(移动,物品,对话,查看状态,装备,退出游戏)

		while (1) {
// \(1000);
// system("cls");
			puts("=============================================================================");
			printf("要做什么?\n\n\n 1,移动 2,道具 3,对话 4,查看状态 5,装备 6,关于游戏 0,退出游戏\n\n\n");
			puts("=============================================================================");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1: //显示移动菜单
					printf("要去哪里?\n\n\n");
					printf("1,happy酒吧 2,诺亚方舟酒店 3,北朝商会 4，红玉拍卖行 5，冒险荒野\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							place_sign = place.bar; //记录目前位置-酒吧
// OrdinaryAct();
							break;
						case 2:
							place_sign = place.hotel; //进入旅店
							printf("金币：%d", money);
							printf("要开房吗? 200个金币 1,是 0,否\n\n\n");
							choose_number = 1;
							switch (scanf("%d", &choose_number), choose_number) {
								case 1:
									if (money - 200 < 0) { //判断钱是否够
										printf("Sorry,你的钱不够~\n\n\n");
										printf("金币：%d", money);
									} else {
										printf("好好休息\nHP满\n第二天了\n\n");
										printf("金币：%d\n", money);
										money -= 200; //花费200住店费
										player.health = player.max_health; //体力满
									}
									break;
								case 0:
									printf("下次再来!\n\n\n");
									break;
								default:
									printf("hotel talk error!\n\n\n");
							}
							place_sign = 0;
							break;
						case 3:
							int yongju, gong, fang;
							printf("请问您要购买什么类型的物品？\n\n\n 1,攻击装备 2，防御装备 3,一次性伤害武器\n\n\n");
							scanf("%d", &yongju);
							switch (yongju) {
								case 1:
									printf("请问您要购买什么武器?\n\n\n 1,匕首￥300 2，长剑￥500 3，碧血剑￥1000\n\n\n");
									scanf("%d", &gong);
									switch (gong) {
										case 1:
											if (money >= 300) {
												gong1n++;
												money = money - 300;
												printf ("匕首+1\n");
												printf("匕首:%d个\n", gong1n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 2:
											if (money >= 500) {
												gong2n++;
												money = money - 500;
												printf ("长剑+1\n");
												printf("长剑:%d个\n", gong2n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										case 3:
											if (money >= 1000) {
												gong3n++;
												money = money - 1000;
												printf ("碧血剑+1\n");
												printf("碧血剑:%d个\n", gong3n);
												printf("金币：%d\n", money);
												break;
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
												break;
											}
										default:
											printf("对不起，我们只会打造以上武器。");
											break;

									}
									break;
								case 2:
									int fang;
									printf("请问您要购买什么防具?\n\n\n 1,布衣￥300 2，铁甲￥500 3，银甲￥1000\n\n\n");
									scanf("%d", &fang);
									switch (fang) {
										case 1:
											if (money >= 300) {
												fang1n++;
												money = money - 300;
												printf ("布衣+1\n");
												printf("布衣:%d个\n", fang1n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}

											break;
										case 2:
											if (money >= 500) {
												fang2n++;
												money = money - 500;
												printf ("铁甲+1\n");
												printf("铁甲:%d个\n", fang2n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 3:
											if (money >= 1000) {
												fang3n++;
												money = money - 1000;
												printf ("银甲+1\n");
												printf("银甲:%d个\n", fang3n);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
										default:
											printf("对不起，我们只会打造以上防具。");
											break;

									}
									printf("金币：%d\n", money);
									break;
								case 3:
									printf("请问您要购买什么一次性伤害武器？\n 1,手雷 2，毒镖 3，手抛式原子弹\n\n\n");
									int yi;
									scanf("%d", &yi);
									switch (yi) {
										case 1:
											if (money >= 300 && boom < 5) {
												boom++;
												money = money - 300;
												printf("手雷+1\n");
												printf("手雷：%d\n", boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d", money);
											}
											break;
										case 2:
											if (money >= 600 && dubiao < 4) {
												dubiao++;
												money = money - 600;
												printf("毒镖+1\n");
												printf("毒镖：%d\n", dubiao);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n");
												printf("金币：%d\n", money);
											}
											break;
										case 3:
											if (money >= 0 && atom_boom < 23333333333) {
												atom_boom = atom_boom + 233;
												money = money + 1500;
												printf("手抛式原子弹+2\n");
												printf("手抛式原子弹：%d\n", atom_boom);
												printf("金币：%d\n", money);
											} else {
												printf("钱不够!\n\n\n");
												printf("金币：%d\n", money);
											}

											break;
									}
							}
							break;
						case 4:
							printf ("欢迎您光临本拍卖行，请问您要卖什么东西？\n\n");
							printf("攻击装备: 1,匕首:%d个 2,长剑:%d个 3,碧血剑:%d个 4,绝世好剑:%d个\n", gong1n, gong2n, gong3n, gong4n);
							printf("防御装备: 5,布衣:%d个 6,铁甲:%d个 7,银甲:%d个 8,黄金圣衣:%d个\n9，巨人晶石:%d个 0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n, strongman_arm);
							int pai, shu, i;
							scanf("%d", &pai);
							switch (pai) {
								case 1:
									printf("请问您要出售几件？");
									scanf("%d", &shu);
									if (gong1n >= shu) {
										gong1n = gong1n - shu;
										money = money + shu * 240;
										printf("匕首：%d\n", gong1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 2:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong2n >= shu) {
										gong2n = gong2n - shu;
										money = money + shu * 400;
										printf("长剑：%d\n", gong2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 3:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong3n >= shu) {
										gong3n = gong3n - shu;
										money = money + shu * 800;
										printf("碧血剑：%d\n", gong3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 4:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (gong4n >= shu) {
										gong4n = gong4n - shu;
										money = money + shu * 1500;
										printf("绝世好剑：%d\n", gong4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 5:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang1n = fang1n - shu;
										money = money + shu * 240;
										printf("布衣：%d\n", fang1n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 6:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang2n >= shu) {
										fang2n = fang2n - shu;
										money = money + shu * 500;
										printf("铁甲：%d\n", fang2n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 7:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang3n >= shu) {
										fang3n = fang3n - shu;
										money = money + shu * 800;
										printf("银甲：%d\n", fang3n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
									break;
								case 8:
									printf("请问您要出售几件？\n");
									scanf("%d", &shu);
									if (fang1n >= shu) {
										fang4n = fang4n - shu;
										money = money + shu * 1500;
										printf("黄金圣衣：%d\n", fang4n);
										printf("金币：%d\n", money);
										break;
									} else {
										printf("装备数不够，无法出售！\n");
										break;
									}
								case 9:
									printf("请问您要出售几颗？");
									scanf("%d", &shu);
									if (strongman_arm >= shu) {
										strongman_arm = strongman_arm - shu;
										money = money + shu * 2000;
										printf("巨人晶石：%d\n", strongman_arm);
										printf("金币：%d\n", money);
									} else {
										printf("晶石数不够，无法出售！\n");
										break;
									}
									break;
								case 0:
									break;
									break;
								default:
									printf("没有该装备，无法出售！\n");
									break;
							}

							break;
						case 5:
							int yewai;
							while (1) {
								puts("=============================================================================");
								printf("要去哪冒险呢？");
								printf("\n\n 1,神秘沼泽 危险程度：★\n\n 2,星耀草原 危险程度：★\n\n 3,诡异森林 危险程度：★★★\n\n 4,荒漠矿场 危险程度：★★★\n\n 5,炽热炎洞 危险程度：★★★★\n\n 6,花朵宫殿 危险程度：★★★★★\n\n 0,离开\n");
								puts("=============================================================================");
								scanf("%d", &yewai);
								switch (yewai) {
									case 1:
										place_sign = place.forest1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = xiyi;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
//不用调用OAct函数,会自动执行OAct函数;
										}
										break;
									case 3:
										place_sign = place.forest2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = witch;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 5:
										place_sign = place.forest3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = big_strongman;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 2:
										place_sign = place.grass1;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = bee;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 4:
										place_sign = place.grass2;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = horse;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else {
											printf("这里安全\n\n\n");
										}
										break;
									case 6:
										place_sign = place.grass3;
										s = SuiJi();
										if (s < 7) {
											battle = 1;
											guai = lion;
											printf("%s扑了过来!\n\n\n", guai.name);
											BattleAct();
										} else if (s < 9) {
											battle = 1;
											if (strongman_arm) {
												printf("神秘老人:\n\n\n 哈哈,年轻人,做的不错,不过...嘿嘿,你上当啦!巨人晶石我要了,公主你也别想带走!\n\n\n");
												guai = shitu;
												printf("%s扑了过来!\n\n\n", guai.name);
												BattleAct();
											} else printf("神秘老人:\n\n\n 年轻人,你好啊.如果你有巨人晶石,我可以告诉你公主的下落哦~\n\n\n");
										} else {
											printf("这里安全\n\n\n");
										}
										break;
										if (yewai != 0) {
											printf("该区域为未知区域，无法进入。\n\n\n");
											break;
										}
								}
								if (yewai == 0) {
									break;
									printf("已离开荒野。");
								}
							}

					}
					break;

				case 2:
					ChooseWupin();
					break; //显示道具,并可以使用.
				case 3: //对话选项
					if (place_sign == place.bar) {
						printf("要和谁说话?\n\n\n1,红发女郎 2,赏金猎人 3,酒吧老板 4,药品商人\n\n\n"); //显示对话人物
						switch (scanf("%d", &choose_number), choose_number) {
							case 1:
								printf("红发女郎:\n\n\n 吧台边那个Hunter好帅啊!(~脸红~)\n\n\n听说他经常外出打猎,外面的路他应该很熟悉的!\n\n\n");
								break;
							case 2:
								if (fang1n < 1 && gong1n < 1) {
									printf("赏金猎人:\n\n\n 你要救公主啊!好胆量!\n\n\n 不过外面的世界很险恶,而且越深越危险,这是匕首和布衣,对你会有些帮助的,拿去吧!\n\n\n");
									printf("%s心想:哇,这位大叔人真好啊!\n\n\n)", player.name);
									gong1n++;
									fang1n++;
								} else printf("赏金猎人:\n\n\n 加油吧,年轻人!\n\n\n 不要被外面世界所吓倒!\n\n\n");
								break;
							case 3:
								printf("要喝点什么?\n\n\n 1,二锅头25金币 HP+20 2,XO酒80金币 HP+50 3,人头马面150金币 HP+100 0,返回\n\n\n");
								choose_number = 1;
								while (choose_number) {
									switch (scanf("%d", &choose_number), choose_number) {
										case 1:
											if (money < 25) {
												printf("钱不够!");
											} else {
												if (player.health + 20 <= player.max_health) {
													printf("HP+20.");
													money -= 25;
													player.health += 20;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 2:
											if (money < 80) {
												printf("钱不够!");
											} else {
												if (player.health + 50 <= player.max_health) {
													printf("HP+50.");
													money -= 80;
													player.health += 50;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 3:
											if (money < 150) {
												printf("钱不够!");
											} else {
												if (player.health + 100 <= player.max_health) {
													printf("HP+100.");
													money -= 150;
													player.health += 100;
												} else {
													printf("HP满了");
													player.health = player.max_health;
												}
											}
											break;
										case 0:
											printf("下次再来!\n");
											break;
										default:
											printf("输入错误\n\n\n");
											break;
									}
									break;
								}
								break;
							case 4:
								printf("你要干什么？\n\n\n 1，买东西 2，聊天 \n\n\n");
								int mai;
								scanf("%d", &mai);
								if (mai == 1) {
									printf("买点什么呢？\n1,止血草￥100 HP+60\n2，急救包￥150 HP+80 \n3，云南白药￥250 HP+120\n4，超级云南白药￥400 HP+200 \n5，经验草￥150 经验+300 \n6，经验包￥600 经验+600\n7，经验石￥500 经验+1000 \n0,拜拜\n");
									int dongxi;
									scanf("%d", &dongxi);
									switch (dongxi) {
										case 1:
											if (money >= 100 && cao < 6) {
												cao++;
												money = money - 100;
												printf ("止血草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 2:
											if (money >= 150 && jijiubao < 5) {
												jijiubao++;
												money = money - 150;
												printf ("急救包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 3:
											if (money >= 250 && baiyao < 4) {
												baiyao++;
												money = money - 250;
												printf ("云南白药+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 4:
											if (money >= 400 && superbaiyao < 3) {
												superbaiyao++;
												money = money - 400;
												printf ("超级云南白药+1\n");

											} else {
												printf("钱不够!\n");
											}
											break;
										case 5:
											if (money >= 150) {
												jingyancao++;
												money = money - 150;
												printf ("经验草+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 6:
											if (money >= 300) {
												jingyanbao++;
												money = money - 300;
												printf ("经验包+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
										case 7:
											if (money >= 500) {
												jingyanshi++;
												money = money + 500;
												printf ("经验石+1\n");
											} else {
												printf("钱不够!\n");
											}
											break;
									}
								case 0:
									printf("金币：%d\n", money);
									printf("再见，欢迎下次再来！\n");
									break;

								}
								if (mai == 2) {
									printf("药品商人：去去去，老子没时间陪你聊。\n");
								}
						}
					} else if (place_sign == place.hotel)
						printf("“老板娘!我...”\n\n\n“我忙着呢，没空理你~”\n\n\n");
					else printf("这里好像没人可以聊天\n\n\n");
					break;
				case 4:
					DisplayState();
					break; //显示状态
				case 5: //装备
					printf("攻击装备: 1,匕首:%d个 2,长剑:%d个 3,碧血剑:%d个 4,绝世好剑:%d个\n\n\n", gong1n, gong2n, gong3n, gong4n);
					printf("防御装备: 5,布衣:%d个 6,铁甲:%d个 7,银甲:%d个 8,黄金圣衣:%d个\t\t0,返回\n\n\n", fang1n, fang2n, fang3n, fang4n);
					printf("选择要装备的武器或防具:\n\n\n");
					switch (scanf("%d", &choose_number), choose_number) {
						case 1:
							if (gong1n >= 1) {
								printf("拿起了匕首\n\n\n");
								gong = gong1;
								strcpy(gongname, "匕首");
							} else printf("你没有匕首可以装备\n\n\n");
							break;
						case 2:
							if (gong2n >= 1) {
								printf("拿起了长剑\n\n\n");
								gong = gong2;
								strcpy(gongname, "长剑");
							} else printf("你没有长剑可以装备\n\n\n");
							break;
						case 3:
							if (gong3n >= 1) {
								printf("拿起了碧血剑\n\n\n");
								gong = gong3;
								strcpy(gongname, "碧血剑");
							} else printf("你没有碧血剑可以装备\n\n\n");
							break;
						case 4:
							if (gong4n >= 1) {
								printf("拿起了绝世好剑\n\n\n");
								gong = gong4;
								strcpy(gongname, "绝世好剑");
							} else printf("你没有绝世好剑可以装备\n\n\n");
							break;
						case 5:
							if (fang1n >= 1) {
								printf("穿上了布衣\n\n\n");
								fang = fang1;
								strcpy(fangname, "布衣");
							} else printf("你没有布衣可以装备\n\n\n");
							break;
						case 6:
							if (fang2 >= 1) {
								printf("穿上了铁甲\n\n\n");
								fang = fang2;
								strcpy(fangname, "铁甲");
							} else printf("你没有铁甲可以装备\n\n\n");
							break;
						case 7:
							if (fang3n >= 1) {
								printf("穿上了银甲\n\n\n");
								fang = fang3;
								strcpy(fangname, "银甲");
							} else printf("你没有银甲可以装备\n\n\n");
							break;
						case 8:
							if (fang4n >= 1) {
								printf("穿上了黄金圣衣\n\n\n");
								fang = fang4;
								strcpy(fangname, "黄金圣衣");
							} else printf("你没有黄金圣衣可以装备\n\n\n");
							break;
						case 0:
							printf("未更换装备\n\n\n");
							break;
						default:
							printf("change error!");
					}
					break;
				case 6:
					printf(" 您好，欢迎您玩苍穹世界。为了给您更好的游戏体验，zty时不时会优化本游戏，优化后会尽快发布在网上。关于外挂方面，开启外挂的方式是设定勇者姓名时，输入“zty”（不包括双引号）。由于2.0版本的buy，我们在2.0的基础上进行修改，已修复该buy。并且新增了经验草等有助于升级的道具，希望大家喜欢。在这里要感谢吴昊同学，他给了我们许多宝贵的建议，谢谢。\n");
					break;
				case 0:
					printf("确定退出游戏?(Y/N)\n\n\n");
					getchar();
					proof = getchar();
					if (proof == 'y' || proof == 'Y') {
						printf("数据存储中...");
//向文件中更新数据;
						getchar();
						printf("按回车退出");
						getchar();
						return;
					} else if (proof == 'n' || proof == 'N')printf("继续游戏!\n\n\n");
					else printf("继续!\n\n\n");
					break;
				default:
					printf("输入错误!\n\n\n");
			}
		}
	}
	void DisplayState() {
		printf("%s 攻击力:%d+%d=%d 防御力:%d+%d=%d HP:%d/%d \n\n\n", player.name, player.attack, gong, player.attack + gong, player.defense, fang, player.defense + fang, player.health, player.max_health);
		printf("武器: %s 防具: %s \n\n\n", gongname, fangname);
		printf("等级:%d 经验:%d/%d 还需要%d经验升级 金币:%d \n\n\n", player.level, player.exp, player.max_exp, player.max_exp - player.exp, money);
	}
	void BattleAct() {
		while (1) {
			puts("=============================================================================");
			printf("要怎么办?\n\n\n 1,攻击 2,物品 3,查看状态 4,逃跑\n\n\n");
			switch (scanf("%d", &choose_number), choose_number) {
				case 1:
					s = SuiJi();
					printf("%s攻击! %sHP减少%d\n\n\n", player.name, guai.name, player.attack + s + gong - guai.defense / 3);
					guai.health -= player.attack + s + gong - guai.defense / 3;
					if (AttackResult())return; //如果攻击有结果(敌人或玩家战死)退出函数
					else continue;
				case 2:
					ChooseWupin();
					break; //选择物品,可以使用,战斗中允许使用攻击性物品
				case 3:
					DisplayState();
					break; //显示状态
				case 4:
					s = SuiJi();
					if (s < 4) { //40%的概率可以逃跑
						printf("%s逃跑了~\n\n\n", player.name);
						battle = 0;
						return;
					} else printf("%s逃跑失败!\n\n\n", player.name);
					break;
				default:
					printf("输入错误,重新输入!\n\n\n");
			}
		}
	}
}
int main() {
A:
	int i;
	system("color 8E");
	system("cls");
	cout << "\n\n斗破苍穹启动器\n\n\t 1: 2.2.1\t 2: 2.5.1\t 3: 2.6.1\t 4: 2.7.1\n\t 5: 2.7.1(魔改)\t 6: 2.7.1(破解)\t 7: 2.7.2\t 8: 2.7.3\n\t 9: 2.7.4\t 10: 2.8.1\t 11: 2.8.2\t 12: 2.9.1\n\t 13: 2.10.1\t 14: 2.10.2\t 15: 2.10.3\t 16: 2.10.4\n\t 17: 2.10.5\t 18: 2.10.6\t 19: 2.11.1\t 20: 2.11.2\n\t 21: 2.11.3\t 22: 2.11.4\t 23: 2.11.5\t 24: 2.11.6\n\t 25: 2.11.7\t 26: 2.12.1\t 27: 2.12.2\t 28: 2.12.3\n";
	cin >> i;
	switch (i) {
		case 1:
			system("color 8E");
			system("cls");
			dpcq2_2_1 ::main();
			break;
		case 2:
			system("color 8E");
			system("cls");
			dpcq2_5_1 ::main();
			break;
		case 3:
			system("color 8E");
			system("cls");
			dpcq2_6_1 ::main();
			break;
		case 4:
			system("color 8E");
			system("cls");
			dpcq2_7_1 ::main();
			break;
		case 5:
			system("color 8E");
			system("cls");
			dpcq2_7_1megai ::main();
			break;
		case 6:
			system("color 8E");
			system("cls");
			dpcq2_7_1pojie ::main();
			break;
		case 7:
			system("color 8E");
			system("cls");
			dpcq2_7_2 ::main();
			break;
		case 8:
			system("color 8E");
			system("cls");
			dpcq2_7_3 ::main();
			break;
		case 9:
			system("color 8E");
			system("cls");
			dpcq2_7_4 ::main();
			break;
		case 10:
			system("color 8E");
			system("cls");
			dpcq2_8_1 ::main();
			break;
		case 11:
			system("color 8E");
			system("cls");
			dpcq2_8_2 ::main();
			break;
		case 12:
			system("color 8E");
			system("cls");
			dpcq2_9_1 ::main();
			break;
		case 13:
			system("color 8E");
			system("cls");
			dpcq2_10_1 ::main();
			break;
		case 14:
			system("color 8E");
			system("cls");
			dpcq2_10_2 ::main();
			break;
		case 15:
			system("color 8E");
			system("cls");
			dpcq2_10_3 ::main();
			break;
		case 16:
			system("color 8E");
			system("cls");
			dpcq2_10_4 ::main();
			break;
		case 17:
			system("color 8E");
			system("cls");
			dpcq2_10_4 ::main();
			break;
		case 18:
			system("color 8E");
			system("cls");
			dpcq2_10_6 ::main();
			break;
		case 19:
			system("color 8E");
			system("cls");
			dpcq2_11_1 ::main();
			break;
		case 20:
			system("color 8E");
			system("cls");
			dpcq2_11_2 ::main();
			break;

		case 21:
			system("color 8E");
			system("cls");
			dpcq2_11_3 ::main();
			break;
		case 22:
			system("color 8E");
			system("cls");
			dpcq2_11_4 ::main();
			break;
		case 23:
			system("color 8E");
			system("cls");
			dpcq2_11_5 ::main();
			break;
		case 24:
			system("color 8E");
			system("cls");
			dpcq2_11_6 ::main();
			break;
		case 25:
			system("color 8E");
			system("cls");
			dpcq2_11_7 ::main();
			break;
		case 26:
			system("color 8E");
			system("cls");
			dpcq2_12_1 ::main();
			break;
		case 27:
			system("color 8E");
			system("cls");
			dpcq2_12_2 ::main();
			break;
		case 28:
			system("color 8E");
			system("cls");
			dpcq2_12_3 ::main();
			break;


		default:
			goto A;
			break;
	}
	return 0;
}
